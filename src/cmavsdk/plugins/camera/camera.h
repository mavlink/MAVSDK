// WARNING: THIS FILE IS AUTOGENERATED! As such, it should not be edited.
// Edits need to be made to the proto files
// (see https://github.com/mavlink/MAVSDK-Proto/blob/main/protos/camera/camera.proto)

#ifndef CMAVSDK_CAMERA_H
#define CMAVSDK_CAMERA_H

#include <stddef.h>
#include <stdint.h>
#include <stdbool.h>
#include "cmavsdk/mavsdk_export.h"

#ifdef __cplusplus
extern "C" {
#endif

/**
 * @brief Can be used to manage cameras that implement the MAVLink
 * Camera Protocol: https://mavlink.io/en/protocol/camera.html.
 *
 * Currently only a single camera is supported.
 * When multiple cameras are supported the plugin will need to be
 * instantiated separately for every camera and the camera selected using
 * `select_camera`.
 */

// ===== Forward Declarations =====
typedef void* mavsdk_system_t;

// ===== Opaque Handles =====
typedef void* mavsdk_camera_t;
typedef void* mavsdk_camera_camera_list_handle_t;
typedef void* mavsdk_camera_mode_handle_t;
typedef void* mavsdk_camera_video_stream_info_handle_t;
typedef void* mavsdk_camera_capture_info_handle_t;
typedef void* mavsdk_camera_storage_handle_t;
typedef void* mavsdk_camera_current_settings_handle_t;
typedef void* mavsdk_camera_possible_setting_options_handle_t;

// ===== Enums =====
/**
 * @brief Camera mode type.
 */
typedef enum {
    /**  Unknown. */
    MAVSDK_CAMERA_MODE_UNKNOWN = 0,
    /**  Photo mode. */
    MAVSDK_CAMERA_MODE_PHOTO = 1,
    /**  Video mode. */
    MAVSDK_CAMERA_MODE_VIDEO = 2,
} mavsdk_camera_mode_t;

/**
 * @brief Photos range type.
 */
typedef enum {
    /**  All the photos present on the camera. */
    MAVSDK_CAMERA_PHOTOS_RANGE_ALL = 0,
    /**  Photos taken since MAVSDK got connected. */
    MAVSDK_CAMERA_PHOTOS_RANGE_SINCE_CONNECTION = 1,
} mavsdk_camera_photos_range_t;


// ===== Structs =====
/**
 * @brief Type to represent a setting option.
 *
 * @note This struct may contain dynamically allocated memory. Always call
 *       mavsdk_camera_option_destroy() when done to avoid memory leaks.
 */
typedef struct CMAVSDK_EXPORT {
    /**  Name of the option (machine readable) */
    char* option_id;
    /**  Description of the option (human readable) */
    char* option_description;
} mavsdk_camera_option_t;

/**
 * @brief Destroy a option struct.
 *
 * Frees all memory allocated by MAVSDK for this struct, including any
 * dynamically allocated arrays or strings. Must be called to avoid memory leaks.
 * Always call this function when done with the struct, even if it currently
 * contains no dynamic allocations.
 *
 * @param target Pointer to the struct to destroy. Can be NULL (no-op).
 */
CMAVSDK_EXPORT void mavsdk_camera_option_destroy(
    mavsdk_camera_option_t* target);

/**
 * @brief Destroy an array of option structs.
 *
 * Frees all memory allocated for the array and its elements, including any
 * nested dynamic allocations. Must be called to avoid memory leaks.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 * @param size Number of elements in the array.
 */
CMAVSDK_EXPORT void mavsdk_camera_option_array_destroy(
    mavsdk_camera_option_t** array,
    size_t size);

/**
 * @brief Type to represent a setting with a selected option.
 *
 * @note This struct may contain dynamically allocated memory. Always call
 *       mavsdk_camera_setting_destroy() when done to avoid memory leaks.
 */
typedef struct CMAVSDK_EXPORT {
    /**  Name of a setting (machine readable) */
    char* setting_id;
    /**  Description of the setting (human readable). This field is meant to be read from the drone, ignore it when setting. */
    char* setting_description;
    /**  Selected option */
    mavsdk_camera_option_t option;
    /**  If option is given as a range. This field is meant to be read from the drone, ignore it when setting. */
    bool is_range;
} mavsdk_camera_setting_t;

/**
 * @brief Destroy a setting struct.
 *
 * Frees all memory allocated by MAVSDK for this struct, including any
 * dynamically allocated arrays or strings. Must be called to avoid memory leaks.
 * Always call this function when done with the struct, even if it currently
 * contains no dynamic allocations.
 *
 * @param target Pointer to the struct to destroy. Can be NULL (no-op).
 */
CMAVSDK_EXPORT void mavsdk_camera_setting_destroy(
    mavsdk_camera_setting_t* target);

/**
 * @brief Destroy an array of setting structs.
 *
 * Frees all memory allocated for the array and its elements, including any
 * nested dynamic allocations. Must be called to avoid memory leaks.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 * @param size Number of elements in the array.
 */
CMAVSDK_EXPORT void mavsdk_camera_setting_array_destroy(
    mavsdk_camera_setting_t** array,
    size_t size);

/**
 * @brief Type to represent a setting with a list of options to choose from.
 *
 * @note This struct may contain dynamically allocated memory. Always call
 *       mavsdk_camera_setting_options_destroy() when done to avoid memory leaks.
 */
typedef struct CMAVSDK_EXPORT {
    /**  Component ID */
    int32_t component_id;
    /**  Name of the setting (machine readable) */
    char* setting_id;
    /**  Description of the setting (human readable) */
    char* setting_description;
    /**  List of options or if range [min, max] or [min, max, interval] */
    mavsdk_camera_option_t* options;
    size_t options_size;
    /**  If option is given as a range */
    bool is_range;
} mavsdk_camera_setting_options_t;

/**
 * @brief Destroy a setting_options struct.
 *
 * Frees all memory allocated by MAVSDK for this struct, including any
 * dynamically allocated arrays or strings. Must be called to avoid memory leaks.
 * Always call this function when done with the struct, even if it currently
 * contains no dynamic allocations.
 *
 * @param target Pointer to the struct to destroy. Can be NULL (no-op).
 */
CMAVSDK_EXPORT void mavsdk_camera_setting_options_destroy(
    mavsdk_camera_setting_options_t* target);

/**
 * @brief Destroy an array of setting_options structs.
 *
 * Frees all memory allocated for the array and its elements, including any
 * nested dynamic allocations. Must be called to avoid memory leaks.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 * @param size Number of elements in the array.
 */
CMAVSDK_EXPORT void mavsdk_camera_setting_options_array_destroy(
    mavsdk_camera_setting_options_t** array,
    size_t size);

/**
 * @brief Type for video stream settings.
 *
 * @note This struct may contain dynamically allocated memory. Always call
 *       mavsdk_camera_video_stream_settings_destroy() when done to avoid memory leaks.
 */
typedef struct CMAVSDK_EXPORT {
    /**  Frames per second */
    float frame_rate_hz;
    /**  Horizontal resolution (in pixels) */
    uint32_t horizontal_resolution_pix;
    /**  Vertical resolution (in pixels) */
    uint32_t vertical_resolution_pix;
    /**  Bit rate (in bits per second) */
    uint32_t bit_rate_b_s;
    /**  Video image rotation (clockwise, 0-359 degrees) */
    uint32_t rotation_deg;
    /**  Video stream URI */
    char* uri;
    /**  Horizontal fov in degrees */
    float horizontal_fov_deg;
} mavsdk_camera_video_stream_settings_t;

/**
 * @brief Destroy a video_stream_settings struct.
 *
 * Frees all memory allocated by MAVSDK for this struct, including any
 * dynamically allocated arrays or strings. Must be called to avoid memory leaks.
 * Always call this function when done with the struct, even if it currently
 * contains no dynamic allocations.
 *
 * @param target Pointer to the struct to destroy. Can be NULL (no-op).
 */
CMAVSDK_EXPORT void mavsdk_camera_video_stream_settings_destroy(
    mavsdk_camera_video_stream_settings_t* target);

/**
 * @brief Destroy an array of video_stream_settings structs.
 *
 * Frees all memory allocated for the array and its elements, including any
 * nested dynamic allocations. Must be called to avoid memory leaks.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 * @param size Number of elements in the array.
 */
CMAVSDK_EXPORT void mavsdk_camera_video_stream_settings_array_destroy(
    mavsdk_camera_video_stream_settings_t** array,
    size_t size);

/**
 * @brief Video stream status type.
 */
typedef enum {
    /**  Video stream is not running. */
    MAVSDK_CAMERA_VIDEO_STREAM_INFO_VIDEO_STREAM_STATUS_NOT_RUNNING = 0,
    /**  Video stream is running. */
    MAVSDK_CAMERA_VIDEO_STREAM_INFO_VIDEO_STREAM_STATUS_IN_PROGRESS = 1,
} mavsdk_camera_video_stream_info_video_stream_status_t;

/**
 * @brief Video stream light spectrum type
 */
typedef enum {
    /**  Unknown. */
    MAVSDK_CAMERA_VIDEO_STREAM_INFO_VIDEO_STREAM_SPECTRUM_UNKNOWN = 0,
    /**  Visible light. */
    MAVSDK_CAMERA_VIDEO_STREAM_INFO_VIDEO_STREAM_SPECTRUM_VISIBLE_LIGHT = 1,
    /**  Infrared. */
    MAVSDK_CAMERA_VIDEO_STREAM_INFO_VIDEO_STREAM_SPECTRUM_INFRARED = 2,
} mavsdk_camera_video_stream_info_video_stream_spectrum_t;

/**
 * @brief Information about the video stream.
 *
 * @note This struct may contain dynamically allocated memory. Always call
 *       mavsdk_camera_video_stream_info_destroy() when done to avoid memory leaks.
 */
typedef struct CMAVSDK_EXPORT {
    /**  Stream ID */
    int32_t stream_id;
    /**  Video stream settings */
    mavsdk_camera_video_stream_settings_t settings;
    /**  Current status of video streaming */
    mavsdk_camera_video_stream_info_video_stream_status_t status;
    /**  Light-spectrum of the video stream */
    mavsdk_camera_video_stream_info_video_stream_spectrum_t spectrum;
} mavsdk_camera_video_stream_info_t;

/**
 * @brief Destroy a video_stream_info struct.
 *
 * Frees all memory allocated by MAVSDK for this struct, including any
 * dynamically allocated arrays or strings. Must be called to avoid memory leaks.
 * Always call this function when done with the struct, even if it currently
 * contains no dynamic allocations.
 *
 * @param target Pointer to the struct to destroy. Can be NULL (no-op).
 */
CMAVSDK_EXPORT void mavsdk_camera_video_stream_info_destroy(
    mavsdk_camera_video_stream_info_t* target);

/**
 * @brief Destroy an array of video_stream_info structs.
 *
 * Frees all memory allocated for the array and its elements, including any
 * nested dynamic allocations. Must be called to avoid memory leaks.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 * @param size Number of elements in the array.
 */
CMAVSDK_EXPORT void mavsdk_camera_video_stream_info_array_destroy(
    mavsdk_camera_video_stream_info_t** array,
    size_t size);

/**
 * @brief An update about the current mode
 *
 * @note This struct may contain dynamically allocated memory. Always call
 *       mavsdk_camera_mode_update_destroy() when done to avoid memory leaks.
 */
typedef struct CMAVSDK_EXPORT {
    /**  Component ID */
    int32_t component_id;
    /**  Camera mode */
    mavsdk_camera_mode_t mode;
} mavsdk_camera_mode_update_t;

/**
 * @brief Destroy a mode_update struct.
 *
 * Frees all memory allocated by MAVSDK for this struct, including any
 * dynamically allocated arrays or strings. Must be called to avoid memory leaks.
 * Always call this function when done with the struct, even if it currently
 * contains no dynamic allocations.
 *
 * @param target Pointer to the struct to destroy. Can be NULL (no-op).
 */
CMAVSDK_EXPORT void mavsdk_camera_mode_update_destroy(
    mavsdk_camera_mode_update_t* target);

/**
 * @brief Destroy an array of mode_update structs.
 *
 * Frees all memory allocated for the array and its elements, including any
 * nested dynamic allocations. Must be called to avoid memory leaks.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 * @param size Number of elements in the array.
 */
CMAVSDK_EXPORT void mavsdk_camera_mode_update_array_destroy(
    mavsdk_camera_mode_update_t** array,
    size_t size);

/**
 * @brief An update about a video stream
 *
 * @note This struct may contain dynamically allocated memory. Always call
 *       mavsdk_camera_video_stream_update_destroy() when done to avoid memory leaks.
 */
typedef struct CMAVSDK_EXPORT {
    /**  Component ID */
    int32_t component_id;
    /**  Video stream info */
    mavsdk_camera_video_stream_info_t video_stream_info;
} mavsdk_camera_video_stream_update_t;

/**
 * @brief Destroy a video_stream_update struct.
 *
 * Frees all memory allocated by MAVSDK for this struct, including any
 * dynamically allocated arrays or strings. Must be called to avoid memory leaks.
 * Always call this function when done with the struct, even if it currently
 * contains no dynamic allocations.
 *
 * @param target Pointer to the struct to destroy. Can be NULL (no-op).
 */
CMAVSDK_EXPORT void mavsdk_camera_video_stream_update_destroy(
    mavsdk_camera_video_stream_update_t* target);

/**
 * @brief Destroy an array of video_stream_update structs.
 *
 * Frees all memory allocated for the array and its elements, including any
 * nested dynamic allocations. Must be called to avoid memory leaks.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 * @param size Number of elements in the array.
 */
CMAVSDK_EXPORT void mavsdk_camera_video_stream_update_array_destroy(
    mavsdk_camera_video_stream_update_t** array,
    size_t size);

/**
 * @brief Storage status type.
 */
typedef enum {
    /**  Status not available. */
    MAVSDK_CAMERA_STORAGE_STORAGE_STATUS_NOT_AVAILABLE = 0,
    /**  Storage is not formatted (i.e. has no recognized file system). */
    MAVSDK_CAMERA_STORAGE_STORAGE_STATUS_UNFORMATTED = 1,
    /**  Storage is formatted (i.e. has recognized a file system). */
    MAVSDK_CAMERA_STORAGE_STORAGE_STATUS_FORMATTED = 2,
    /**  Storage status is not supported. */
    MAVSDK_CAMERA_STORAGE_STORAGE_STATUS_NOT_SUPPORTED = 3,
} mavsdk_camera_storage_storage_status_t;

/**
 * @brief Storage type.
 */
typedef enum {
    /**  Storage type unknown. */
    MAVSDK_CAMERA_STORAGE_STORAGE_TYPE_UNKNOWN = 0,
    /**  Storage type USB stick. */
    MAVSDK_CAMERA_STORAGE_STORAGE_TYPE_USB_STICK = 1,
    /**  Storage type SD card. */
    MAVSDK_CAMERA_STORAGE_STORAGE_TYPE_SD = 2,
    /**  Storage type MicroSD card. */
    MAVSDK_CAMERA_STORAGE_STORAGE_TYPE_MICROSD = 3,
    /**  Storage type HD mass storage. */
    MAVSDK_CAMERA_STORAGE_STORAGE_TYPE_HD = 4,
    /**  Storage type other, not listed. */
    MAVSDK_CAMERA_STORAGE_STORAGE_TYPE_OTHER = 5,
} mavsdk_camera_storage_storage_type_t;

/**
 * @brief Information about the camera's storage status.
 *
 * @note This struct may contain dynamically allocated memory. Always call
 *       mavsdk_camera_storage_destroy() when done to avoid memory leaks.
 */
typedef struct CMAVSDK_EXPORT {
    /**  Component ID */
    int32_t component_id;
    /**  Whether video recording is currently in process */
    bool video_on;
    /**  Whether a photo interval is currently in process */
    bool photo_interval_on;
    /**  Used storage (in MiB) */
    float used_storage_mib;
    /**  Available storage (in MiB) */
    float available_storage_mib;
    /**  Total storage (in MiB) */
    float total_storage_mib;
    /**  Elapsed time since starting the video recording (in seconds) */
    float recording_time_s;
    /**  Current folder name where media are saved */
    char* media_folder_name;
    /**  Storage status */
    mavsdk_camera_storage_storage_status_t storage_status;
    /**  Storage ID starting at 1 */
    uint32_t storage_id;
    /**  Storage type */
    mavsdk_camera_storage_storage_type_t storage_type;
} mavsdk_camera_storage_t;

/**
 * @brief Destroy a storage struct.
 *
 * Frees all memory allocated by MAVSDK for this struct, including any
 * dynamically allocated arrays or strings. Must be called to avoid memory leaks.
 * Always call this function when done with the struct, even if it currently
 * contains no dynamic allocations.
 *
 * @param target Pointer to the struct to destroy. Can be NULL (no-op).
 */
CMAVSDK_EXPORT void mavsdk_camera_storage_destroy(
    mavsdk_camera_storage_t* target);

/**
 * @brief Destroy an array of storage structs.
 *
 * Frees all memory allocated for the array and its elements, including any
 * nested dynamic allocations. Must be called to avoid memory leaks.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 * @param size Number of elements in the array.
 */
CMAVSDK_EXPORT void mavsdk_camera_storage_array_destroy(
    mavsdk_camera_storage_t** array,
    size_t size);

/**
 * @brief An update about storage
 *
 * @note This struct may contain dynamically allocated memory. Always call
 *       mavsdk_camera_storage_update_destroy() when done to avoid memory leaks.
 */
typedef struct CMAVSDK_EXPORT {
    /**  Component ID */
    int32_t component_id;
    /**  Storage */
    mavsdk_camera_storage_t storage;
} mavsdk_camera_storage_update_t;

/**
 * @brief Destroy a storage_update struct.
 *
 * Frees all memory allocated by MAVSDK for this struct, including any
 * dynamically allocated arrays or strings. Must be called to avoid memory leaks.
 * Always call this function when done with the struct, even if it currently
 * contains no dynamic allocations.
 *
 * @param target Pointer to the struct to destroy. Can be NULL (no-op).
 */
CMAVSDK_EXPORT void mavsdk_camera_storage_update_destroy(
    mavsdk_camera_storage_update_t* target);

/**
 * @brief Destroy an array of storage_update structs.
 *
 * Frees all memory allocated for the array and its elements, including any
 * nested dynamic allocations. Must be called to avoid memory leaks.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 * @param size Number of elements in the array.
 */
CMAVSDK_EXPORT void mavsdk_camera_storage_update_array_destroy(
    mavsdk_camera_storage_update_t** array,
    size_t size);

/**
 * @brief An update about a current setting
 *
 * @note This struct may contain dynamically allocated memory. Always call
 *       mavsdk_camera_current_settings_update_destroy() when done to avoid memory leaks.
 */
typedef struct CMAVSDK_EXPORT {
    /**  Component ID */
    int32_t component_id;
    /**  List of current settings */
    mavsdk_camera_setting_t* current_settings;
    size_t current_settings_size;
} mavsdk_camera_current_settings_update_t;

/**
 * @brief Destroy a current_settings_update struct.
 *
 * Frees all memory allocated by MAVSDK for this struct, including any
 * dynamically allocated arrays or strings. Must be called to avoid memory leaks.
 * Always call this function when done with the struct, even if it currently
 * contains no dynamic allocations.
 *
 * @param target Pointer to the struct to destroy. Can be NULL (no-op).
 */
CMAVSDK_EXPORT void mavsdk_camera_current_settings_update_destroy(
    mavsdk_camera_current_settings_update_t* target);

/**
 * @brief Destroy an array of current_settings_update structs.
 *
 * Frees all memory allocated for the array and its elements, including any
 * nested dynamic allocations. Must be called to avoid memory leaks.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 * @param size Number of elements in the array.
 */
CMAVSDK_EXPORT void mavsdk_camera_current_settings_update_array_destroy(
    mavsdk_camera_current_settings_update_t** array,
    size_t size);

/**
 * @brief An update about possible setting options
 *
 * @note This struct may contain dynamically allocated memory. Always call
 *       mavsdk_camera_possible_setting_options_update_destroy() when done to avoid memory leaks.
 */
typedef struct CMAVSDK_EXPORT {
    /**  Component ID */
    int32_t component_id;
    /**  List of settings that can be changed */
    mavsdk_camera_setting_options_t* setting_options;
    size_t setting_options_size;
} mavsdk_camera_possible_setting_options_update_t;

/**
 * @brief Destroy a possible_setting_options_update struct.
 *
 * Frees all memory allocated by MAVSDK for this struct, including any
 * dynamically allocated arrays or strings. Must be called to avoid memory leaks.
 * Always call this function when done with the struct, even if it currently
 * contains no dynamic allocations.
 *
 * @param target Pointer to the struct to destroy. Can be NULL (no-op).
 */
CMAVSDK_EXPORT void mavsdk_camera_possible_setting_options_update_destroy(
    mavsdk_camera_possible_setting_options_update_t* target);

/**
 * @brief Destroy an array of possible_setting_options_update structs.
 *
 * Frees all memory allocated for the array and its elements, including any
 * nested dynamic allocations. Must be called to avoid memory leaks.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 * @param size Number of elements in the array.
 */
CMAVSDK_EXPORT void mavsdk_camera_possible_setting_options_update_array_destroy(
    mavsdk_camera_possible_setting_options_update_t** array,
    size_t size);

/**
 * @brief Possible results returned for camera commands
 */
typedef enum {
    /**  Unknown result. */
    MAVSDK_CAMERA_RESULT_UNKNOWN = 0,
    /**  Command executed successfully. */
    MAVSDK_CAMERA_RESULT_SUCCESS = 1,
    /**  Command in progress. */
    MAVSDK_CAMERA_RESULT_IN_PROGRESS = 2,
    /**  Camera is busy and rejected command. */
    MAVSDK_CAMERA_RESULT_BUSY = 3,
    /**  Camera denied the command. */
    MAVSDK_CAMERA_RESULT_DENIED = 4,
    /**  An error has occurred while executing the command. */
    MAVSDK_CAMERA_RESULT_ERROR = 5,
    /**  Command timed out. */
    MAVSDK_CAMERA_RESULT_TIMEOUT = 6,
    /**  Command has wrong argument(s). */
    MAVSDK_CAMERA_RESULT_WRONG_ARGUMENT = 7,
    /**  No system connected. */
    MAVSDK_CAMERA_RESULT_NO_SYSTEM = 8,
    /**  Definition file protocol not supported. */
    MAVSDK_CAMERA_RESULT_PROTOCOL_UNSUPPORTED = 9,
    /**  Not available (yet). */
    MAVSDK_CAMERA_RESULT_UNAVAILABLE = 10,
    /**  Camera with camera ID not found. */
    MAVSDK_CAMERA_RESULT_CAMERA_ID_INVALID = 11,
    /**  Camera action not supported. */
    MAVSDK_CAMERA_RESULT_ACTION_UNSUPPORTED = 12,
} mavsdk_camera_result_t;


/**
 * @brief Position type in global coordinates.
 *
 * @note This struct may contain dynamically allocated memory. Always call
 *       mavsdk_camera_position_destroy() when done to avoid memory leaks.
 */
typedef struct CMAVSDK_EXPORT {
    /**  Latitude in degrees (range: -90 to +90) */
    double latitude_deg;
    /**  Longitude in degrees (range: -180 to +180) */
    double longitude_deg;
    /**  Altitude AMSL (above mean sea level) in metres */
    float absolute_altitude_m;
    /**  Altitude relative to takeoff altitude in metres */
    float relative_altitude_m;
} mavsdk_camera_position_t;

/**
 * @brief Destroy a position struct.
 *
 * Frees all memory allocated by MAVSDK for this struct, including any
 * dynamically allocated arrays or strings. Must be called to avoid memory leaks.
 * Always call this function when done with the struct, even if it currently
 * contains no dynamic allocations.
 *
 * @param target Pointer to the struct to destroy. Can be NULL (no-op).
 */
CMAVSDK_EXPORT void mavsdk_camera_position_destroy(
    mavsdk_camera_position_t* target);

/**
 * @brief Destroy an array of position structs.
 *
 * Frees all memory allocated for the array and its elements, including any
 * nested dynamic allocations. Must be called to avoid memory leaks.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 * @param size Number of elements in the array.
 */
CMAVSDK_EXPORT void mavsdk_camera_position_array_destroy(
    mavsdk_camera_position_t** array,
    size_t size);

/**
 * @brief Quaternion type.
 * 
 *  All rotations and axis systems follow the right-hand rule.
 *  The Hamilton quaternion product definition is used.
 *  A zero-rotation quaternion is represented by (1,0,0,0).
 *  The quaternion could also be written as w + xi + yj + zk.
 * 
 *  For more info see: https://en.wikipedia.org/wiki/Quaternion
 *
 * @note This struct may contain dynamically allocated memory. Always call
 *       mavsdk_camera_quaternion_destroy() when done to avoid memory leaks.
 */
typedef struct CMAVSDK_EXPORT {
    /**  Quaternion entry 0, also denoted as a */
    float w;
    /**  Quaternion entry 1, also denoted as b */
    float x;
    /**  Quaternion entry 2, also denoted as c */
    float y;
    /**  Quaternion entry 3, also denoted as d */
    float z;
} mavsdk_camera_quaternion_t;

/**
 * @brief Destroy a quaternion struct.
 *
 * Frees all memory allocated by MAVSDK for this struct, including any
 * dynamically allocated arrays or strings. Must be called to avoid memory leaks.
 * Always call this function when done with the struct, even if it currently
 * contains no dynamic allocations.
 *
 * @param target Pointer to the struct to destroy. Can be NULL (no-op).
 */
CMAVSDK_EXPORT void mavsdk_camera_quaternion_destroy(
    mavsdk_camera_quaternion_t* target);

/**
 * @brief Destroy an array of quaternion structs.
 *
 * Frees all memory allocated for the array and its elements, including any
 * nested dynamic allocations. Must be called to avoid memory leaks.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 * @param size Number of elements in the array.
 */
CMAVSDK_EXPORT void mavsdk_camera_quaternion_array_destroy(
    mavsdk_camera_quaternion_t** array,
    size_t size);

/**
 * @brief Euler angle type.
 * 
 *  All rotations and axis systems follow the right-hand rule.
 *  The Euler angles follow the convention of a 3-2-1 intrinsic Tait-Bryan rotation sequence.
 * 
 *  For more info see https://en.wikipedia.org/wiki/Euler_angles
 *
 * @note This struct may contain dynamically allocated memory. Always call
 *       mavsdk_camera_euler_angle_destroy() when done to avoid memory leaks.
 */
typedef struct CMAVSDK_EXPORT {
    /**  Roll angle in degrees, positive is banking to the right */
    float roll_deg;
    /**  Pitch angle in degrees, positive is pitching nose up */
    float pitch_deg;
    /**  Yaw angle in degrees, positive is clock-wise seen from above */
    float yaw_deg;
} mavsdk_camera_euler_angle_t;

/**
 * @brief Destroy a euler_angle struct.
 *
 * Frees all memory allocated by MAVSDK for this struct, including any
 * dynamically allocated arrays or strings. Must be called to avoid memory leaks.
 * Always call this function when done with the struct, even if it currently
 * contains no dynamic allocations.
 *
 * @param target Pointer to the struct to destroy. Can be NULL (no-op).
 */
CMAVSDK_EXPORT void mavsdk_camera_euler_angle_destroy(
    mavsdk_camera_euler_angle_t* target);

/**
 * @brief Destroy an array of euler_angle structs.
 *
 * Frees all memory allocated for the array and its elements, including any
 * nested dynamic allocations. Must be called to avoid memory leaks.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 * @param size Number of elements in the array.
 */
CMAVSDK_EXPORT void mavsdk_camera_euler_angle_array_destroy(
    mavsdk_camera_euler_angle_t** array,
    size_t size);

/**
 * @brief Information about a picture just captured.
 *
 * @note This struct may contain dynamically allocated memory. Always call
 *       mavsdk_camera_capture_info_destroy() when done to avoid memory leaks.
 */
typedef struct CMAVSDK_EXPORT {
    /**  Component ID */
    int32_t component_id;
    /**  Location where the picture was taken */
    mavsdk_camera_position_t position;
    /**  Attitude of the camera when the picture was taken (quaternion) */
    mavsdk_camera_quaternion_t attitude_quaternion;
    /**  Attitude of the camera when the picture was taken (euler angle) */
    mavsdk_camera_euler_angle_t attitude_euler_angle;
    /**  Timestamp in UTC (since UNIX epoch) in microseconds */
    uint64_t time_utc_us;
    /**  True if the capture was successful */
    bool is_success;
    /**  Zero-based index of this image since vehicle was armed */
    int32_t index;
    /**  Download URL of this image */
    char* file_url;
} mavsdk_camera_capture_info_t;

/**
 * @brief Destroy a capture_info struct.
 *
 * Frees all memory allocated by MAVSDK for this struct, including any
 * dynamically allocated arrays or strings. Must be called to avoid memory leaks.
 * Always call this function when done with the struct, even if it currently
 * contains no dynamic allocations.
 *
 * @param target Pointer to the struct to destroy. Can be NULL (no-op).
 */
CMAVSDK_EXPORT void mavsdk_camera_capture_info_destroy(
    mavsdk_camera_capture_info_t* target);

/**
 * @brief Destroy an array of capture_info structs.
 *
 * Frees all memory allocated for the array and its elements, including any
 * nested dynamic allocations. Must be called to avoid memory leaks.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 * @param size Number of elements in the array.
 */
CMAVSDK_EXPORT void mavsdk_camera_capture_info_array_destroy(
    mavsdk_camera_capture_info_t** array,
    size_t size);

/**
 * @brief Type to represent a camera information.
 *
 * @note This struct may contain dynamically allocated memory. Always call
 *       mavsdk_camera_information_destroy() when done to avoid memory leaks.
 */
typedef struct CMAVSDK_EXPORT {
    /**  Component ID */
    int32_t component_id;
    /**  Name of the camera vendor */
    char* vendor_name;
    /**  Name of the camera model */
    char* model_name;
    /**  Focal length */
    float focal_length_mm;
    /**  Horizontal sensor size */
    float horizontal_sensor_size_mm;
    /**  Vertical sensor size */
    float vertical_sensor_size_mm;
    /**  Horizontal image resolution in pixels */
    uint32_t horizontal_resolution_px;
    /**  Vertical image resolution in pixels */
    uint32_t vertical_resolution_px;
} mavsdk_camera_information_t;

/**
 * @brief Destroy a information struct.
 *
 * Frees all memory allocated by MAVSDK for this struct, including any
 * dynamically allocated arrays or strings. Must be called to avoid memory leaks.
 * Always call this function when done with the struct, even if it currently
 * contains no dynamic allocations.
 *
 * @param target Pointer to the struct to destroy. Can be NULL (no-op).
 */
CMAVSDK_EXPORT void mavsdk_camera_information_destroy(
    mavsdk_camera_information_t* target);

/**
 * @brief Destroy an array of information structs.
 *
 * Frees all memory allocated for the array and its elements, including any
 * nested dynamic allocations. Must be called to avoid memory leaks.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 * @param size Number of elements in the array.
 */
CMAVSDK_EXPORT void mavsdk_camera_information_array_destroy(
    mavsdk_camera_information_t** array,
    size_t size);

/**
 * @brief Camera list
 *
 * @note This struct may contain dynamically allocated memory. Always call
 *       mavsdk_camera_camera_list_destroy() when done to avoid memory leaks.
 */
typedef struct CMAVSDK_EXPORT {
    /**  Camera items. */
    mavsdk_camera_information_t* cameras;
    size_t cameras_size;
} mavsdk_camera_camera_list_t;

/**
 * @brief Destroy a camera_list struct.
 *
 * Frees all memory allocated by MAVSDK for this struct, including any
 * dynamically allocated arrays or strings. Must be called to avoid memory leaks.
 * Always call this function when done with the struct, even if it currently
 * contains no dynamic allocations.
 *
 * @param target Pointer to the struct to destroy. Can be NULL (no-op).
 */
CMAVSDK_EXPORT void mavsdk_camera_camera_list_destroy(
    mavsdk_camera_camera_list_t* target);

/**
 * @brief Destroy an array of camera_list structs.
 *
 * Frees all memory allocated for the array and its elements, including any
 * nested dynamic allocations. Must be called to avoid memory leaks.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 * @param size Number of elements in the array.
 */
CMAVSDK_EXPORT void mavsdk_camera_camera_list_array_destroy(
    mavsdk_camera_camera_list_t** array,
    size_t size);


// ===== Primitive Array Destroy Functions =====
/**
 * @brief Destroy an array of float.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_camera_float_array_destroy(float** array);
/**
 * @brief Destroy an array of double.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_camera_double_array_destroy(double** array);
/**
 * @brief Destroy an array of int32_t.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_camera_int32t_array_destroy(int32_t** array);
/**
 * @brief Destroy an array of uint32_t.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_camera_uint32t_array_destroy(uint32_t** array);
/**
 * @brief Destroy an array of int64_t.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_camera_int64t_array_destroy(int64_t** array);
/**
 * @brief Destroy an array of uint64_t.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_camera_uint64t_array_destroy(uint64_t** array);
/**
 * @brief Destroy an array of bool.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_camera_bool_array_destroy(bool** array);

/**
 * @brief Destroy a string (char*).
 *
 * Frees the memory allocated for the string.
 *
 * @param str Pointer to the string pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_camera_string_destroy(char** str);

/**
 * @brief Destroy a byte buffer (uint8_t*).
 *
 * Frees the memory allocated for the byte buffer.
 *
 * @param buffer Pointer to the buffer pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_camera_byte_buffer_destroy(uint8_t** buffer);

// ===== Callback Typedefs =====
typedef void (*mavsdk_camera_take_photo_callback_t)(const mavsdk_camera_result_t result, void* user_data);
typedef void (*mavsdk_camera_start_photo_interval_callback_t)(const mavsdk_camera_result_t result, void* user_data);
typedef void (*mavsdk_camera_stop_photo_interval_callback_t)(const mavsdk_camera_result_t result, void* user_data);
typedef void (*mavsdk_camera_start_video_callback_t)(const mavsdk_camera_result_t result, void* user_data);
typedef void (*mavsdk_camera_stop_video_callback_t)(const mavsdk_camera_result_t result, void* user_data);
typedef void (*mavsdk_camera_set_mode_callback_t)(const mavsdk_camera_result_t result, void* user_data);
typedef void (*mavsdk_camera_list_photos_callback_t)(const mavsdk_camera_result_t result, const mavsdk_camera_capture_info_t* capture_infos, size_t capture_infos_size, void* user_data);
typedef void (*mavsdk_camera_camera_list_callback_t)(const mavsdk_camera_camera_list_t camera_list, void* user_data);
typedef void (*mavsdk_camera_mode_callback_t)(const mavsdk_camera_mode_update_t update, void* user_data);
typedef void (*mavsdk_camera_video_stream_info_callback_t)(const mavsdk_camera_video_stream_update_t update, void* user_data);
typedef void (*mavsdk_camera_capture_info_callback_t)(const mavsdk_camera_capture_info_t capture_info, void* user_data);
typedef void (*mavsdk_camera_storage_callback_t)(const mavsdk_camera_storage_update_t update, void* user_data);
typedef void (*mavsdk_camera_current_settings_callback_t)(const mavsdk_camera_current_settings_update_t update, void* user_data);
typedef void (*mavsdk_camera_possible_setting_options_callback_t)(const mavsdk_camera_possible_setting_options_update_t update, void* user_data);
typedef void (*mavsdk_camera_set_setting_callback_t)(const mavsdk_camera_result_t result, void* user_data);
typedef void (*mavsdk_camera_get_setting_callback_t)(const mavsdk_camera_result_t result, const mavsdk_camera_setting_t setting, void* user_data);
typedef void (*mavsdk_camera_format_storage_callback_t)(const mavsdk_camera_result_t result, void* user_data);
typedef void (*mavsdk_camera_reset_settings_callback_t)(const mavsdk_camera_result_t result, void* user_data);
typedef void (*mavsdk_camera_zoom_in_start_callback_t)(const mavsdk_camera_result_t result, void* user_data);
typedef void (*mavsdk_camera_zoom_out_start_callback_t)(const mavsdk_camera_result_t result, void* user_data);
typedef void (*mavsdk_camera_zoom_stop_callback_t)(const mavsdk_camera_result_t result, void* user_data);
typedef void (*mavsdk_camera_zoom_range_callback_t)(const mavsdk_camera_result_t result, void* user_data);
typedef void (*mavsdk_camera_track_point_callback_t)(const mavsdk_camera_result_t result, void* user_data);
typedef void (*mavsdk_camera_track_rectangle_callback_t)(const mavsdk_camera_result_t result, void* user_data);
typedef void (*mavsdk_camera_track_stop_callback_t)(const mavsdk_camera_result_t result, void* user_data);
typedef void (*mavsdk_camera_focus_in_start_callback_t)(const mavsdk_camera_result_t result, void* user_data);
typedef void (*mavsdk_camera_focus_out_start_callback_t)(const mavsdk_camera_result_t result, void* user_data);
typedef void (*mavsdk_camera_focus_stop_callback_t)(const mavsdk_camera_result_t result, void* user_data);
typedef void (*mavsdk_camera_focus_range_callback_t)(const mavsdk_camera_result_t result, void* user_data);

// ===== Camera Creation/Destruction =====
CMAVSDK_EXPORT mavsdk_camera_t mavsdk_camera_create(mavsdk_system_t system);
CMAVSDK_EXPORT void mavsdk_camera_destroy(mavsdk_camera_t camera);

// ===== Methods =====

/**
 * @brief Take one photo.
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_take_photo_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_take_photo_callback_t callback,
    void* user_data);


/**
 * @brief Get the current take photo (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param take_photo_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_take_photo(
    mavsdk_camera_t camera,
    int32_t component_id);


/**
 * @brief Start photo timelapse with a given interval.
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
* @param interval_s  Interval between photos (in seconds)
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_start_photo_interval_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    float interval_s,
    mavsdk_camera_start_photo_interval_callback_t callback,
    void* user_data);


/**
 * @brief Get the current start photo interval (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param start_photo_interval_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_start_photo_interval(
    mavsdk_camera_t camera,
    int32_t component_id,
    float interval_s);


/**
 * @brief Stop a running photo timelapse.
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_stop_photo_interval_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_stop_photo_interval_callback_t callback,
    void* user_data);


/**
 * @brief Get the current stop photo interval (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param stop_photo_interval_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_stop_photo_interval(
    mavsdk_camera_t camera,
    int32_t component_id);


/**
 * @brief Start a video recording.
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_start_video_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_start_video_callback_t callback,
    void* user_data);


/**
 * @brief Get the current start video (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param start_video_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_start_video(
    mavsdk_camera_t camera,
    int32_t component_id);


/**
 * @brief Stop a running video recording.
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_stop_video_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_stop_video_callback_t callback,
    void* user_data);


/**
 * @brief Get the current stop video (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param stop_video_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_stop_video(
    mavsdk_camera_t camera,
    int32_t component_id);


/**
 * @brief Get the current start video streaming (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param start_video_streaming_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_start_video_streaming(
    mavsdk_camera_t camera,
    int32_t component_id,
    int32_t stream_id);


/**
 * @brief Get the current stop video streaming (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param stop_video_streaming_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_stop_video_streaming(
    mavsdk_camera_t camera,
    int32_t component_id,
    int32_t stream_id);


/**
 * @brief Set camera mode.
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
* @param mode  Camera mode to set
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_set_mode_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_mode_t mode,
    mavsdk_camera_set_mode_callback_t callback,
    void* user_data);


/**
 * @brief Get the current set mode (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param set_mode_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_set_mode(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_mode_t mode);


/**
 * @brief List photos available on the camera.
 * 
 *  Note that this might need to be called initially to set the PhotosRange accordingly.
 *  Once set to 'all' rather than 'since connection', it will try to request the previous
 *  images over time.
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
* @param photos_range  Which photos should be listed (all or since connection)
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_list_photos_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_photos_range_t photos_range,
    mavsdk_camera_list_photos_callback_t callback,
    void* user_data);


/**
 * @brief Get the current list photos (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param list_photos_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_list_photos(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_photos_range_t photos_range,
    mavsdk_camera_capture_info_t** capture_infos_out,
    size_t* capture_infos_size_out);


/**
 * @brief Subscribe to list of cameras.
 * 
 *  This allows to find out what cameras are connected to the system.
 *  Based on the camera ID, we can then address a specific camera.
 *
 * @param camera The camera instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 * @return Handle for this subscription. Use mavsdk_camera_unsubscribe_camera_list() to unsubscribe.
 */
CMAVSDK_EXPORT mavsdk_camera_camera_list_handle_t mavsdk_camera_subscribe_camera_list(
    mavsdk_camera_t camera,
    mavsdk_camera_camera_list_callback_t callback,
    void* user_data);

/**
 * @brief Unsubscribe from 'camera_list' updates.
 *
 * Stops the subscription and frees resources associated with the handle.
 *
 * @param camera The camera instance.
 * @param handle The subscription handle returned by mavsdk_camera_subscribe_camera_list().
 */
CMAVSDK_EXPORT void mavsdk_camera_unsubscribe_camera_list(
    mavsdk_camera_t camera,
    mavsdk_camera_camera_list_handle_t);

/**
 * @brief Get the current camera list (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param camera_list_out Pointer to store the result.
 */
CMAVSDK_EXPORT
void
mavsdk_camera_camera_list(
    mavsdk_camera_t camera,
    mavsdk_camera_camera_list_t* camera_list_out);


/**
 * @brief Subscribe to camera mode updates.
 *
 * @param camera The camera instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 * @return Handle for this subscription. Use mavsdk_camera_unsubscribe_mode() to unsubscribe.
 */
CMAVSDK_EXPORT mavsdk_camera_mode_handle_t mavsdk_camera_subscribe_mode(
    mavsdk_camera_t camera,
    mavsdk_camera_mode_callback_t callback,
    void* user_data);

/**
 * @brief Unsubscribe from 'mode' updates.
 *
 * Stops the subscription and frees resources associated with the handle.
 *
 * @param camera The camera instance.
 * @param handle The subscription handle returned by mavsdk_camera_subscribe_mode().
 */
CMAVSDK_EXPORT void mavsdk_camera_unsubscribe_mode(
    mavsdk_camera_t camera,
    mavsdk_camera_mode_handle_t);


/**
 * @brief Get the current get mode (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param get_mode_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_get_mode(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_mode_t* mode_out);


/**
 * @brief Subscribe to video stream info updates.
 *
 * @param camera The camera instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 * @return Handle for this subscription. Use mavsdk_camera_unsubscribe_video_stream_info() to unsubscribe.
 */
CMAVSDK_EXPORT mavsdk_camera_video_stream_info_handle_t mavsdk_camera_subscribe_video_stream_info(
    mavsdk_camera_t camera,
    mavsdk_camera_video_stream_info_callback_t callback,
    void* user_data);

/**
 * @brief Unsubscribe from 'video_stream_info' updates.
 *
 * Stops the subscription and frees resources associated with the handle.
 *
 * @param camera The camera instance.
 * @param handle The subscription handle returned by mavsdk_camera_subscribe_video_stream_info().
 */
CMAVSDK_EXPORT void mavsdk_camera_unsubscribe_video_stream_info(
    mavsdk_camera_t camera,
    mavsdk_camera_video_stream_info_handle_t);


/**
 * @brief Get the current get video stream info (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param get_video_stream_info_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_get_video_stream_info(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_video_stream_info_t* video_stream_info_out);


/**
 * @brief Subscribe to capture info updates.
 *
 * @param camera The camera instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 * @return Handle for this subscription. Use mavsdk_camera_unsubscribe_capture_info() to unsubscribe.
 */
CMAVSDK_EXPORT mavsdk_camera_capture_info_handle_t mavsdk_camera_subscribe_capture_info(
    mavsdk_camera_t camera,
    mavsdk_camera_capture_info_callback_t callback,
    void* user_data);

/**
 * @brief Unsubscribe from 'capture_info' updates.
 *
 * Stops the subscription and frees resources associated with the handle.
 *
 * @param camera The camera instance.
 * @param handle The subscription handle returned by mavsdk_camera_subscribe_capture_info().
 */
CMAVSDK_EXPORT void mavsdk_camera_unsubscribe_capture_info(
    mavsdk_camera_t camera,
    mavsdk_camera_capture_info_handle_t);


/**
 * @brief Subscribe to camera's storage status updates.
 *
 * @param camera The camera instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 * @return Handle for this subscription. Use mavsdk_camera_unsubscribe_storage() to unsubscribe.
 */
CMAVSDK_EXPORT mavsdk_camera_storage_handle_t mavsdk_camera_subscribe_storage(
    mavsdk_camera_t camera,
    mavsdk_camera_storage_callback_t callback,
    void* user_data);

/**
 * @brief Unsubscribe from 'storage' updates.
 *
 * Stops the subscription and frees resources associated with the handle.
 *
 * @param camera The camera instance.
 * @param handle The subscription handle returned by mavsdk_camera_subscribe_storage().
 */
CMAVSDK_EXPORT void mavsdk_camera_unsubscribe_storage(
    mavsdk_camera_t camera,
    mavsdk_camera_storage_handle_t);


/**
 * @brief Get the current get storage (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param get_storage_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_get_storage(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_storage_t* storage_out);


/**
 * @brief Get the list of current camera settings.
 *
 * @param camera The camera instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 * @return Handle for this subscription. Use mavsdk_camera_unsubscribe_current_settings() to unsubscribe.
 */
CMAVSDK_EXPORT mavsdk_camera_current_settings_handle_t mavsdk_camera_subscribe_current_settings(
    mavsdk_camera_t camera,
    mavsdk_camera_current_settings_callback_t callback,
    void* user_data);

/**
 * @brief Unsubscribe from 'current_settings' updates.
 *
 * Stops the subscription and frees resources associated with the handle.
 *
 * @param camera The camera instance.
 * @param handle The subscription handle returned by mavsdk_camera_subscribe_current_settings().
 */
CMAVSDK_EXPORT void mavsdk_camera_unsubscribe_current_settings(
    mavsdk_camera_t camera,
    mavsdk_camera_current_settings_handle_t);


/**
 * @brief Get the current get current settings (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param get_current_settings_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_get_current_settings(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_setting_t** current_settings_out,
    size_t* current_settings_size_out);


/**
 * @brief Get the list of settings that can be changed.
 *
 * @param camera The camera instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 * @return Handle for this subscription. Use mavsdk_camera_unsubscribe_possible_setting_options() to unsubscribe.
 */
CMAVSDK_EXPORT mavsdk_camera_possible_setting_options_handle_t mavsdk_camera_subscribe_possible_setting_options(
    mavsdk_camera_t camera,
    mavsdk_camera_possible_setting_options_callback_t callback,
    void* user_data);

/**
 * @brief Unsubscribe from 'possible_setting_options' updates.
 *
 * Stops the subscription and frees resources associated with the handle.
 *
 * @param camera The camera instance.
 * @param handle The subscription handle returned by mavsdk_camera_subscribe_possible_setting_options().
 */
CMAVSDK_EXPORT void mavsdk_camera_unsubscribe_possible_setting_options(
    mavsdk_camera_t camera,
    mavsdk_camera_possible_setting_options_handle_t);


/**
 * @brief Get the current get possible setting options (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param get_possible_setting_options_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_get_possible_setting_options(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_setting_options_t** setting_options_out,
    size_t* setting_options_size_out);


/**
 * @brief Set a setting to some value.
 * 
 *  Only setting_id of setting and option_id of option needs to be set.
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
* @param setting  Desired setting
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_set_setting_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_setting_t setting,
    mavsdk_camera_set_setting_callback_t callback,
    void* user_data);


/**
 * @brief Get the current set setting (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param set_setting_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_set_setting(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_setting_t setting);


/**
 * @brief Get a setting.
 * 
 *  Only setting_id of setting needs to be set.
 *
 * @param camera The camera instance.
* @param component_id  Component ID (0/all not available)
 * 
* @param setting  Requested setting
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_get_setting_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_setting_t setting,
    mavsdk_camera_get_setting_callback_t callback,
    void* user_data);


/**
 * @brief Get the current get setting (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param get_setting_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_get_setting(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_setting_t setting,
    mavsdk_camera_setting_t* setting_out);


/**
 * @brief Format storage (e.g. SD card) in camera.
 * 
 *  This will delete all content of the camera storage!
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
* @param storage_id Storage identify to be format
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_format_storage_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    int32_t storage_id,
    mavsdk_camera_format_storage_callback_t callback,
    void* user_data);


/**
 * @brief Get the current format storage (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param format_storage_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_format_storage(
    mavsdk_camera_t camera,
    int32_t component_id,
    int32_t storage_id);


/**
 * @brief Reset all settings in camera.
 * 
 *  This will reset all camera settings to default value
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_reset_settings_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_reset_settings_callback_t callback,
    void* user_data);


/**
 * @brief Get the current reset settings (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param reset_settings_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_reset_settings(
    mavsdk_camera_t camera,
    int32_t component_id);


/**
 * @brief Start zooming in.
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_zoom_in_start_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_zoom_in_start_callback_t callback,
    void* user_data);


/**
 * @brief Get the current zoom in start (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param zoom_in_start_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_zoom_in_start(
    mavsdk_camera_t camera,
    int32_t component_id);


/**
 * @brief Start zooming out.
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_zoom_out_start_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_zoom_out_start_callback_t callback,
    void* user_data);


/**
 * @brief Get the current zoom out start (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param zoom_out_start_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_zoom_out_start(
    mavsdk_camera_t camera,
    int32_t component_id);


/**
 * @brief Stop zooming.
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_zoom_stop_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_zoom_stop_callback_t callback,
    void* user_data);


/**
 * @brief Get the current zoom stop (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param zoom_stop_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_zoom_stop(
    mavsdk_camera_t camera,
    int32_t component_id);


/**
 * @brief Zoom to value as proportion of full camera range (percentage between 0.0 and 100.0).
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
* @param range  Range must be between 0.0 and 100.0
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_zoom_range_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    float range,
    mavsdk_camera_zoom_range_callback_t callback,
    void* user_data);


/**
 * @brief Get the current zoom range (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param zoom_range_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_zoom_range(
    mavsdk_camera_t camera,
    int32_t component_id,
    float range);


/**
 * @brief Track point.
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
* @param point_x  Point in X axis (0..1, 0 is left, 1 is right)
 * 
* @param point_y  Point in Y axis (0..1, 0 is top, 1 is bottom)
 * 
* @param radius  Radius (0 is one pixel, 1 is full image width)
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_track_point_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    float point_x,
    float point_y,
    float radius,
    mavsdk_camera_track_point_callback_t callback,
    void* user_data);


/**
 * @brief Get the current track point (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param track_point_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_track_point(
    mavsdk_camera_t camera,
    int32_t component_id,
    float point_x,
    float point_y,
    float radius);


/**
 * @brief Track rectangle.
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
* @param top_left_x  Top left corner of rectangle x value (normalized 0..1, 0 is left, 1 is right)
 * 
* @param top_left_y  Top left corner of rectangle y value (normalized 0..1, 0 is top, 1 is bottom)
 * 
* @param bottom_right_x  Bottom right corner of rectangle x value (normalized 0..1, 0 is left, 1 is right)
 * 
* @param bottom_right_y  Bottom right corner of rectangle y value (normalized 0..1, 0 is top, 1 is bottom)
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_track_rectangle_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    float top_left_x,
    float top_left_y,
    float bottom_right_x,
    float bottom_right_y,
    mavsdk_camera_track_rectangle_callback_t callback,
    void* user_data);


/**
 * @brief Get the current track rectangle (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param track_rectangle_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_track_rectangle(
    mavsdk_camera_t camera,
    int32_t component_id,
    float top_left_x,
    float top_left_y,
    float bottom_right_x,
    float bottom_right_y);


/**
 * @brief Stop tracking.
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_track_stop_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_track_stop_callback_t callback,
    void* user_data);


/**
 * @brief Get the current track stop (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param track_stop_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_track_stop(
    mavsdk_camera_t camera,
    int32_t component_id);


/**
 * @brief Start focusing in.
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_focus_in_start_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_focus_in_start_callback_t callback,
    void* user_data);


/**
 * @brief Get the current focus in start (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param focus_in_start_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_focus_in_start(
    mavsdk_camera_t camera,
    int32_t component_id);


/**
 * @brief Start focusing out.
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_focus_out_start_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_focus_out_start_callback_t callback,
    void* user_data);


/**
 * @brief Get the current focus out start (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param focus_out_start_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_focus_out_start(
    mavsdk_camera_t camera,
    int32_t component_id);


/**
 * @brief Stop focus.
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_focus_stop_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    mavsdk_camera_focus_stop_callback_t callback,
    void* user_data);


/**
 * @brief Get the current focus stop (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param focus_stop_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_focus_stop(
    mavsdk_camera_t camera,
    int32_t component_id);


/**
 * @brief Focus with range value of full range (value between 0.0 and 100.0).
 *
 * @param camera The camera instance.
* @param component_id  Component ID
 * 
* @param range  Range must be between 0.0 - 100.0
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_camera_focus_range_async(
    mavsdk_camera_t camera,
    int32_t component_id,
    float range,
    mavsdk_camera_focus_range_callback_t callback,
    void* user_data);


/**
 * @brief Get the current focus range (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param focus_range_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_camera_result_t
mavsdk_camera_focus_range(
    mavsdk_camera_t camera,
    int32_t component_id,
    float range);


#ifdef __cplusplus
}
#endif

#endif // CMAVSDK_CAMERA_H