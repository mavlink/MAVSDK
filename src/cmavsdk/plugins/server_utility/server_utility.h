// WARNING: THIS FILE IS AUTOGENERATED! As such, it should not be edited.
// Edits need to be made to the proto files
// (see https://github.com/mavlink/MAVSDK-Proto/blob/main/protos/server_utility/server_utility.proto)

#ifndef CMAVSDK_SERVER_UTILITY_H
#define CMAVSDK_SERVER_UTILITY_H

#include <stddef.h>
#include <stdint.h>
#include <stdbool.h>
#include "cmavsdk/mavsdk_export.h"

#ifdef __cplusplus
extern "C" {
#endif

/**
 * @brief Utility for onboard MAVSDK instances for common "server" tasks.
 */

// ===== Forward Declarations =====
typedef void* mavsdk_system_t;

// ===== Opaque Handles =====
typedef void* mavsdk_server_utility_t;

// ===== Enums =====
/**
 * @brief Status types.
 */
typedef enum {
    /**  Debug. */
    MAVSDK_SERVER_UTILITY_STATUS_TEXT_TYPE_DEBUG = 0,
    /**  Information. */
    MAVSDK_SERVER_UTILITY_STATUS_TEXT_TYPE_INFO = 1,
    /**  Notice. */
    MAVSDK_SERVER_UTILITY_STATUS_TEXT_TYPE_NOTICE = 2,
    /**  Warning. */
    MAVSDK_SERVER_UTILITY_STATUS_TEXT_TYPE_WARNING = 3,
    /**  Error. */
    MAVSDK_SERVER_UTILITY_STATUS_TEXT_TYPE_ERROR = 4,
    /**  Critical. */
    MAVSDK_SERVER_UTILITY_STATUS_TEXT_TYPE_CRITICAL = 5,
    /**  Alert. */
    MAVSDK_SERVER_UTILITY_STATUS_TEXT_TYPE_ALERT = 6,
    /**  Emergency. */
    MAVSDK_SERVER_UTILITY_STATUS_TEXT_TYPE_EMERGENCY = 7,
} mavsdk_server_utility_status_text_type_t;


// ===== Structs =====
/**
 * @brief Possible results returned for server utility requests.
 */
typedef enum {
    /**  Unknown result. */
    MAVSDK_SERVER_UTILITY_RESULT_UNKNOWN = 0,
    /**  Request succeeded. */
    MAVSDK_SERVER_UTILITY_RESULT_SUCCESS = 1,
    /**  No system is connected. */
    MAVSDK_SERVER_UTILITY_RESULT_NO_SYSTEM = 2,
    /**  Connection error. */
    MAVSDK_SERVER_UTILITY_RESULT_CONNECTION_ERROR = 3,
    /**  Invalid argument. */
    MAVSDK_SERVER_UTILITY_RESULT_INVALID_ARGUMENT = 4,
} mavsdk_server_utility_result_t;



// ===== Primitive Array Destroy Functions =====
/**
 * @brief Destroy an array of float.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_server_utility_float_array_destroy(float** array);
/**
 * @brief Destroy an array of double.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_server_utility_double_array_destroy(double** array);
/**
 * @brief Destroy an array of int32_t.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_server_utility_int32t_array_destroy(int32_t** array);
/**
 * @brief Destroy an array of uint32_t.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_server_utility_uint32t_array_destroy(uint32_t** array);
/**
 * @brief Destroy an array of int64_t.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_server_utility_int64t_array_destroy(int64_t** array);
/**
 * @brief Destroy an array of uint64_t.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_server_utility_uint64t_array_destroy(uint64_t** array);
/**
 * @brief Destroy an array of bool.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_server_utility_bool_array_destroy(bool** array);

/**
 * @brief Destroy a string (char*).
 *
 * Frees the memory allocated for the string.
 *
 * @param str Pointer to the string pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_server_utility_string_destroy(char** str);

/**
 * @brief Destroy a byte buffer (uint8_t*).
 *
 * Frees the memory allocated for the byte buffer.
 *
 * @param buffer Pointer to the buffer pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_server_utility_byte_buffer_destroy(uint8_t** buffer);

// ===== Callback Typedefs =====

// ===== ServerUtility Creation/Destruction =====
CMAVSDK_EXPORT mavsdk_server_utility_t mavsdk_server_utility_create(mavsdk_system_t system);
CMAVSDK_EXPORT void mavsdk_server_utility_destroy(mavsdk_server_utility_t server_utility);

// ===== Methods =====

/**
 * @brief Get the current send status text (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param send_status_text_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_server_utility_result_t
mavsdk_server_utility_send_status_text(
    mavsdk_server_utility_t server_utility,
    mavsdk_server_utility_status_text_type_t type,
    char* text);


#ifdef __cplusplus
}
#endif

#endif // CMAVSDK_SERVER_UTILITY_H