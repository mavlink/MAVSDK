// WARNING: THIS FILE IS AUTOGENERATED! As such, it should not be edited.
// Edits need to be made to the proto files
// (see https://github.com/mavlink/MAVSDK-Proto/blob/main/protos/action/action.proto)

#ifndef CMAVSDK_ACTION_H
#define CMAVSDK_ACTION_H

#include <stddef.h>
#include <stdint.h>
#include <stdbool.h>
#include "cmavsdk/mavsdk_export.h"

#ifdef __cplusplus
extern "C" {
#endif

/**
 * @brief Enable simple actions such as arming, taking off, and landing.
 */

// ===== Forward Declarations =====
typedef void* mavsdk_system_t;

// ===== Opaque Handles =====
typedef void* mavsdk_action_t;

// ===== Enums =====
/**
 * @brief Yaw behaviour during orbit flight.
 */
typedef enum {
    /**  Vehicle front points to the center (default). */
    MAVSDK_ACTION_ORBIT_YAW_BEHAVIOR_HOLD_FRONT_TO_CIRCLE_CENTER = 0,
    /**  Vehicle front holds heading when message received. */
    MAVSDK_ACTION_ORBIT_YAW_BEHAVIOR_HOLD_INITIAL_HEADING = 1,
    /**  Yaw uncontrolled. */
    MAVSDK_ACTION_ORBIT_YAW_BEHAVIOR_UNCONTROLLED = 2,
    /**  Vehicle front follows flight path (tangential to circle). */
    MAVSDK_ACTION_ORBIT_YAW_BEHAVIOR_HOLD_FRONT_TANGENT_TO_CIRCLE = 3,
    /**  Yaw controlled by RC input. */
    MAVSDK_ACTION_ORBIT_YAW_BEHAVIOR_RC_CONTROLLED = 4,
} mavsdk_action_orbit_yaw_behavior_t;

/**
 * @brief Commanded values for relays
 */
typedef enum {
    /**  Turn the relay off. */
    MAVSDK_ACTION_RELAY_COMMAND_ON = 0,
    /**  Turn the relay on.. */
    MAVSDK_ACTION_RELAY_COMMAND_OFF = 1,
} mavsdk_action_relay_command_t;


// ===== Structs =====
/**
 * @brief Possible results returned for action requests.
 */
typedef enum {
    /**  Unknown result. */
    MAVSDK_ACTION_RESULT_UNKNOWN = 0,
    /**  Request was successful. */
    MAVSDK_ACTION_RESULT_SUCCESS = 1,
    /**  No system is connected. */
    MAVSDK_ACTION_RESULT_NO_SYSTEM = 2,
    /**  Connection error. */
    MAVSDK_ACTION_RESULT_CONNECTION_ERROR = 3,
    /**  Vehicle is busy. */
    MAVSDK_ACTION_RESULT_BUSY = 4,
    /**  Command refused by vehicle. */
    MAVSDK_ACTION_RESULT_COMMAND_DENIED = 5,
    /**  Command refused because landed state is unknown. */
    MAVSDK_ACTION_RESULT_COMMAND_DENIED_LANDED_STATE_UNKNOWN = 6,
    /**  Command refused because vehicle not landed. */
    MAVSDK_ACTION_RESULT_COMMAND_DENIED_NOT_LANDED = 7,
    /**  Request timed out. */
    MAVSDK_ACTION_RESULT_TIMEOUT = 8,
    /**  Hybrid/VTOL transition support is unknown. */
    MAVSDK_ACTION_RESULT_VTOL_TRANSITION_SUPPORT_UNKNOWN = 9,
    /**  Vehicle does not support hybrid/VTOL transitions. */
    MAVSDK_ACTION_RESULT_NO_VTOL_TRANSITION_SUPPORT = 10,
    /**  Error getting or setting parameter. */
    MAVSDK_ACTION_RESULT_PARAMETER_ERROR = 11,
    /**  Action not supported. */
    MAVSDK_ACTION_RESULT_UNSUPPORTED = 12,
    /**  Action failed. */
    MAVSDK_ACTION_RESULT_FAILED = 13,
    /**  Invalid argument. */
    MAVSDK_ACTION_RESULT_INVALID_ARGUMENT = 14,
} mavsdk_action_result_t;



// ===== Primitive Array Destroy Functions =====
/**
 * @brief Destroy an array of float.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_action_float_array_destroy(float** array);
/**
 * @brief Destroy an array of double.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_action_double_array_destroy(double** array);
/**
 * @brief Destroy an array of int32_t.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_action_int32t_array_destroy(int32_t** array);
/**
 * @brief Destroy an array of uint32_t.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_action_uint32t_array_destroy(uint32_t** array);
/**
 * @brief Destroy an array of int64_t.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_action_int64t_array_destroy(int64_t** array);
/**
 * @brief Destroy an array of uint64_t.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_action_uint64t_array_destroy(uint64_t** array);
/**
 * @brief Destroy an array of bool.
 *
 * Frees the memory allocated for the array.
 *
 * @param array Pointer to the array pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_action_bool_array_destroy(bool** array);

/**
 * @brief Destroy a string (char*).
 *
 * Frees the memory allocated for the string.
 *
 * @param str Pointer to the string pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_action_string_destroy(char** str);

/**
 * @brief Destroy a byte buffer (uint8_t*).
 *
 * Frees the memory allocated for the byte buffer.
 *
 * @param buffer Pointer to the buffer pointer. Will be set to NULL after freeing.
 */
CMAVSDK_EXPORT void mavsdk_action_byte_buffer_destroy(uint8_t** buffer);

// ===== Callback Typedefs =====
typedef void (*mavsdk_action_arm_callback_t)(const mavsdk_action_result_t result, void* user_data);
typedef void (*mavsdk_action_arm_force_callback_t)(const mavsdk_action_result_t result, void* user_data);
typedef void (*mavsdk_action_disarm_callback_t)(const mavsdk_action_result_t result, void* user_data);
typedef void (*mavsdk_action_takeoff_callback_t)(const mavsdk_action_result_t result, void* user_data);
typedef void (*mavsdk_action_land_callback_t)(const mavsdk_action_result_t result, void* user_data);
typedef void (*mavsdk_action_reboot_callback_t)(const mavsdk_action_result_t result, void* user_data);
typedef void (*mavsdk_action_shutdown_callback_t)(const mavsdk_action_result_t result, void* user_data);
typedef void (*mavsdk_action_terminate_callback_t)(const mavsdk_action_result_t result, void* user_data);
typedef void (*mavsdk_action_kill_callback_t)(const mavsdk_action_result_t result, void* user_data);
typedef void (*mavsdk_action_return_to_launch_callback_t)(const mavsdk_action_result_t result, void* user_data);
typedef void (*mavsdk_action_goto_location_callback_t)(const mavsdk_action_result_t result, void* user_data);
typedef void (*mavsdk_action_do_orbit_callback_t)(const mavsdk_action_result_t result, void* user_data);
typedef void (*mavsdk_action_hold_callback_t)(const mavsdk_action_result_t result, void* user_data);
typedef void (*mavsdk_action_set_actuator_callback_t)(const mavsdk_action_result_t result, void* user_data);
typedef void (*mavsdk_action_set_relay_callback_t)(const mavsdk_action_result_t result, void* user_data);
typedef void (*mavsdk_action_transition_to_fixedwing_callback_t)(const mavsdk_action_result_t result, void* user_data);
typedef void (*mavsdk_action_transition_to_multicopter_callback_t)(const mavsdk_action_result_t result, void* user_data);
typedef void (*mavsdk_action_get_takeoff_altitude_callback_t)(const mavsdk_action_result_t result, const float altitude, void* user_data);
typedef void (*mavsdk_action_set_takeoff_altitude_callback_t)(const mavsdk_action_result_t result, void* user_data);
typedef void (*mavsdk_action_get_return_to_launch_altitude_callback_t)(const mavsdk_action_result_t result, const float relative_altitude_m, void* user_data);
typedef void (*mavsdk_action_set_return_to_launch_altitude_callback_t)(const mavsdk_action_result_t result, void* user_data);
typedef void (*mavsdk_action_set_current_speed_callback_t)(const mavsdk_action_result_t result, void* user_data);

// ===== Action Creation/Destruction =====
CMAVSDK_EXPORT mavsdk_action_t mavsdk_action_create(mavsdk_system_t system);
CMAVSDK_EXPORT void mavsdk_action_destroy(mavsdk_action_t action);

// ===== Methods =====

/**
 * @brief Send command to arm the drone.
 * 
 *  Arming a drone normally causes motors to spin at idle.
 *  Before arming take all safety precautions and stand clear of the drone!
 *
 * @param action The action instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_arm_async(
    mavsdk_action_t action,
    mavsdk_action_arm_callback_t callback,
    void* user_data);


/**
 * @brief Get the current arm (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param arm_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_arm(
    mavsdk_action_t action);


/**
 * @brief Send command to force-arm the drone without any checks.
 * 
 *  Attention: this is not to be used for normal flying but only bench tests!
 * 
 *  Arming a drone normally causes motors to spin at idle.
 *  Before arming take all safety precautions and stand clear of the drone!
 *
 * @param action The action instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_arm_force_async(
    mavsdk_action_t action,
    mavsdk_action_arm_force_callback_t callback,
    void* user_data);


/**
 * @brief Get the current arm force (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param arm_force_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_arm_force(
    mavsdk_action_t action);


/**
 * @brief Send command to disarm the drone.
 * 
 *  This will disarm a drone that considers itself landed. If flying, the drone should
 *  reject the disarm command. Disarming means that all motors will stop.
 *
 * @param action The action instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_disarm_async(
    mavsdk_action_t action,
    mavsdk_action_disarm_callback_t callback,
    void* user_data);


/**
 * @brief Get the current disarm (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param disarm_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_disarm(
    mavsdk_action_t action);


/**
 * @brief Send command to take off and hover.
 * 
 *  This switches the drone into position control mode and commands
 *  it to take off and hover at the takeoff altitude.
 * 
 *  Note that the vehicle must be armed before it can take off.
 *
 * @param action The action instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_takeoff_async(
    mavsdk_action_t action,
    mavsdk_action_takeoff_callback_t callback,
    void* user_data);


/**
 * @brief Get the current takeoff (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param takeoff_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_takeoff(
    mavsdk_action_t action);


/**
 * @brief Send command to land at the current position.
 * 
 *  This switches the drone to 'Land' flight mode.
 *
 * @param action The action instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_land_async(
    mavsdk_action_t action,
    mavsdk_action_land_callback_t callback,
    void* user_data);


/**
 * @brief Get the current land (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param land_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_land(
    mavsdk_action_t action);


/**
 * @brief Send command to reboot the drone components.
 * 
 *  This will reboot the autopilot, companion computer, camera and gimbal.
 *
 * @param action The action instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_reboot_async(
    mavsdk_action_t action,
    mavsdk_action_reboot_callback_t callback,
    void* user_data);


/**
 * @brief Get the current reboot (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param reboot_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_reboot(
    mavsdk_action_t action);


/**
 * @brief Send command to shut down the drone components.
 * 
 *  This will shut down the autopilot, onboard computer, camera and gimbal.
 *  This command should only be used when the autopilot is disarmed and autopilots commonly
 *  reject it if they are not already ready to shut down.
 *
 * @param action The action instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_shutdown_async(
    mavsdk_action_t action,
    mavsdk_action_shutdown_callback_t callback,
    void* user_data);


/**
 * @brief Get the current shutdown (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param shutdown_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_shutdown(
    mavsdk_action_t action);


/**
 * @brief Send command to terminate the drone.
 * 
 *  This will run the terminate routine as configured on the drone (e.g. disarm and open the parachute).
 *
 * @param action The action instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_terminate_async(
    mavsdk_action_t action,
    mavsdk_action_terminate_callback_t callback,
    void* user_data);


/**
 * @brief Get the current terminate (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param terminate_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_terminate(
    mavsdk_action_t action);


/**
 * @brief Send command to kill the drone.
 * 
 *  This will disarm a drone irrespective of whether it is landed or flying.
 *  Note that the drone will fall out of the sky if this command is used while flying.
 *
 * @param action The action instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_kill_async(
    mavsdk_action_t action,
    mavsdk_action_kill_callback_t callback,
    void* user_data);


/**
 * @brief Get the current kill (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param kill_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_kill(
    mavsdk_action_t action);


/**
 * @brief Send command to return to the launch (takeoff) position and land.
 * 
 *  This switches the drone into [Return mode](https://docs.px4.io/master/en/flight_modes/return.html) which
 *  generally means it will rise up to a certain altitude to clear any obstacles before heading
 *  back to the launch (takeoff) position and land there.
 *
 * @param action The action instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_return_to_launch_async(
    mavsdk_action_t action,
    mavsdk_action_return_to_launch_callback_t callback,
    void* user_data);


/**
 * @brief Get the current return to launch (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param return_to_launch_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_return_to_launch(
    mavsdk_action_t action);


/**
 * @brief Send command to move the vehicle to a specific global position.
 * 
 *  The latitude and longitude are given in degrees (WGS84 frame) and the altitude
 *  in meters AMSL (above mean sea level).
 * 
 *  The yaw angle is in degrees (frame is NED, 0 is North, positive is clockwise).
 *
 * @param action The action instance.
* @param latitude_deg  Latitude (in degrees)
 * 
* @param longitude_deg  Longitude (in degrees)
 * 
* @param absolute_altitude_m  Altitude AMSL (in meters)
 * 
* @param yaw_deg  Yaw angle (in degrees, frame is NED, 0 is North, positive is clockwise)
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_goto_location_async(
    mavsdk_action_t action,
    double latitude_deg,
    double longitude_deg,
    float absolute_altitude_m,
    float yaw_deg,
    mavsdk_action_goto_location_callback_t callback,
    void* user_data);


/**
 * @brief Get the current goto location (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param goto_location_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_goto_location(
    mavsdk_action_t action,
    double latitude_deg,
    double longitude_deg,
    float absolute_altitude_m,
    float yaw_deg);


/**
 * @brief Send command do orbit to the drone.
 * 
 *  This will run the orbit routine with the given parameters.
 *
 * @param action The action instance.
* @param radius_m  Radius of circle (in meters)
 * 
* @param velocity_ms  Tangential velocity (in m/s)
 * 
* @param yaw_behavior  Yaw behavior of vehicle (ORBIT_YAW_BEHAVIOUR)
 * 
* @param latitude_deg  Center point latitude in degrees. NAN: use current latitude for center
 * 
* @param longitude_deg  Center point longitude in degrees. NAN: use current longitude for center
 * 
* @param absolute_altitude_m  Center point altitude in meters. NAN: use current altitude for center
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_do_orbit_async(
    mavsdk_action_t action,
    float radius_m,
    float velocity_ms,
    mavsdk_action_orbit_yaw_behavior_t yaw_behavior,
    double latitude_deg,
    double longitude_deg,
    double absolute_altitude_m,
    mavsdk_action_do_orbit_callback_t callback,
    void* user_data);


/**
 * @brief Get the current do orbit (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param do_orbit_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_do_orbit(
    mavsdk_action_t action,
    float radius_m,
    float velocity_ms,
    mavsdk_action_orbit_yaw_behavior_t yaw_behavior,
    double latitude_deg,
    double longitude_deg,
    double absolute_altitude_m);


/**
 * @brief Send command to hold position (a.k.a. "Loiter").
 * 
 *  Sends a command to drone to change to Hold flight mode, causing the
 *  vehicle to stop and maintain its current GPS position and altitude.
 * 
 *  Note: this command is specific to the PX4 Autopilot flight stack as
 *  it implies a change to a PX4-specific mode.
 *
 * @param action The action instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_hold_async(
    mavsdk_action_t action,
    mavsdk_action_hold_callback_t callback,
    void* user_data);


/**
 * @brief Get the current hold (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param hold_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_hold(
    mavsdk_action_t action);


/**
 * @brief Send command to set the value of an actuator.
 * 
 *  Note that the index of the actuator starts at 1 and that the value goes from -1 to 1.
 *
 * @param action The action instance.
* @param index  Index of actuator (starting with 1)
 * 
* @param value  Value to set the actuator to (normalized from [-1..1])
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_set_actuator_async(
    mavsdk_action_t action,
    int32_t index,
    float value,
    mavsdk_action_set_actuator_callback_t callback,
    void* user_data);


/**
 * @brief Get the current set actuator (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param set_actuator_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_set_actuator(
    mavsdk_action_t action,
    int32_t index,
    float value);


/**
 * @brief Send command to set the value of a relay.
 * 
 *  The index of the relay starts at 0.
 *  For the relay value, 1=on, 0=off, others possible depending on system hardware
 *
 * @param action The action instance.
* @param index  Index of relay (starting with 0)
 * 
* @param setting  Value to set the relay to
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_set_relay_async(
    mavsdk_action_t action,
    int32_t index,
    mavsdk_action_relay_command_t setting,
    mavsdk_action_set_relay_callback_t callback,
    void* user_data);


/**
 * @brief Get the current set relay (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param set_relay_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_set_relay(
    mavsdk_action_t action,
    int32_t index,
    mavsdk_action_relay_command_t setting);


/**
 * @brief Send command to transition the drone to fixedwing.
 * 
 *  The associated action will only be executed for VTOL vehicles (on other vehicle types the
 *  command will fail). The command will succeed if called when the vehicle
 *  is already in fixedwing mode.
 *
 * @param action The action instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_transition_to_fixedwing_async(
    mavsdk_action_t action,
    mavsdk_action_transition_to_fixedwing_callback_t callback,
    void* user_data);


/**
 * @brief Get the current transition to fixedwing (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param transition_to_fixedwing_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_transition_to_fixedwing(
    mavsdk_action_t action);


/**
 * @brief Send command to transition the drone to multicopter.
 * 
 *  The associated action will only be executed for VTOL vehicles (on other vehicle types the
 *  command will fail). The command will succeed if called when the vehicle
 *  is already in multicopter mode.
 *
 * @param action The action instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_transition_to_multicopter_async(
    mavsdk_action_t action,
    mavsdk_action_transition_to_multicopter_callback_t callback,
    void* user_data);


/**
 * @brief Get the current transition to multicopter (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param transition_to_multicopter_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_transition_to_multicopter(
    mavsdk_action_t action);


/**
 * @brief Get the takeoff altitude (in meters above ground).
 *
 * @param action The action instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_get_takeoff_altitude_async(
    mavsdk_action_t action,
    mavsdk_action_get_takeoff_altitude_callback_t callback,
    void* user_data);


/**
 * @brief Get the current get takeoff altitude (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param get_takeoff_altitude_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_get_takeoff_altitude(
    mavsdk_action_t action,
    float* altitude_out);


/**
 * @brief Set takeoff altitude (in meters above ground).
 *
 * @param action The action instance.
* @param altitude  Takeoff altitude relative to ground/takeoff location (in meters)
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_set_takeoff_altitude_async(
    mavsdk_action_t action,
    float altitude,
    mavsdk_action_set_takeoff_altitude_callback_t callback,
    void* user_data);


/**
 * @brief Get the current set takeoff altitude (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param set_takeoff_altitude_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_set_takeoff_altitude(
    mavsdk_action_t action,
    float altitude);


/**
 * @brief Get the return to launch minimum return altitude (in meters).
 *
 * @param action The action instance.
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_get_return_to_launch_altitude_async(
    mavsdk_action_t action,
    mavsdk_action_get_return_to_launch_altitude_callback_t callback,
    void* user_data);


/**
 * @brief Get the current get return to launch altitude (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param get_return_to_launch_altitude_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_get_return_to_launch_altitude(
    mavsdk_action_t action,
    float* relative_altitude_m_out);


/**
 * @brief Set the return to launch minimum return altitude (in meters).
 *
 * @param action The action instance.
* @param relative_altitude_m  Return altitude relative to takeoff location (in meters)
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_set_return_to_launch_altitude_async(
    mavsdk_action_t action,
    float relative_altitude_m,
    mavsdk_action_set_return_to_launch_altitude_callback_t callback,
    void* user_data);


/**
 * @brief Get the current set return to launch altitude (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param set_return_to_launch_altitude_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_set_return_to_launch_altitude(
    mavsdk_action_t action,
    float relative_altitude_m);


/**
 * @brief Set current speed.
 * 
 *  This will set the speed during a mission, reposition, and similar.
 *  It is ephemeral, so not stored on the drone and does not survive a reboot.
 *
 * @param action The action instance.
* @param speed_m_s  Speed in meters/second
 * 
 * @param callback Function to call when new data is available.
 * @param user_data User data to pass to the callback.
 */
CMAVSDK_EXPORT void mavsdk_action_set_current_speed_async(
    mavsdk_action_t action,
    float speed_m_s,
    mavsdk_action_set_current_speed_callback_t callback,
    void* user_data);


/**
 * @brief Get the current set current speed (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param set_current_speed_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_set_current_speed(
    mavsdk_action_t action,
    float speed_m_s);


/**
 * @brief Get the current set gps global origin (blocking).
 *
 * This function blocks until a value is available.
 *
 * @param telemetry The telemetry instance.
 * @param set_gps_global_origin_out Pointer to store the result.
 */
CMAVSDK_EXPORT
mavsdk_action_result_t
mavsdk_action_set_gps_global_origin(
    mavsdk_action_t action,
    double latitude_deg,
    double longitude_deg,
    float absolute_altitude_m);


#ifdef __cplusplus
}
#endif

#endif // CMAVSDK_ACTION_H