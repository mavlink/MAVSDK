// WARNING: THIS FILE IS AUTOGENERATED! As such, it should not be edited.
// Edits need to be made to the proto files
// (see https://github.com/mavlink/MAVSDK-Proto/blob/main/protos/action/action.proto)

#include "action.h"

#include <mavsdk/plugins/action/action.h>
#include <cstring>
#include <vector>

// ===== C++ to C Type Conversions =====

static mavsdk_action_result_t
translate_result(mavsdk::Action::Result cpp_result) {
    switch(cpp_result) {
        case mavsdk::Action::Result::Unknown:
            return MAVSDK_ACTION_RESULT_UNKNOWN;
        case mavsdk::Action::Result::Success:
            return MAVSDK_ACTION_RESULT_SUCCESS;
        case mavsdk::Action::Result::NoSystem:
            return MAVSDK_ACTION_RESULT_NO_SYSTEM;
        case mavsdk::Action::Result::ConnectionError:
            return MAVSDK_ACTION_RESULT_CONNECTION_ERROR;
        case mavsdk::Action::Result::Busy:
            return MAVSDK_ACTION_RESULT_BUSY;
        case mavsdk::Action::Result::CommandDenied:
            return MAVSDK_ACTION_RESULT_COMMAND_DENIED;
        case mavsdk::Action::Result::CommandDeniedLandedStateUnknown:
            return MAVSDK_ACTION_RESULT_COMMAND_DENIED_LANDED_STATE_UNKNOWN;
        case mavsdk::Action::Result::CommandDeniedNotLanded:
            return MAVSDK_ACTION_RESULT_COMMAND_DENIED_NOT_LANDED;
        case mavsdk::Action::Result::Timeout:
            return MAVSDK_ACTION_RESULT_TIMEOUT;
        case mavsdk::Action::Result::VtolTransitionSupportUnknown:
            return MAVSDK_ACTION_RESULT_VTOL_TRANSITION_SUPPORT_UNKNOWN;
        case mavsdk::Action::Result::NoVtolTransitionSupport:
            return MAVSDK_ACTION_RESULT_NO_VTOL_TRANSITION_SUPPORT;
        case mavsdk::Action::Result::ParameterError:
            return MAVSDK_ACTION_RESULT_PARAMETER_ERROR;
        case mavsdk::Action::Result::Unsupported:
            return MAVSDK_ACTION_RESULT_UNSUPPORTED;
        case mavsdk::Action::Result::Failed:
            return MAVSDK_ACTION_RESULT_FAILED;
        case mavsdk::Action::Result::InvalidArgument:
            return MAVSDK_ACTION_RESULT_INVALID_ARGUMENT;
    }
}

static mavsdk::Action::OrbitYawBehavior
translate_orbit_yaw_behavior_from_c(mavsdk_action_orbit_yaw_behavior_t c_enum) {
    switch(c_enum) {
        case MAVSDK_ACTION_ORBIT_YAW_BEHAVIOR_HOLD_FRONT_TO_CIRCLE_CENTER:
            return mavsdk::Action::OrbitYawBehavior::HoldFrontToCircleCenter;
        case MAVSDK_ACTION_ORBIT_YAW_BEHAVIOR_HOLD_INITIAL_HEADING:
            return mavsdk::Action::OrbitYawBehavior::HoldInitialHeading;
        case MAVSDK_ACTION_ORBIT_YAW_BEHAVIOR_UNCONTROLLED:
            return mavsdk::Action::OrbitYawBehavior::Uncontrolled;
        case MAVSDK_ACTION_ORBIT_YAW_BEHAVIOR_HOLD_FRONT_TANGENT_TO_CIRCLE:
            return mavsdk::Action::OrbitYawBehavior::HoldFrontTangentToCircle;
        case MAVSDK_ACTION_ORBIT_YAW_BEHAVIOR_RC_CONTROLLED:
            return mavsdk::Action::OrbitYawBehavior::RcControlled;
    }
    return mavsdk::Action::OrbitYawBehavior::HoldFrontToCircleCenter;
}

static mavsdk_action_orbit_yaw_behavior_t
translate_orbit_yaw_behavior_to_c(mavsdk::Action::OrbitYawBehavior cpp_enum) {
    switch(cpp_enum) {
        case mavsdk::Action::OrbitYawBehavior::HoldFrontToCircleCenter:
            return MAVSDK_ACTION_ORBIT_YAW_BEHAVIOR_HOLD_FRONT_TO_CIRCLE_CENTER;
        case mavsdk::Action::OrbitYawBehavior::HoldInitialHeading:
            return MAVSDK_ACTION_ORBIT_YAW_BEHAVIOR_HOLD_INITIAL_HEADING;
        case mavsdk::Action::OrbitYawBehavior::Uncontrolled:
            return MAVSDK_ACTION_ORBIT_YAW_BEHAVIOR_UNCONTROLLED;
        case mavsdk::Action::OrbitYawBehavior::HoldFrontTangentToCircle:
            return MAVSDK_ACTION_ORBIT_YAW_BEHAVIOR_HOLD_FRONT_TANGENT_TO_CIRCLE;
        case mavsdk::Action::OrbitYawBehavior::RcControlled:
            return MAVSDK_ACTION_ORBIT_YAW_BEHAVIOR_RC_CONTROLLED;
    }
    return MAVSDK_ACTION_ORBIT_YAW_BEHAVIOR_HOLD_FRONT_TO_CIRCLE_CENTER;
}

static mavsdk::Action::RelayCommand
translate_relay_command_from_c(mavsdk_action_relay_command_t c_enum) {
    switch(c_enum) {
        case MAVSDK_ACTION_RELAY_COMMAND_ON:
            return mavsdk::Action::RelayCommand::On;
        case MAVSDK_ACTION_RELAY_COMMAND_OFF:
            return mavsdk::Action::RelayCommand::Off;
    }
    return mavsdk::Action::RelayCommand::On;
}

static mavsdk_action_relay_command_t
translate_relay_command_to_c(mavsdk::Action::RelayCommand cpp_enum) {
    switch(cpp_enum) {
        case mavsdk::Action::RelayCommand::On:
            return MAVSDK_ACTION_RELAY_COMMAND_ON;
        case mavsdk::Action::RelayCommand::Off:
            return MAVSDK_ACTION_RELAY_COMMAND_OFF;
    }
    return MAVSDK_ACTION_RELAY_COMMAND_ON;
}




// ===== Primitive Array Destroy Functions =====
void mavsdk_action_float_array_destroy(float** array) {
    if (!array || !*array) return;
    delete[] *array;
    *array = nullptr;
}

void mavsdk_action_double_array_destroy(double** array) {
    if (!array || !*array) return;
    delete[] *array;
    *array = nullptr;
}

void mavsdk_action_int32t_array_destroy(int32_t** array) {
    if (!array || !*array) return;
    delete[] *array;
    *array = nullptr;
}

void mavsdk_action_uint32t_array_destroy(uint32_t** array) {
    if (!array || !*array) return;
    delete[] *array;
    *array = nullptr;
}

void mavsdk_action_int64t_array_destroy(int64_t** array) {
    if (!array || !*array) return;
    delete[] *array;
    *array = nullptr;
}

void mavsdk_action_uint64t_array_destroy(uint64_t** array) {
    if (!array || !*array) return;
    delete[] *array;
    *array = nullptr;
}

void mavsdk_action_bool_array_destroy(bool** array) {
    if (!array || !*array) return;
    delete[] *array;
    *array = nullptr;
}


void mavsdk_action_string_destroy(char** str) {
    if (!str || !*str) return;
    free(*str);
    *str = nullptr;
}

void mavsdk_action_byte_buffer_destroy(uint8_t** buffer) {
    if (!buffer || !*buffer) return;
    delete[] *buffer;
    *buffer = nullptr;
}

// ===== Action Wrapper =====

struct mavsdk_action_wrapper {
    std::shared_ptr<mavsdk::Action> cpp_plugin;
};

mavsdk_action_t
mavsdk_action_create(mavsdk_system_t system) {
    if (system == nullptr) {
        return nullptr;
    }

    auto wrapper = new mavsdk_action_wrapper();
    auto system_ptr = static_cast<std::shared_ptr<mavsdk::System>*>(system);
    wrapper->cpp_plugin = std::make_shared<mavsdk::Action>(*system_ptr);

    return wrapper;
}

void mavsdk_action_destroy(mavsdk_action_t action) {
    if (action == nullptr) {
        return;
    }

    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);
    delete wrapper;
}

// ===== Method Implementations =====

// Arm async
void mavsdk_action_arm_async(
    mavsdk_action_t action,
    mavsdk_action_arm_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->arm_async(
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// Arm sync
mavsdk_action_result_t
mavsdk_action_arm(
    mavsdk_action_t action)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->arm();

    return translate_result(ret_value);
}

// ArmForce async
void mavsdk_action_arm_force_async(
    mavsdk_action_t action,
    mavsdk_action_arm_force_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->arm_force_async(
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// ArmForce sync
mavsdk_action_result_t
mavsdk_action_arm_force(
    mavsdk_action_t action)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->arm_force();

    return translate_result(ret_value);
}

// Disarm async
void mavsdk_action_disarm_async(
    mavsdk_action_t action,
    mavsdk_action_disarm_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->disarm_async(
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// Disarm sync
mavsdk_action_result_t
mavsdk_action_disarm(
    mavsdk_action_t action)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->disarm();

    return translate_result(ret_value);
}

// Takeoff async
void mavsdk_action_takeoff_async(
    mavsdk_action_t action,
    mavsdk_action_takeoff_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->takeoff_async(
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// Takeoff sync
mavsdk_action_result_t
mavsdk_action_takeoff(
    mavsdk_action_t action)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->takeoff();

    return translate_result(ret_value);
}

// Land async
void mavsdk_action_land_async(
    mavsdk_action_t action,
    mavsdk_action_land_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->land_async(
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// Land sync
mavsdk_action_result_t
mavsdk_action_land(
    mavsdk_action_t action)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->land();

    return translate_result(ret_value);
}

// Reboot async
void mavsdk_action_reboot_async(
    mavsdk_action_t action,
    mavsdk_action_reboot_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->reboot_async(
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// Reboot sync
mavsdk_action_result_t
mavsdk_action_reboot(
    mavsdk_action_t action)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->reboot();

    return translate_result(ret_value);
}

// Shutdown async
void mavsdk_action_shutdown_async(
    mavsdk_action_t action,
    mavsdk_action_shutdown_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->shutdown_async(
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// Shutdown sync
mavsdk_action_result_t
mavsdk_action_shutdown(
    mavsdk_action_t action)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->shutdown();

    return translate_result(ret_value);
}

// Terminate async
void mavsdk_action_terminate_async(
    mavsdk_action_t action,
    mavsdk_action_terminate_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->terminate_async(
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// Terminate sync
mavsdk_action_result_t
mavsdk_action_terminate(
    mavsdk_action_t action)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->terminate();

    return translate_result(ret_value);
}

// Kill async
void mavsdk_action_kill_async(
    mavsdk_action_t action,
    mavsdk_action_kill_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->kill_async(
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// Kill sync
mavsdk_action_result_t
mavsdk_action_kill(
    mavsdk_action_t action)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->kill();

    return translate_result(ret_value);
}

// ReturnToLaunch async
void mavsdk_action_return_to_launch_async(
    mavsdk_action_t action,
    mavsdk_action_return_to_launch_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->return_to_launch_async(
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// ReturnToLaunch sync
mavsdk_action_result_t
mavsdk_action_return_to_launch(
    mavsdk_action_t action)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->return_to_launch();

    return translate_result(ret_value);
}

// GotoLocation async
void mavsdk_action_goto_location_async(
    mavsdk_action_t action,
    double latitude_deg,
    double longitude_deg,
    float absolute_altitude_m,
    float yaw_deg,
    mavsdk_action_goto_location_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->goto_location_async(
        latitude_deg,
        longitude_deg,
        absolute_altitude_m,
        yaw_deg,
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// GotoLocation sync
mavsdk_action_result_t
mavsdk_action_goto_location(
    mavsdk_action_t action,
    double latitude_deg,
    double longitude_deg,
    float absolute_altitude_m,
    float yaw_deg)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->goto_location(        latitude_deg,        longitude_deg,        absolute_altitude_m,        yaw_deg);

    return translate_result(ret_value);
}

// DoOrbit async
void mavsdk_action_do_orbit_async(
    mavsdk_action_t action,
    float radius_m,
    float velocity_ms,
    mavsdk_action_orbit_yaw_behavior_t yaw_behavior,
    double latitude_deg,
    double longitude_deg,
    double absolute_altitude_m,
    mavsdk_action_do_orbit_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->do_orbit_async(
        radius_m,
        velocity_ms,
        translate_orbit_yaw_behavior_from_c(yaw_behavior),        latitude_deg,
        longitude_deg,
        absolute_altitude_m,
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// DoOrbit sync
mavsdk_action_result_t
mavsdk_action_do_orbit(
    mavsdk_action_t action,
    float radius_m,
    float velocity_ms,
    mavsdk_action_orbit_yaw_behavior_t yaw_behavior,
    double latitude_deg,
    double longitude_deg,
    double absolute_altitude_m)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->do_orbit(        radius_m,        velocity_ms,        translate_orbit_yaw_behavior_from_c(yaw_behavior),        latitude_deg,        longitude_deg,        absolute_altitude_m);

    return translate_result(ret_value);
}

// Hold async
void mavsdk_action_hold_async(
    mavsdk_action_t action,
    mavsdk_action_hold_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->hold_async(
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// Hold sync
mavsdk_action_result_t
mavsdk_action_hold(
    mavsdk_action_t action)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->hold();

    return translate_result(ret_value);
}

// SetActuator async
void mavsdk_action_set_actuator_async(
    mavsdk_action_t action,
    int32_t index,
    float value,
    mavsdk_action_set_actuator_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->set_actuator_async(
        index,
        value,
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// SetActuator sync
mavsdk_action_result_t
mavsdk_action_set_actuator(
    mavsdk_action_t action,
    int32_t index,
    float value)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->set_actuator(        index,        value);

    return translate_result(ret_value);
}

// SetRelay async
void mavsdk_action_set_relay_async(
    mavsdk_action_t action,
    int32_t index,
    mavsdk_action_relay_command_t setting,
    mavsdk_action_set_relay_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->set_relay_async(
        index,
        translate_relay_command_from_c(setting),
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// SetRelay sync
mavsdk_action_result_t
mavsdk_action_set_relay(
    mavsdk_action_t action,
    int32_t index,
    mavsdk_action_relay_command_t setting)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->set_relay(        index,        translate_relay_command_from_c(setting));

    return translate_result(ret_value);
}

// TransitionToFixedwing async
void mavsdk_action_transition_to_fixedwing_async(
    mavsdk_action_t action,
    mavsdk_action_transition_to_fixedwing_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->transition_to_fixedwing_async(
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// TransitionToFixedwing sync
mavsdk_action_result_t
mavsdk_action_transition_to_fixedwing(
    mavsdk_action_t action)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->transition_to_fixedwing();

    return translate_result(ret_value);
}

// TransitionToMulticopter async
void mavsdk_action_transition_to_multicopter_async(
    mavsdk_action_t action,
    mavsdk_action_transition_to_multicopter_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->transition_to_multicopter_async(
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// TransitionToMulticopter sync
mavsdk_action_result_t
mavsdk_action_transition_to_multicopter(
    mavsdk_action_t action)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->transition_to_multicopter();

    return translate_result(ret_value);
}

// GetTakeoffAltitude async
void mavsdk_action_get_takeoff_altitude_async(
    mavsdk_action_t action,
    mavsdk_action_get_takeoff_altitude_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->get_takeoff_altitude_async(
        [callback, user_data](
            mavsdk::Action::Result result,
            float value) {
                if (callback) {
                    callback(
                        translate_result(result),
                        value,
                        user_data);
                }
        });
}


// GetTakeoffAltitude sync
mavsdk_action_result_t
mavsdk_action_get_takeoff_altitude(
    mavsdk_action_t action,
    float* altitude_out)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto result_pair = wrapper->cpp_plugin->get_takeoff_altitude(
);

    *altitude_out = result_pair.second;

    return translate_result(result_pair.first);
}

// SetTakeoffAltitude async
void mavsdk_action_set_takeoff_altitude_async(
    mavsdk_action_t action,
    float altitude,
    mavsdk_action_set_takeoff_altitude_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->set_takeoff_altitude_async(
        altitude,
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// SetTakeoffAltitude sync
mavsdk_action_result_t
mavsdk_action_set_takeoff_altitude(
    mavsdk_action_t action,
    float altitude)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->set_takeoff_altitude(        altitude);

    return translate_result(ret_value);
}

// GetReturnToLaunchAltitude async
void mavsdk_action_get_return_to_launch_altitude_async(
    mavsdk_action_t action,
    mavsdk_action_get_return_to_launch_altitude_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->get_return_to_launch_altitude_async(
        [callback, user_data](
            mavsdk::Action::Result result,
            float value) {
                if (callback) {
                    callback(
                        translate_result(result),
                        value,
                        user_data);
                }
        });
}


// GetReturnToLaunchAltitude sync
mavsdk_action_result_t
mavsdk_action_get_return_to_launch_altitude(
    mavsdk_action_t action,
    float* relative_altitude_m_out)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto result_pair = wrapper->cpp_plugin->get_return_to_launch_altitude(
);

    *relative_altitude_m_out = result_pair.second;

    return translate_result(result_pair.first);
}

// SetReturnToLaunchAltitude async
void mavsdk_action_set_return_to_launch_altitude_async(
    mavsdk_action_t action,
    float relative_altitude_m,
    mavsdk_action_set_return_to_launch_altitude_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->set_return_to_launch_altitude_async(
        relative_altitude_m,
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// SetReturnToLaunchAltitude sync
mavsdk_action_result_t
mavsdk_action_set_return_to_launch_altitude(
    mavsdk_action_t action,
    float relative_altitude_m)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->set_return_to_launch_altitude(        relative_altitude_m);

    return translate_result(ret_value);
}

// SetCurrentSpeed async
void mavsdk_action_set_current_speed_async(
    mavsdk_action_t action,
    float speed_m_s,
    mavsdk_action_set_current_speed_callback_t callback,
    void* user_data)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    wrapper->cpp_plugin->set_current_speed_async(
        speed_m_s,
        [callback, user_data](
            mavsdk::Action::Result result) {
                if (callback) {
                    callback(
                        translate_result(result),
                        user_data);
                }
        });
}


// SetCurrentSpeed sync
mavsdk_action_result_t
mavsdk_action_set_current_speed(
    mavsdk_action_t action,
    float speed_m_s)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->set_current_speed(        speed_m_s);

    return translate_result(ret_value);
}


// SetGpsGlobalOrigin sync
mavsdk_action_result_t
mavsdk_action_set_gps_global_origin(
    mavsdk_action_t action,
    double latitude_deg,
    double longitude_deg,
    float absolute_altitude_m)
{
    auto wrapper = static_cast<mavsdk_action_wrapper*>(action);

    auto ret_value = wrapper->cpp_plugin->set_gps_global_origin(        latitude_deg,        longitude_deg,        absolute_altitude_m);

    return translate_result(ret_value);
}
