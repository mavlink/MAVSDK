# ruff: noqa: F401

# WARNING: THIS FILE IS AUTOGENERATED! As such, it should not be edited.
# Edits need to be made to the proto files
# (see https://github.com/mavlink/MAVSDK-Proto/blob/main/protos/camera_server/camera_server.proto)

"""
Provides handling of camera interface
"""

import ctypes

from typing import Callable, Any
from enum import IntEnum

from ...cmavsdk_loader import _cmavsdk_lib


# ===== Enums =====
class CameraFeedback(IntEnum):
    """Possible feedback results for camera respond command."""

    UNKNOWN = 0
    OK = 1
    BUSY = 2
    FAILED = 3


class Mode(IntEnum):
    """Camera mode type."""

    UNKNOWN = 0
    PHOTO = 1
    VIDEO = 2


# ===== Result Enums =====
class CameraServerResult(IntEnum):
    """Possible results returned for action requests."""

    UNKNOWN = 0
    SUCCESS = 1
    IN_PROGRESS = 2
    BUSY = 3
    DENIED = 4
    ERROR = 5
    TIMEOUT = 6
    WRONG_ARGUMENT = 7
    NO_SYSTEM = 8


# ===== Internal C Structures =====
class InformationCStruct(ctypes.Structure):
    """
    Internal C structure for Information.
    Used only for C library communication.
    """

    _fields_ = [
        ("vendor_name", ctypes.c_char_p),
        ("model_name", ctypes.c_char_p),
        ("firmware_version", ctypes.c_char_p),
        ("focal_length_mm", ctypes.c_float),
        ("horizontal_sensor_size_mm", ctypes.c_float),
        ("vertical_sensor_size_mm", ctypes.c_float),
        ("horizontal_resolution_px", ctypes.c_uint32),
        ("vertical_resolution_px", ctypes.c_uint32),
        ("lens_id", ctypes.c_uint32),
        ("definition_file_version", ctypes.c_uint32),
        ("definition_file_uri", ctypes.c_char_p),
        ("image_in_video_mode_supported", ctypes.c_bool),
        ("video_in_image_mode_supported", ctypes.c_bool),
    ]


class VideoStreamingCStruct(ctypes.Structure):
    """
    Internal C structure for VideoStreaming.
    Used only for C library communication.
    """

    _fields_ = [
        ("has_rtsp_server", ctypes.c_bool),
        ("rtsp_uri", ctypes.c_char_p),
    ]


class PositionCStruct(ctypes.Structure):
    """
    Internal C structure for Position.
    Used only for C library communication.
    """

    _fields_ = [
        ("latitude_deg", ctypes.c_double),
        ("longitude_deg", ctypes.c_double),
        ("absolute_altitude_m", ctypes.c_float),
        ("relative_altitude_m", ctypes.c_float),
    ]


class QuaternionCStruct(ctypes.Structure):
    """
    Internal C structure for Quaternion.
    Used only for C library communication.
    """

    _fields_ = [
        ("w", ctypes.c_float),
        ("x", ctypes.c_float),
        ("y", ctypes.c_float),
        ("z", ctypes.c_float),
    ]


class CaptureInfoCStruct(ctypes.Structure):
    """
    Internal C structure for CaptureInfo.
    Used only for C library communication.
    """

    _fields_ = [
        ("position", PositionCStruct),
        ("attitude_quaternion", QuaternionCStruct),
        ("time_utc_us", ctypes.c_uint64),
        ("is_success", ctypes.c_bool),
        ("index", ctypes.c_int32),
        ("file_url", ctypes.c_char_p),
    ]


class StorageInformationCStruct(ctypes.Structure):
    """
    Internal C structure for StorageInformation.
    Used only for C library communication.
    """

    _fields_ = [
        ("used_storage_mib", ctypes.c_float),
        ("available_storage_mib", ctypes.c_float),
        ("total_storage_mib", ctypes.c_float),
        ("storage_status", ctypes.c_int),
        ("storage_id", ctypes.c_uint32),
        ("storage_type", ctypes.c_int),
        ("read_speed_mib_s", ctypes.c_float),
        ("write_speed_mib_s", ctypes.c_float),
    ]


class CaptureStatusCStruct(ctypes.Structure):
    """
    Internal C structure for CaptureStatus.
    Used only for C library communication.
    """

    _fields_ = [
        ("image_interval_s", ctypes.c_float),
        ("recording_time_s", ctypes.c_float),
        ("available_capacity_mib", ctypes.c_float),
        ("image_status", ctypes.c_int),
        ("video_status", ctypes.c_int),
        ("image_count", ctypes.c_int32),
    ]


class TrackPointCStruct(ctypes.Structure):
    """
    Internal C structure for TrackPoint.
    Used only for C library communication.
    """

    _fields_ = [
        ("point_x", ctypes.c_float),
        ("point_y", ctypes.c_float),
        ("radius", ctypes.c_float),
    ]


class TrackRectangleCStruct(ctypes.Structure):
    """
    Internal C structure for TrackRectangle.
    Used only for C library communication.
    """

    _fields_ = [
        ("top_left_corner_x", ctypes.c_float),
        ("top_left_corner_y", ctypes.c_float),
        ("bottom_right_corner_x", ctypes.c_float),
        ("bottom_right_corner_y", ctypes.c_float),
    ]


# ===== Structures =====
class Information:
    """
    Type to represent a camera information.
    """

    def __init__(
        self,
        vendor_name=None,
        model_name=None,
        firmware_version=None,
        focal_length_mm=None,
        horizontal_sensor_size_mm=None,
        vertical_sensor_size_mm=None,
        horizontal_resolution_px=None,
        vertical_resolution_px=None,
        lens_id=None,
        definition_file_version=None,
        definition_file_uri=None,
        image_in_video_mode_supported=None,
        video_in_image_mode_supported=None,
    ):
        self.vendor_name = vendor_name
        self.model_name = model_name
        self.firmware_version = firmware_version
        self.focal_length_mm = focal_length_mm
        self.horizontal_sensor_size_mm = horizontal_sensor_size_mm
        self.vertical_sensor_size_mm = vertical_sensor_size_mm
        self.horizontal_resolution_px = horizontal_resolution_px
        self.vertical_resolution_px = vertical_resolution_px
        self.lens_id = lens_id
        self.definition_file_version = definition_file_version
        self.definition_file_uri = definition_file_uri
        self.image_in_video_mode_supported = image_in_video_mode_supported
        self.video_in_image_mode_supported = video_in_image_mode_supported

    @classmethod
    def from_c_struct(cls, c_struct):
        """Convert from C structure to Python object"""
        instance = cls()
        instance.vendor_name = c_struct.vendor_name.decode("utf-8")
        instance.model_name = c_struct.model_name.decode("utf-8")
        instance.firmware_version = c_struct.firmware_version.decode("utf-8")
        instance.focal_length_mm = c_struct.focal_length_mm
        instance.horizontal_sensor_size_mm = c_struct.horizontal_sensor_size_mm
        instance.vertical_sensor_size_mm = c_struct.vertical_sensor_size_mm
        instance.horizontal_resolution_px = c_struct.horizontal_resolution_px
        instance.vertical_resolution_px = c_struct.vertical_resolution_px
        instance.lens_id = c_struct.lens_id
        instance.definition_file_version = c_struct.definition_file_version
        instance.definition_file_uri = c_struct.definition_file_uri.decode("utf-8")
        instance.image_in_video_mode_supported = c_struct.image_in_video_mode_supported
        instance.video_in_image_mode_supported = c_struct.video_in_image_mode_supported
        return instance

    def to_c_struct(self):
        """Convert to C structure for C library calls"""
        c_struct = InformationCStruct()
        c_struct.vendor_name = self.vendor_name.encode("utf-8")
        c_struct.model_name = self.model_name.encode("utf-8")
        c_struct.firmware_version = self.firmware_version.encode("utf-8")
        c_struct.focal_length_mm = self.focal_length_mm
        c_struct.horizontal_sensor_size_mm = self.horizontal_sensor_size_mm
        c_struct.vertical_sensor_size_mm = self.vertical_sensor_size_mm
        c_struct.horizontal_resolution_px = self.horizontal_resolution_px
        c_struct.vertical_resolution_px = self.vertical_resolution_px
        c_struct.lens_id = self.lens_id
        c_struct.definition_file_version = self.definition_file_version
        c_struct.definition_file_uri = self.definition_file_uri.encode("utf-8")
        c_struct.image_in_video_mode_supported = self.image_in_video_mode_supported
        c_struct.video_in_image_mode_supported = self.video_in_image_mode_supported
        return c_struct

    def __str__(self):
        fields = []
        fields.append(f"vendor_name={self.vendor_name}")
        fields.append(f"model_name={self.model_name}")
        fields.append(f"firmware_version={self.firmware_version}")
        fields.append(f"focal_length_mm={self.focal_length_mm}")
        fields.append(f"horizontal_sensor_size_mm={self.horizontal_sensor_size_mm}")
        fields.append(f"vertical_sensor_size_mm={self.vertical_sensor_size_mm}")
        fields.append(f"horizontal_resolution_px={self.horizontal_resolution_px}")
        fields.append(f"vertical_resolution_px={self.vertical_resolution_px}")
        fields.append(f"lens_id={self.lens_id}")
        fields.append(f"definition_file_version={self.definition_file_version}")
        fields.append(f"definition_file_uri={self.definition_file_uri}")
        fields.append(
            f"image_in_video_mode_supported={self.image_in_video_mode_supported}"
        )
        fields.append(
            f"video_in_image_mode_supported={self.video_in_image_mode_supported}"
        )
        return f"Information({', '.join(fields)})"


class VideoStreaming:
    """
    Type to represent video streaming settings
    """

    def __init__(self, has_rtsp_server=None, rtsp_uri=None):
        self.has_rtsp_server = has_rtsp_server
        self.rtsp_uri = rtsp_uri

    @classmethod
    def from_c_struct(cls, c_struct):
        """Convert from C structure to Python object"""
        instance = cls()
        instance.has_rtsp_server = c_struct.has_rtsp_server
        instance.rtsp_uri = c_struct.rtsp_uri.decode("utf-8")
        return instance

    def to_c_struct(self):
        """Convert to C structure for C library calls"""
        c_struct = VideoStreamingCStruct()
        c_struct.has_rtsp_server = self.has_rtsp_server
        c_struct.rtsp_uri = self.rtsp_uri.encode("utf-8")
        return c_struct

    def __str__(self):
        fields = []
        fields.append(f"has_rtsp_server={self.has_rtsp_server}")
        fields.append(f"rtsp_uri={self.rtsp_uri}")
        return f"VideoStreaming({', '.join(fields)})"


class Position:
    """
    Position type in global coordinates.
    """

    def __init__(
        self,
        latitude_deg=None,
        longitude_deg=None,
        absolute_altitude_m=None,
        relative_altitude_m=None,
    ):
        self.latitude_deg = latitude_deg
        self.longitude_deg = longitude_deg
        self.absolute_altitude_m = absolute_altitude_m
        self.relative_altitude_m = relative_altitude_m

    @classmethod
    def from_c_struct(cls, c_struct):
        """Convert from C structure to Python object"""
        instance = cls()
        instance.latitude_deg = c_struct.latitude_deg
        instance.longitude_deg = c_struct.longitude_deg
        instance.absolute_altitude_m = c_struct.absolute_altitude_m
        instance.relative_altitude_m = c_struct.relative_altitude_m
        return instance

    def to_c_struct(self):
        """Convert to C structure for C library calls"""
        c_struct = PositionCStruct()
        c_struct.latitude_deg = self.latitude_deg
        c_struct.longitude_deg = self.longitude_deg
        c_struct.absolute_altitude_m = self.absolute_altitude_m
        c_struct.relative_altitude_m = self.relative_altitude_m
        return c_struct

    def __str__(self):
        fields = []
        fields.append(f"latitude_deg={self.latitude_deg}")
        fields.append(f"longitude_deg={self.longitude_deg}")
        fields.append(f"absolute_altitude_m={self.absolute_altitude_m}")
        fields.append(f"relative_altitude_m={self.relative_altitude_m}")
        return f"Position({', '.join(fields)})"


class Quaternion:
    """
       Quaternion type.

    All rotations and axis systems follow the right-hand rule.
    The Hamilton quaternion product definition is used.
    A zero-rotation quaternion is represented by (1,0,0,0).
    The quaternion could also be written as w + xi + yj + zk.

    For more info see: https://en.wikipedia.org/wiki/Quaternion
    """

    def __init__(self, w=None, x=None, y=None, z=None):
        self.w = w
        self.x = x
        self.y = y
        self.z = z

    @classmethod
    def from_c_struct(cls, c_struct):
        """Convert from C structure to Python object"""
        instance = cls()
        instance.w = c_struct.w
        instance.x = c_struct.x
        instance.y = c_struct.y
        instance.z = c_struct.z
        return instance

    def to_c_struct(self):
        """Convert to C structure for C library calls"""
        c_struct = QuaternionCStruct()
        c_struct.w = self.w
        c_struct.x = self.x
        c_struct.y = self.y
        c_struct.z = self.z
        return c_struct

    def __str__(self):
        fields = []
        fields.append(f"w={self.w}")
        fields.append(f"x={self.x}")
        fields.append(f"y={self.y}")
        fields.append(f"z={self.z}")
        return f"Quaternion({', '.join(fields)})"


class CaptureInfo:
    """
    Information about a picture just captured.
    """

    def __init__(
        self,
        position=None,
        attitude_quaternion=None,
        time_utc_us=None,
        is_success=None,
        index=None,
        file_url=None,
    ):
        self.position = position
        self.attitude_quaternion = attitude_quaternion
        self.time_utc_us = time_utc_us
        self.is_success = is_success
        self.index = index
        self.file_url = file_url

    @classmethod
    def from_c_struct(cls, c_struct):
        """Convert from C structure to Python object"""
        instance = cls()
        instance.position = Position.from_c_struct(c_struct.position)
        instance.attitude_quaternion = Quaternion.from_c_struct(
            c_struct.attitude_quaternion
        )
        instance.time_utc_us = c_struct.time_utc_us
        instance.is_success = c_struct.is_success
        instance.index = c_struct.index
        instance.file_url = c_struct.file_url.decode("utf-8")
        return instance

    def to_c_struct(self):
        """Convert to C structure for C library calls"""
        c_struct = CaptureInfoCStruct()
        c_struct.position = self.position.to_c_struct()
        c_struct.attitude_quaternion = self.attitude_quaternion.to_c_struct()
        c_struct.time_utc_us = self.time_utc_us
        c_struct.is_success = self.is_success
        c_struct.index = self.index
        c_struct.file_url = self.file_url.encode("utf-8")
        return c_struct

    def __str__(self):
        fields = []
        fields.append(f"position={self.position}")
        fields.append(f"attitude_quaternion={self.attitude_quaternion}")
        fields.append(f"time_utc_us={self.time_utc_us}")
        fields.append(f"is_success={self.is_success}")
        fields.append(f"index={self.index}")
        fields.append(f"file_url={self.file_url}")
        return f"CaptureInfo({', '.join(fields)})"


class StorageInformation:
    """
    Information about the camera storage.
    """

    class StorageStatus(IntEnum):
        """Storage status type."""

        NOT_AVAILABLE = 0
        UNFORMATTED = 1
        FORMATTED = 2
        NOT_SUPPORTED = 3

    class StorageType(IntEnum):
        """Storage type."""

        UNKNOWN = 0
        USB_STICK = 1
        SD = 2
        MICROSD = 3
        HD = 4
        OTHER = 5

    def __init__(
        self,
        used_storage_mib=None,
        available_storage_mib=None,
        total_storage_mib=None,
        storage_status=None,
        storage_id=None,
        storage_type=None,
        read_speed_mib_s=None,
        write_speed_mib_s=None,
    ):
        self.used_storage_mib = used_storage_mib
        self.available_storage_mib = available_storage_mib
        self.total_storage_mib = total_storage_mib
        self.storage_status = storage_status
        self.storage_id = storage_id
        self.storage_type = storage_type
        self.read_speed_mib_s = read_speed_mib_s
        self.write_speed_mib_s = write_speed_mib_s

    @classmethod
    def from_c_struct(cls, c_struct):
        """Convert from C structure to Python object"""
        instance = cls()
        instance.used_storage_mib = c_struct.used_storage_mib
        instance.available_storage_mib = c_struct.available_storage_mib
        instance.total_storage_mib = c_struct.total_storage_mib
        instance.storage_status = StorageInformation.StorageStatus(
            c_struct.storage_status
        )
        instance.storage_id = c_struct.storage_id
        instance.storage_type = StorageInformation.StorageType(c_struct.storage_type)
        instance.read_speed_mib_s = c_struct.read_speed_mib_s
        instance.write_speed_mib_s = c_struct.write_speed_mib_s
        return instance

    def to_c_struct(self):
        """Convert to C structure for C library calls"""
        c_struct = StorageInformationCStruct()
        c_struct.used_storage_mib = self.used_storage_mib
        c_struct.available_storage_mib = self.available_storage_mib
        c_struct.total_storage_mib = self.total_storage_mib
        c_struct.storage_status = int(self.storage_status)
        c_struct.storage_id = self.storage_id
        c_struct.storage_type = int(self.storage_type)
        c_struct.read_speed_mib_s = self.read_speed_mib_s
        c_struct.write_speed_mib_s = self.write_speed_mib_s
        return c_struct

    def __str__(self):
        fields = []
        fields.append(f"used_storage_mib={self.used_storage_mib}")
        fields.append(f"available_storage_mib={self.available_storage_mib}")
        fields.append(f"total_storage_mib={self.total_storage_mib}")
        fields.append(f"storage_status={self.storage_status}")
        fields.append(f"storage_id={self.storage_id}")
        fields.append(f"storage_type={self.storage_type}")
        fields.append(f"read_speed_mib_s={self.read_speed_mib_s}")
        fields.append(f"write_speed_mib_s={self.write_speed_mib_s}")
        return f"StorageInformation({', '.join(fields)})"


class CaptureStatus:
    """
    Capture status
    """

    class ImageStatus(IntEnum):
        """The image status"""

        IDLE = 0
        CAPTURE_IN_PROGRESS = 1
        INTERVAL_IDLE = 2
        INTERVAL_IN_PROGRESS = 3

    class VideoStatus(IntEnum):
        """The video status"""

        IDLE = 0
        CAPTURE_IN_PROGRESS = 1

    def __init__(
        self,
        image_interval_s=None,
        recording_time_s=None,
        available_capacity_mib=None,
        image_status=None,
        video_status=None,
        image_count=None,
    ):
        self.image_interval_s = image_interval_s
        self.recording_time_s = recording_time_s
        self.available_capacity_mib = available_capacity_mib
        self.image_status = image_status
        self.video_status = video_status
        self.image_count = image_count

    @classmethod
    def from_c_struct(cls, c_struct):
        """Convert from C structure to Python object"""
        instance = cls()
        instance.image_interval_s = c_struct.image_interval_s
        instance.recording_time_s = c_struct.recording_time_s
        instance.available_capacity_mib = c_struct.available_capacity_mib
        instance.image_status = CaptureStatus.ImageStatus(c_struct.image_status)
        instance.video_status = CaptureStatus.VideoStatus(c_struct.video_status)
        instance.image_count = c_struct.image_count
        return instance

    def to_c_struct(self):
        """Convert to C structure for C library calls"""
        c_struct = CaptureStatusCStruct()
        c_struct.image_interval_s = self.image_interval_s
        c_struct.recording_time_s = self.recording_time_s
        c_struct.available_capacity_mib = self.available_capacity_mib
        c_struct.image_status = int(self.image_status)
        c_struct.video_status = int(self.video_status)
        c_struct.image_count = self.image_count
        return c_struct

    def __str__(self):
        fields = []
        fields.append(f"image_interval_s={self.image_interval_s}")
        fields.append(f"recording_time_s={self.recording_time_s}")
        fields.append(f"available_capacity_mib={self.available_capacity_mib}")
        fields.append(f"image_status={self.image_status}")
        fields.append(f"video_status={self.video_status}")
        fields.append(f"image_count={self.image_count}")
        return f"CaptureStatus({', '.join(fields)})"


class TrackPoint:
    """
    Point description type
    """

    def __init__(self, point_x=None, point_y=None, radius=None):
        self.point_x = point_x
        self.point_y = point_y
        self.radius = radius

    @classmethod
    def from_c_struct(cls, c_struct):
        """Convert from C structure to Python object"""
        instance = cls()
        instance.point_x = c_struct.point_x
        instance.point_y = c_struct.point_y
        instance.radius = c_struct.radius
        return instance

    def to_c_struct(self):
        """Convert to C structure for C library calls"""
        c_struct = TrackPointCStruct()
        c_struct.point_x = self.point_x
        c_struct.point_y = self.point_y
        c_struct.radius = self.radius
        return c_struct

    def __str__(self):
        fields = []
        fields.append(f"point_x={self.point_x}")
        fields.append(f"point_y={self.point_y}")
        fields.append(f"radius={self.radius}")
        return f"TrackPoint({', '.join(fields)})"


class TrackRectangle:
    """
    Rectangle description type
    """

    def __init__(
        self,
        top_left_corner_x=None,
        top_left_corner_y=None,
        bottom_right_corner_x=None,
        bottom_right_corner_y=None,
    ):
        self.top_left_corner_x = top_left_corner_x
        self.top_left_corner_y = top_left_corner_y
        self.bottom_right_corner_x = bottom_right_corner_x
        self.bottom_right_corner_y = bottom_right_corner_y

    @classmethod
    def from_c_struct(cls, c_struct):
        """Convert from C structure to Python object"""
        instance = cls()
        instance.top_left_corner_x = c_struct.top_left_corner_x
        instance.top_left_corner_y = c_struct.top_left_corner_y
        instance.bottom_right_corner_x = c_struct.bottom_right_corner_x
        instance.bottom_right_corner_y = c_struct.bottom_right_corner_y
        return instance

    def to_c_struct(self):
        """Convert to C structure for C library calls"""
        c_struct = TrackRectangleCStruct()
        c_struct.top_left_corner_x = self.top_left_corner_x
        c_struct.top_left_corner_y = self.top_left_corner_y
        c_struct.bottom_right_corner_x = self.bottom_right_corner_x
        c_struct.bottom_right_corner_y = self.bottom_right_corner_y
        return c_struct

    def __str__(self):
        fields = []
        fields.append(f"top_left_corner_x={self.top_left_corner_x}")
        fields.append(f"top_left_corner_y={self.top_left_corner_y}")
        fields.append(f"bottom_right_corner_x={self.bottom_right_corner_x}")
        fields.append(f"bottom_right_corner_y={self.bottom_right_corner_y}")
        return f"TrackRectangle({', '.join(fields)})"


# ===== Plugin =====
class CameraServer:
    """Provides handling of camera interface"""

    def __init__(self, server_component):
        self._lib = _cmavsdk_lib
        self._handle = None
        self._callbacks = []  # Keep references to prevent GC

        if server_component is None:
            raise ValueError("server_component cannot be None")

        component_handle = server_component._handle

        if not component_handle:
            raise ValueError("server_component handle is null")

        self._handle = self._lib.mavsdk_camera_server_create(component_handle)

        if not self._handle:
            raise RuntimeError(
                "Failed to create CameraServer plugin - C function returned null handle"
            )

    def set_information(self, information):
        """Get set_information (blocking)"""

        result_code = self._lib.mavsdk_camera_server_set_information(
            self._handle,
            information.to_c_struct(),
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"set_information failed: {result}")

        return result

    def set_video_streaming(self, video_streaming):
        """Get set_video_streaming (blocking)"""

        result_code = self._lib.mavsdk_camera_server_set_video_streaming(
            self._handle,
            video_streaming.to_c_struct(),
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"set_video_streaming failed: {result}")

        return result

    def set_in_progress(self, in_progress):
        """Get set_in_progress (blocking)"""

        result_code = self._lib.mavsdk_camera_server_set_in_progress(
            self._handle,
            in_progress,
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"set_in_progress failed: {result}")

        return result

    def subscribe_take_photo(self, callback: Callable, user_data: Any = None):
        """Subscribe to image capture requests. Each request received should respond to using RespondTakePhoto."""

        def c_callback(c_data, ud):
            try:
                py_data = c_data

                callback(py_data, user_data)

            except Exception as e:
                print(f"Error in take_photo callback: {e}")

        cb = TakePhotoCallback(c_callback)
        self._callbacks.append(cb)

        return self._lib.mavsdk_camera_server_subscribe_take_photo(
            self._handle, cb, None
        )

    def unsubscribe_take_photo(self, handle: ctypes.c_void_p):
        """Unsubscribe from take_photo"""
        self._lib.mavsdk_camera_server_unsubscribe_take_photo(self._handle, handle)

    def respond_take_photo(self, take_photo_feedback, capture_info):
        """Get respond_take_photo (blocking)"""

        result_code = self._lib.mavsdk_camera_server_respond_take_photo(
            self._handle,
            take_photo_feedback,
            capture_info.to_c_struct(),
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"respond_take_photo failed: {result}")

        return result

    def subscribe_start_video(self, callback: Callable, user_data: Any = None):
        """Subscribe to start video requests. Each request received should respond to using RespondStartVideo"""

        def c_callback(c_data, ud):
            try:
                py_data = c_data

                callback(py_data, user_data)

            except Exception as e:
                print(f"Error in start_video callback: {e}")

        cb = StartVideoCallback(c_callback)
        self._callbacks.append(cb)

        return self._lib.mavsdk_camera_server_subscribe_start_video(
            self._handle, cb, None
        )

    def unsubscribe_start_video(self, handle: ctypes.c_void_p):
        """Unsubscribe from start_video"""
        self._lib.mavsdk_camera_server_unsubscribe_start_video(self._handle, handle)

    def respond_start_video(self, start_video_feedback):
        """Get respond_start_video (blocking)"""

        result_code = self._lib.mavsdk_camera_server_respond_start_video(
            self._handle,
            start_video_feedback,
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"respond_start_video failed: {result}")

        return result

    def subscribe_stop_video(self, callback: Callable, user_data: Any = None):
        """Subscribe to stop video requests. Each request received should response to using RespondStopVideo"""

        def c_callback(c_data, ud):
            try:
                py_data = c_data

                callback(py_data, user_data)

            except Exception as e:
                print(f"Error in stop_video callback: {e}")

        cb = StopVideoCallback(c_callback)
        self._callbacks.append(cb)

        return self._lib.mavsdk_camera_server_subscribe_stop_video(
            self._handle, cb, None
        )

    def unsubscribe_stop_video(self, handle: ctypes.c_void_p):
        """Unsubscribe from stop_video"""
        self._lib.mavsdk_camera_server_unsubscribe_stop_video(self._handle, handle)

    def respond_stop_video(self, stop_video_feedback):
        """Get respond_stop_video (blocking)"""

        result_code = self._lib.mavsdk_camera_server_respond_stop_video(
            self._handle,
            stop_video_feedback,
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"respond_stop_video failed: {result}")

        return result

    def subscribe_start_video_streaming(
        self, callback: Callable, user_data: Any = None
    ):
        """Subscribe to start video streaming requests. Each request received should response to using RespondStartVideoStreaming"""

        def c_callback(c_data, ud):
            try:
                py_data = c_data

                callback(py_data, user_data)

            except Exception as e:
                print(f"Error in start_video_streaming callback: {e}")

        cb = StartVideoStreamingCallback(c_callback)
        self._callbacks.append(cb)

        return self._lib.mavsdk_camera_server_subscribe_start_video_streaming(
            self._handle, cb, None
        )

    def unsubscribe_start_video_streaming(self, handle: ctypes.c_void_p):
        """Unsubscribe from start_video_streaming"""
        self._lib.mavsdk_camera_server_unsubscribe_start_video_streaming(
            self._handle, handle
        )

    def respond_start_video_streaming(self, start_video_streaming_feedback):
        """Get respond_start_video_streaming (blocking)"""

        result_code = self._lib.mavsdk_camera_server_respond_start_video_streaming(
            self._handle,
            start_video_streaming_feedback,
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"respond_start_video_streaming failed: {result}")

        return result

    def subscribe_stop_video_streaming(self, callback: Callable, user_data: Any = None):
        """Subscribe to stop video streaming requests. Each request received should response to using RespondStopVideoStreaming"""

        def c_callback(c_data, ud):
            try:
                py_data = c_data

                callback(py_data, user_data)

            except Exception as e:
                print(f"Error in stop_video_streaming callback: {e}")

        cb = StopVideoStreamingCallback(c_callback)
        self._callbacks.append(cb)

        return self._lib.mavsdk_camera_server_subscribe_stop_video_streaming(
            self._handle, cb, None
        )

    def unsubscribe_stop_video_streaming(self, handle: ctypes.c_void_p):
        """Unsubscribe from stop_video_streaming"""
        self._lib.mavsdk_camera_server_unsubscribe_stop_video_streaming(
            self._handle, handle
        )

    def respond_stop_video_streaming(self, stop_video_streaming_feedback):
        """Get respond_stop_video_streaming (blocking)"""

        result_code = self._lib.mavsdk_camera_server_respond_stop_video_streaming(
            self._handle,
            stop_video_streaming_feedback,
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"respond_stop_video_streaming failed: {result}")

        return result

    def subscribe_set_mode(self, callback: Callable, user_data: Any = None):
        """Subscribe to set camera mode requests. Each request received should response to using RespondSetMode"""

        def c_callback(c_data, ud):
            try:
                py_data = Mode(c_data)

                callback(py_data, user_data)

            except Exception as e:
                print(f"Error in set_mode callback: {e}")

        cb = SetModeCallback(c_callback)
        self._callbacks.append(cb)

        return self._lib.mavsdk_camera_server_subscribe_set_mode(self._handle, cb, None)

    def unsubscribe_set_mode(self, handle: ctypes.c_void_p):
        """Unsubscribe from set_mode"""
        self._lib.mavsdk_camera_server_unsubscribe_set_mode(self._handle, handle)

    def respond_set_mode(self, set_mode_feedback):
        """Get respond_set_mode (blocking)"""

        result_code = self._lib.mavsdk_camera_server_respond_set_mode(
            self._handle,
            set_mode_feedback,
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"respond_set_mode failed: {result}")

        return result

    def subscribe_storage_information(self, callback: Callable, user_data: Any = None):
        """Subscribe to camera storage information requests. Each request received should response to using RespondStorageInformation"""

        def c_callback(c_data, ud):
            try:
                py_data = c_data

                callback(py_data, user_data)

            except Exception as e:
                print(f"Error in storage_information callback: {e}")

        cb = StorageInformationCallback(c_callback)
        self._callbacks.append(cb)

        return self._lib.mavsdk_camera_server_subscribe_storage_information(
            self._handle, cb, None
        )

    def unsubscribe_storage_information(self, handle: ctypes.c_void_p):
        """Unsubscribe from storage_information"""
        self._lib.mavsdk_camera_server_unsubscribe_storage_information(
            self._handle, handle
        )

    def respond_storage_information(
        self, storage_information_feedback, storage_information
    ):
        """Get respond_storage_information (blocking)"""

        result_code = self._lib.mavsdk_camera_server_respond_storage_information(
            self._handle,
            storage_information_feedback,
            storage_information.to_c_struct(),
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"respond_storage_information failed: {result}")

        return result

    def subscribe_capture_status(self, callback: Callable, user_data: Any = None):
        """Subscribe to camera capture status requests. Each request received should response to using RespondCaptureStatus"""

        def c_callback(c_data, ud):
            try:
                py_data = c_data

                callback(py_data, user_data)

            except Exception as e:
                print(f"Error in capture_status callback: {e}")

        cb = CaptureStatusCallback(c_callback)
        self._callbacks.append(cb)

        return self._lib.mavsdk_camera_server_subscribe_capture_status(
            self._handle, cb, None
        )

    def unsubscribe_capture_status(self, handle: ctypes.c_void_p):
        """Unsubscribe from capture_status"""
        self._lib.mavsdk_camera_server_unsubscribe_capture_status(self._handle, handle)

    def respond_capture_status(self, capture_status_feedback, capture_status):
        """Get respond_capture_status (blocking)"""

        result_code = self._lib.mavsdk_camera_server_respond_capture_status(
            self._handle,
            capture_status_feedback,
            capture_status.to_c_struct(),
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"respond_capture_status failed: {result}")

        return result

    def subscribe_format_storage(self, callback: Callable, user_data: Any = None):
        """Subscribe to format storage requests. Each request received should response to using RespondFormatStorage"""

        def c_callback(c_data, ud):
            try:
                py_data = c_data

                callback(py_data, user_data)

            except Exception as e:
                print(f"Error in format_storage callback: {e}")

        cb = FormatStorageCallback(c_callback)
        self._callbacks.append(cb)

        return self._lib.mavsdk_camera_server_subscribe_format_storage(
            self._handle, cb, None
        )

    def unsubscribe_format_storage(self, handle: ctypes.c_void_p):
        """Unsubscribe from format_storage"""
        self._lib.mavsdk_camera_server_unsubscribe_format_storage(self._handle, handle)

    def respond_format_storage(self, format_storage_feedback):
        """Get respond_format_storage (blocking)"""

        result_code = self._lib.mavsdk_camera_server_respond_format_storage(
            self._handle,
            format_storage_feedback,
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"respond_format_storage failed: {result}")

        return result

    def subscribe_reset_settings(self, callback: Callable, user_data: Any = None):
        """Subscribe to reset settings requests. Each request received should response to using RespondResetSettings"""

        def c_callback(c_data, ud):
            try:
                py_data = c_data

                callback(py_data, user_data)

            except Exception as e:
                print(f"Error in reset_settings callback: {e}")

        cb = ResetSettingsCallback(c_callback)
        self._callbacks.append(cb)

        return self._lib.mavsdk_camera_server_subscribe_reset_settings(
            self._handle, cb, None
        )

    def unsubscribe_reset_settings(self, handle: ctypes.c_void_p):
        """Unsubscribe from reset_settings"""
        self._lib.mavsdk_camera_server_unsubscribe_reset_settings(self._handle, handle)

    def respond_reset_settings(self, reset_settings_feedback):
        """Get respond_reset_settings (blocking)"""

        result_code = self._lib.mavsdk_camera_server_respond_reset_settings(
            self._handle,
            reset_settings_feedback,
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"respond_reset_settings failed: {result}")

        return result

    def subscribe_zoom_in_start(self, callback: Callable, user_data: Any = None):
        """Subscribe to zoom in start command"""

        def c_callback(c_data, ud):
            try:
                py_data = c_data

                callback(py_data, user_data)

            except Exception as e:
                print(f"Error in zoom_in_start callback: {e}")

        cb = ZoomInStartCallback(c_callback)
        self._callbacks.append(cb)

        return self._lib.mavsdk_camera_server_subscribe_zoom_in_start(
            self._handle, cb, None
        )

    def unsubscribe_zoom_in_start(self, handle: ctypes.c_void_p):
        """Unsubscribe from zoom_in_start"""
        self._lib.mavsdk_camera_server_unsubscribe_zoom_in_start(self._handle, handle)

    def respond_zoom_in_start(self, zoom_in_start_feedback):
        """Get respond_zoom_in_start (blocking)"""

        result_code = self._lib.mavsdk_camera_server_respond_zoom_in_start(
            self._handle,
            zoom_in_start_feedback,
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"respond_zoom_in_start failed: {result}")

        return result

    def subscribe_zoom_out_start(self, callback: Callable, user_data: Any = None):
        """Subscribe to zoom out start command"""

        def c_callback(c_data, ud):
            try:
                py_data = c_data

                callback(py_data, user_data)

            except Exception as e:
                print(f"Error in zoom_out_start callback: {e}")

        cb = ZoomOutStartCallback(c_callback)
        self._callbacks.append(cb)

        return self._lib.mavsdk_camera_server_subscribe_zoom_out_start(
            self._handle, cb, None
        )

    def unsubscribe_zoom_out_start(self, handle: ctypes.c_void_p):
        """Unsubscribe from zoom_out_start"""
        self._lib.mavsdk_camera_server_unsubscribe_zoom_out_start(self._handle, handle)

    def respond_zoom_out_start(self, zoom_out_start_feedback):
        """Get respond_zoom_out_start (blocking)"""

        result_code = self._lib.mavsdk_camera_server_respond_zoom_out_start(
            self._handle,
            zoom_out_start_feedback,
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"respond_zoom_out_start failed: {result}")

        return result

    def subscribe_zoom_stop(self, callback: Callable, user_data: Any = None):
        """Subscribe to zoom stop command"""

        def c_callback(c_data, ud):
            try:
                py_data = c_data

                callback(py_data, user_data)

            except Exception as e:
                print(f"Error in zoom_stop callback: {e}")

        cb = ZoomStopCallback(c_callback)
        self._callbacks.append(cb)

        return self._lib.mavsdk_camera_server_subscribe_zoom_stop(
            self._handle, cb, None
        )

    def unsubscribe_zoom_stop(self, handle: ctypes.c_void_p):
        """Unsubscribe from zoom_stop"""
        self._lib.mavsdk_camera_server_unsubscribe_zoom_stop(self._handle, handle)

    def respond_zoom_stop(self, zoom_stop_feedback):
        """Get respond_zoom_stop (blocking)"""

        result_code = self._lib.mavsdk_camera_server_respond_zoom_stop(
            self._handle,
            zoom_stop_feedback,
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"respond_zoom_stop failed: {result}")

        return result

    def subscribe_zoom_range(self, callback: Callable, user_data: Any = None):
        """Subscribe to zoom range command"""

        def c_callback(c_data, ud):
            try:
                py_data = c_data

                callback(py_data, user_data)

            except Exception as e:
                print(f"Error in zoom_range callback: {e}")

        cb = ZoomRangeCallback(c_callback)
        self._callbacks.append(cb)

        return self._lib.mavsdk_camera_server_subscribe_zoom_range(
            self._handle, cb, None
        )

    def unsubscribe_zoom_range(self, handle: ctypes.c_void_p):
        """Unsubscribe from zoom_range"""
        self._lib.mavsdk_camera_server_unsubscribe_zoom_range(self._handle, handle)

    def respond_zoom_range(self, zoom_range_feedback):
        """Get respond_zoom_range (blocking)"""

        result_code = self._lib.mavsdk_camera_server_respond_zoom_range(
            self._handle,
            zoom_range_feedback,
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"respond_zoom_range failed: {result}")

        return result

    def set_tracking_rectangle_status(self, tracked_rectangle):
        """Get set_tracking_rectangle_status (blocking)"""

        self._lib.mavsdk_camera_server_set_tracking_rectangle_status(
            self._handle,
            tracked_rectangle.to_c_struct(),
        )

    def set_tracking_off_status(self):
        """Get set_tracking_off_status (blocking)"""

        self._lib.mavsdk_camera_server_set_tracking_off_status(
            self._handle,
        )

    def subscribe_tracking_point_command(
        self, callback: Callable, user_data: Any = None
    ):
        """Subscribe to incoming tracking point command."""

        def c_callback(c_data, ud):
            try:
                py_data = TrackPoint.from_c_struct(c_data)

                self._lib.mavsdk_camera_server_track_point_destroy(ctypes.byref(c_data))

                callback(py_data, user_data)

            except Exception as e:
                print(f"Error in tracking_point_command callback: {e}")

        cb = TrackingPointCommandCallback(c_callback)
        self._callbacks.append(cb)

        return self._lib.mavsdk_camera_server_subscribe_tracking_point_command(
            self._handle, cb, None
        )

    def unsubscribe_tracking_point_command(self, handle: ctypes.c_void_p):
        """Unsubscribe from tracking_point_command"""
        self._lib.mavsdk_camera_server_unsubscribe_tracking_point_command(
            self._handle, handle
        )

    def subscribe_tracking_rectangle_command(
        self, callback: Callable, user_data: Any = None
    ):
        """Subscribe to incoming tracking rectangle command."""

        def c_callback(c_data, ud):
            try:
                py_data = TrackRectangle.from_c_struct(c_data)

                self._lib.mavsdk_camera_server_track_rectangle_destroy(
                    ctypes.byref(c_data)
                )

                callback(py_data, user_data)

            except Exception as e:
                print(f"Error in tracking_rectangle_command callback: {e}")

        cb = TrackingRectangleCommandCallback(c_callback)
        self._callbacks.append(cb)

        return self._lib.mavsdk_camera_server_subscribe_tracking_rectangle_command(
            self._handle, cb, None
        )

    def unsubscribe_tracking_rectangle_command(self, handle: ctypes.c_void_p):
        """Unsubscribe from tracking_rectangle_command"""
        self._lib.mavsdk_camera_server_unsubscribe_tracking_rectangle_command(
            self._handle, handle
        )

    def subscribe_tracking_off_command(self, callback: Callable, user_data: Any = None):
        """Subscribe to incoming tracking off command."""

        def c_callback(c_data, ud):
            try:
                py_data = c_data

                callback(py_data, user_data)

            except Exception as e:
                print(f"Error in tracking_off_command callback: {e}")

        cb = TrackingOffCommandCallback(c_callback)
        self._callbacks.append(cb)

        return self._lib.mavsdk_camera_server_subscribe_tracking_off_command(
            self._handle, cb, None
        )

    def unsubscribe_tracking_off_command(self, handle: ctypes.c_void_p):
        """Unsubscribe from tracking_off_command"""
        self._lib.mavsdk_camera_server_unsubscribe_tracking_off_command(
            self._handle, handle
        )

    def respond_tracking_point_command(self, stop_video_feedback):
        """Get respond_tracking_point_command (blocking)"""

        result_code = self._lib.mavsdk_camera_server_respond_tracking_point_command(
            self._handle,
            stop_video_feedback,
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"respond_tracking_point_command failed: {result}")

        return result

    def respond_tracking_rectangle_command(self, stop_video_feedback):
        """Get respond_tracking_rectangle_command (blocking)"""

        result_code = self._lib.mavsdk_camera_server_respond_tracking_rectangle_command(
            self._handle,
            stop_video_feedback,
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"respond_tracking_rectangle_command failed: {result}")

        return result

    def respond_tracking_off_command(self, stop_video_feedback):
        """Get respond_tracking_off_command (blocking)"""

        result_code = self._lib.mavsdk_camera_server_respond_tracking_off_command(
            self._handle,
            stop_video_feedback,
        )
        result = CameraServerResult(result_code)
        if result != CameraServerResult.SUCCESS:
            raise Exception(f"respond_tracking_off_command failed: {result}")

        return result

    def destroy(self):
        """Destroy the plugin instance"""
        if self._handle:
            self._lib.mavsdk_camera_server_destroy(self._handle)
            self._handle = None

    def __del__(self):
        self.destroy()


# ===== Callback Types =====
TakePhotoCallback = ctypes.CFUNCTYPE(None, ctypes.c_int32, ctypes.c_void_p)
StartVideoCallback = ctypes.CFUNCTYPE(None, ctypes.c_int32, ctypes.c_void_p)
StopVideoCallback = ctypes.CFUNCTYPE(None, ctypes.c_int32, ctypes.c_void_p)
StartVideoStreamingCallback = ctypes.CFUNCTYPE(None, ctypes.c_int32, ctypes.c_void_p)
StopVideoStreamingCallback = ctypes.CFUNCTYPE(None, ctypes.c_int32, ctypes.c_void_p)
SetModeCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
StorageInformationCallback = ctypes.CFUNCTYPE(None, ctypes.c_int32, ctypes.c_void_p)
CaptureStatusCallback = ctypes.CFUNCTYPE(None, ctypes.c_int32, ctypes.c_void_p)
FormatStorageCallback = ctypes.CFUNCTYPE(None, ctypes.c_int32, ctypes.c_void_p)
ResetSettingsCallback = ctypes.CFUNCTYPE(None, ctypes.c_int32, ctypes.c_void_p)
ZoomInStartCallback = ctypes.CFUNCTYPE(None, ctypes.c_int32, ctypes.c_void_p)
ZoomOutStartCallback = ctypes.CFUNCTYPE(None, ctypes.c_int32, ctypes.c_void_p)
ZoomStopCallback = ctypes.CFUNCTYPE(None, ctypes.c_int32, ctypes.c_void_p)
ZoomRangeCallback = ctypes.CFUNCTYPE(None, ctypes.c_float, ctypes.c_void_p)
TrackingPointCommandCallback = ctypes.CFUNCTYPE(
    None, TrackPointCStruct, ctypes.c_void_p
)
TrackingRectangleCommandCallback = ctypes.CFUNCTYPE(
    None, TrackRectangleCStruct, ctypes.c_void_p
)
TrackingOffCommandCallback = ctypes.CFUNCTYPE(None, ctypes.c_int32, ctypes.c_void_p)

# ===== Setup Functions =====
_cmavsdk_lib.mavsdk_camera_server_create.argtypes = [ctypes.c_void_p]
_cmavsdk_lib.mavsdk_camera_server_create.restype = ctypes.c_void_p

_cmavsdk_lib.mavsdk_camera_server_destroy.argtypes = [ctypes.c_void_p]
_cmavsdk_lib.mavsdk_camera_server_destroy.restype = None

_cmavsdk_lib.mavsdk_camera_server_information_destroy.argtypes = [
    ctypes.POINTER(InformationCStruct)
]
_cmavsdk_lib.mavsdk_camera_server_information_destroy.restype = None

_cmavsdk_lib.mavsdk_camera_server_video_streaming_destroy.argtypes = [
    ctypes.POINTER(VideoStreamingCStruct)
]
_cmavsdk_lib.mavsdk_camera_server_video_streaming_destroy.restype = None

_cmavsdk_lib.mavsdk_camera_server_position_destroy.argtypes = [
    ctypes.POINTER(PositionCStruct)
]
_cmavsdk_lib.mavsdk_camera_server_position_destroy.restype = None

_cmavsdk_lib.mavsdk_camera_server_quaternion_destroy.argtypes = [
    ctypes.POINTER(QuaternionCStruct)
]
_cmavsdk_lib.mavsdk_camera_server_quaternion_destroy.restype = None

_cmavsdk_lib.mavsdk_camera_server_capture_info_destroy.argtypes = [
    ctypes.POINTER(CaptureInfoCStruct)
]
_cmavsdk_lib.mavsdk_camera_server_capture_info_destroy.restype = None

_cmavsdk_lib.mavsdk_camera_server_storage_information_destroy.argtypes = [
    ctypes.POINTER(StorageInformationCStruct)
]
_cmavsdk_lib.mavsdk_camera_server_storage_information_destroy.restype = None

_cmavsdk_lib.mavsdk_camera_server_capture_status_destroy.argtypes = [
    ctypes.POINTER(CaptureStatusCStruct)
]
_cmavsdk_lib.mavsdk_camera_server_capture_status_destroy.restype = None

_cmavsdk_lib.mavsdk_camera_server_track_point_destroy.argtypes = [
    ctypes.POINTER(TrackPointCStruct)
]
_cmavsdk_lib.mavsdk_camera_server_track_point_destroy.restype = None

_cmavsdk_lib.mavsdk_camera_server_track_rectangle_destroy.argtypes = [
    ctypes.POINTER(TrackRectangleCStruct)
]
_cmavsdk_lib.mavsdk_camera_server_track_rectangle_destroy.restype = None


_cmavsdk_lib.mavsdk_camera_server_set_information.argtypes = [
    ctypes.c_void_p,
    InformationCStruct,
]

_cmavsdk_lib.mavsdk_camera_server_set_information.restype = ctypes.c_int

_cmavsdk_lib.mavsdk_camera_server_set_video_streaming.argtypes = [
    ctypes.c_void_p,
    VideoStreamingCStruct,
]

_cmavsdk_lib.mavsdk_camera_server_set_video_streaming.restype = ctypes.c_int

_cmavsdk_lib.mavsdk_camera_server_set_in_progress.argtypes = [
    ctypes.c_void_p,
    ctypes.c_bool,
]

_cmavsdk_lib.mavsdk_camera_server_set_in_progress.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_camera_server_subscribe_take_photo.argtypes = [
    ctypes.c_void_p,
    TakePhotoCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_subscribe_take_photo.restype = ctypes.c_void_p
# Unsubscribe
_cmavsdk_lib.mavsdk_camera_server_unsubscribe_take_photo.argtypes = [
    ctypes.c_void_p,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_unsubscribe_take_photo.restype = None


_cmavsdk_lib.mavsdk_camera_server_respond_take_photo.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int,
    CaptureInfoCStruct,
]

_cmavsdk_lib.mavsdk_camera_server_respond_take_photo.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_camera_server_subscribe_start_video.argtypes = [
    ctypes.c_void_p,
    StartVideoCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_subscribe_start_video.restype = ctypes.c_void_p
# Unsubscribe
_cmavsdk_lib.mavsdk_camera_server_unsubscribe_start_video.argtypes = [
    ctypes.c_void_p,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_unsubscribe_start_video.restype = None


_cmavsdk_lib.mavsdk_camera_server_respond_start_video.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int,
]

_cmavsdk_lib.mavsdk_camera_server_respond_start_video.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_camera_server_subscribe_stop_video.argtypes = [
    ctypes.c_void_p,
    StopVideoCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_subscribe_stop_video.restype = ctypes.c_void_p
# Unsubscribe
_cmavsdk_lib.mavsdk_camera_server_unsubscribe_stop_video.argtypes = [
    ctypes.c_void_p,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_unsubscribe_stop_video.restype = None


_cmavsdk_lib.mavsdk_camera_server_respond_stop_video.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int,
]

_cmavsdk_lib.mavsdk_camera_server_respond_stop_video.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_camera_server_subscribe_start_video_streaming.argtypes = [
    ctypes.c_void_p,
    StartVideoStreamingCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_subscribe_start_video_streaming.restype = (
    ctypes.c_void_p
)
# Unsubscribe
_cmavsdk_lib.mavsdk_camera_server_unsubscribe_start_video_streaming.argtypes = [
    ctypes.c_void_p,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_unsubscribe_start_video_streaming.restype = None


_cmavsdk_lib.mavsdk_camera_server_respond_start_video_streaming.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int,
]

_cmavsdk_lib.mavsdk_camera_server_respond_start_video_streaming.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_camera_server_subscribe_stop_video_streaming.argtypes = [
    ctypes.c_void_p,
    StopVideoStreamingCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_subscribe_stop_video_streaming.restype = (
    ctypes.c_void_p
)
# Unsubscribe
_cmavsdk_lib.mavsdk_camera_server_unsubscribe_stop_video_streaming.argtypes = [
    ctypes.c_void_p,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_unsubscribe_stop_video_streaming.restype = None


_cmavsdk_lib.mavsdk_camera_server_respond_stop_video_streaming.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int,
]

_cmavsdk_lib.mavsdk_camera_server_respond_stop_video_streaming.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_camera_server_subscribe_set_mode.argtypes = [
    ctypes.c_void_p,
    SetModeCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_subscribe_set_mode.restype = ctypes.c_void_p
# Unsubscribe
_cmavsdk_lib.mavsdk_camera_server_unsubscribe_set_mode.argtypes = [
    ctypes.c_void_p,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_unsubscribe_set_mode.restype = None


_cmavsdk_lib.mavsdk_camera_server_respond_set_mode.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int,
]

_cmavsdk_lib.mavsdk_camera_server_respond_set_mode.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_camera_server_subscribe_storage_information.argtypes = [
    ctypes.c_void_p,
    StorageInformationCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_subscribe_storage_information.restype = (
    ctypes.c_void_p
)
# Unsubscribe
_cmavsdk_lib.mavsdk_camera_server_unsubscribe_storage_information.argtypes = [
    ctypes.c_void_p,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_unsubscribe_storage_information.restype = None


_cmavsdk_lib.mavsdk_camera_server_respond_storage_information.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int,
    StorageInformationCStruct,
]

_cmavsdk_lib.mavsdk_camera_server_respond_storage_information.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_camera_server_subscribe_capture_status.argtypes = [
    ctypes.c_void_p,
    CaptureStatusCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_subscribe_capture_status.restype = ctypes.c_void_p
# Unsubscribe
_cmavsdk_lib.mavsdk_camera_server_unsubscribe_capture_status.argtypes = [
    ctypes.c_void_p,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_unsubscribe_capture_status.restype = None


_cmavsdk_lib.mavsdk_camera_server_respond_capture_status.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int,
    CaptureStatusCStruct,
]

_cmavsdk_lib.mavsdk_camera_server_respond_capture_status.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_camera_server_subscribe_format_storage.argtypes = [
    ctypes.c_void_p,
    FormatStorageCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_subscribe_format_storage.restype = ctypes.c_void_p
# Unsubscribe
_cmavsdk_lib.mavsdk_camera_server_unsubscribe_format_storage.argtypes = [
    ctypes.c_void_p,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_unsubscribe_format_storage.restype = None


_cmavsdk_lib.mavsdk_camera_server_respond_format_storage.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int,
]

_cmavsdk_lib.mavsdk_camera_server_respond_format_storage.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_camera_server_subscribe_reset_settings.argtypes = [
    ctypes.c_void_p,
    ResetSettingsCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_subscribe_reset_settings.restype = ctypes.c_void_p
# Unsubscribe
_cmavsdk_lib.mavsdk_camera_server_unsubscribe_reset_settings.argtypes = [
    ctypes.c_void_p,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_unsubscribe_reset_settings.restype = None


_cmavsdk_lib.mavsdk_camera_server_respond_reset_settings.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int,
]

_cmavsdk_lib.mavsdk_camera_server_respond_reset_settings.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_camera_server_subscribe_zoom_in_start.argtypes = [
    ctypes.c_void_p,
    ZoomInStartCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_subscribe_zoom_in_start.restype = ctypes.c_void_p
# Unsubscribe
_cmavsdk_lib.mavsdk_camera_server_unsubscribe_zoom_in_start.argtypes = [
    ctypes.c_void_p,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_unsubscribe_zoom_in_start.restype = None


_cmavsdk_lib.mavsdk_camera_server_respond_zoom_in_start.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int,
]

_cmavsdk_lib.mavsdk_camera_server_respond_zoom_in_start.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_camera_server_subscribe_zoom_out_start.argtypes = [
    ctypes.c_void_p,
    ZoomOutStartCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_subscribe_zoom_out_start.restype = ctypes.c_void_p
# Unsubscribe
_cmavsdk_lib.mavsdk_camera_server_unsubscribe_zoom_out_start.argtypes = [
    ctypes.c_void_p,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_unsubscribe_zoom_out_start.restype = None


_cmavsdk_lib.mavsdk_camera_server_respond_zoom_out_start.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int,
]

_cmavsdk_lib.mavsdk_camera_server_respond_zoom_out_start.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_camera_server_subscribe_zoom_stop.argtypes = [
    ctypes.c_void_p,
    ZoomStopCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_subscribe_zoom_stop.restype = ctypes.c_void_p
# Unsubscribe
_cmavsdk_lib.mavsdk_camera_server_unsubscribe_zoom_stop.argtypes = [
    ctypes.c_void_p,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_unsubscribe_zoom_stop.restype = None


_cmavsdk_lib.mavsdk_camera_server_respond_zoom_stop.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int,
]

_cmavsdk_lib.mavsdk_camera_server_respond_zoom_stop.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_camera_server_subscribe_zoom_range.argtypes = [
    ctypes.c_void_p,
    ZoomRangeCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_subscribe_zoom_range.restype = ctypes.c_void_p
# Unsubscribe
_cmavsdk_lib.mavsdk_camera_server_unsubscribe_zoom_range.argtypes = [
    ctypes.c_void_p,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_unsubscribe_zoom_range.restype = None


_cmavsdk_lib.mavsdk_camera_server_respond_zoom_range.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int,
]

_cmavsdk_lib.mavsdk_camera_server_respond_zoom_range.restype = ctypes.c_int

_cmavsdk_lib.mavsdk_camera_server_set_tracking_rectangle_status.argtypes = [
    ctypes.c_void_p,
    TrackRectangleCStruct,
]

_cmavsdk_lib.mavsdk_camera_server_set_tracking_rectangle_status.restype = None

_cmavsdk_lib.mavsdk_camera_server_set_tracking_off_status.argtypes = [
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_set_tracking_off_status.restype = None
_cmavsdk_lib.mavsdk_camera_server_subscribe_tracking_point_command.argtypes = [
    ctypes.c_void_p,
    TrackingPointCommandCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_subscribe_tracking_point_command.restype = (
    ctypes.c_void_p
)
# Unsubscribe
_cmavsdk_lib.mavsdk_camera_server_unsubscribe_tracking_point_command.argtypes = [
    ctypes.c_void_p,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_unsubscribe_tracking_point_command.restype = None

_cmavsdk_lib.mavsdk_camera_server_subscribe_tracking_rectangle_command.argtypes = [
    ctypes.c_void_p,
    TrackingRectangleCommandCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_subscribe_tracking_rectangle_command.restype = (
    ctypes.c_void_p
)
# Unsubscribe
_cmavsdk_lib.mavsdk_camera_server_unsubscribe_tracking_rectangle_command.argtypes = [
    ctypes.c_void_p,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_unsubscribe_tracking_rectangle_command.restype = None

_cmavsdk_lib.mavsdk_camera_server_subscribe_tracking_off_command.argtypes = [
    ctypes.c_void_p,
    TrackingOffCommandCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_subscribe_tracking_off_command.restype = (
    ctypes.c_void_p
)
# Unsubscribe
_cmavsdk_lib.mavsdk_camera_server_unsubscribe_tracking_off_command.argtypes = [
    ctypes.c_void_p,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_camera_server_unsubscribe_tracking_off_command.restype = None


_cmavsdk_lib.mavsdk_camera_server_respond_tracking_point_command.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int,
]

_cmavsdk_lib.mavsdk_camera_server_respond_tracking_point_command.restype = ctypes.c_int

_cmavsdk_lib.mavsdk_camera_server_respond_tracking_rectangle_command.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int,
]

_cmavsdk_lib.mavsdk_camera_server_respond_tracking_rectangle_command.restype = (
    ctypes.c_int
)

_cmavsdk_lib.mavsdk_camera_server_respond_tracking_off_command.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int,
]

_cmavsdk_lib.mavsdk_camera_server_respond_tracking_off_command.restype = ctypes.c_int
