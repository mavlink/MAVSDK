# ruff: noqa: F401

# WARNING: THIS FILE IS AUTOGENERATED! As such, it should not be edited.
# Edits need to be made to the proto files
# (see https://github.com/mavlink/MAVSDK-Proto/blob/main/protos/action/action.proto)

"""
Enable simple actions such as arming, taking off, and landing.
"""

import ctypes

from typing import Callable, Any
from enum import IntEnum

from ...cmavsdk_loader import _cmavsdk_lib


# ===== Enums =====
class OrbitYawBehavior(IntEnum):
    """Yaw behaviour during orbit flight."""

    HOLD_FRONT_TO_CIRCLE_CENTER = 0
    HOLD_INITIAL_HEADING = 1
    UNCONTROLLED = 2
    HOLD_FRONT_TANGENT_TO_CIRCLE = 3
    RC_CONTROLLED = 4


class RelayCommand(IntEnum):
    """Commanded values for relays"""

    ON = 0
    OFF = 1


# ===== Result Enums =====
class ActionResult(IntEnum):
    """Possible results returned for action requests."""

    UNKNOWN = 0
    SUCCESS = 1
    NO_SYSTEM = 2
    CONNECTION_ERROR = 3
    BUSY = 4
    COMMAND_DENIED = 5
    COMMAND_DENIED_LANDED_STATE_UNKNOWN = 6
    COMMAND_DENIED_NOT_LANDED = 7
    TIMEOUT = 8
    VTOL_TRANSITION_SUPPORT_UNKNOWN = 9
    NO_VTOL_TRANSITION_SUPPORT = 10
    PARAMETER_ERROR = 11
    UNSUPPORTED = 12
    FAILED = 13
    INVALID_ARGUMENT = 14


# ===== Internal C Structures =====

# ===== Structures =====


# ===== Plugin =====
class Action:
    """Enable simple actions such as arming, taking off, and landing."""

    def __init__(self, system):
        self._lib = _cmavsdk_lib
        self._handle = None
        self._callbacks = []  # Keep references to prevent GC

        if system is None:
            raise ValueError("system cannot be None")

        system_handle = system._handle

        if not system_handle:
            raise ValueError("system handle is null")

        self._handle = self._lib.mavsdk_action_create(system_handle)

        if not self._handle:
            raise RuntimeError(
                "Failed to create Action plugin - C function returned null handle"
            )

    def arm_async(self, callback: Callable, user_data: Any = None):
        """Send command to arm the drone.

        Arming a drone normally causes motors to spin at idle.
        Before arming take all safety precautions and stand clear of the drone!"""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in arm callback: {e}")

        cb = ArmCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_arm_async(self._handle, cb, None)

    def arm(self):
        """Get arm (blocking)"""

        result_code = self._lib.mavsdk_action_arm(
            self._handle,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"arm failed: {result}")

        return result

    def arm_force_async(self, callback: Callable, user_data: Any = None):
        """Send command to force-arm the drone without any checks.

        Attention: this is not to be used for normal flying but only bench tests!

        Arming a drone normally causes motors to spin at idle.
        Before arming take all safety precautions and stand clear of the drone!"""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in arm_force callback: {e}")

        cb = ArmForceCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_arm_force_async(self._handle, cb, None)

    def arm_force(self):
        """Get arm_force (blocking)"""

        result_code = self._lib.mavsdk_action_arm_force(
            self._handle,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"arm_force failed: {result}")

        return result

    def disarm_async(self, callback: Callable, user_data: Any = None):
        """Send command to disarm the drone.

        This will disarm a drone that considers itself landed. If flying, the drone should
        reject the disarm command. Disarming means that all motors will stop."""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in disarm callback: {e}")

        cb = DisarmCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_disarm_async(self._handle, cb, None)

    def disarm(self):
        """Get disarm (blocking)"""

        result_code = self._lib.mavsdk_action_disarm(
            self._handle,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"disarm failed: {result}")

        return result

    def takeoff_async(self, callback: Callable, user_data: Any = None):
        """Send command to take off and hover.

        This switches the drone into position control mode and commands
        it to take off and hover at the takeoff altitude.

        Note that the vehicle must be armed before it can take off."""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in takeoff callback: {e}")

        cb = TakeoffCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_takeoff_async(self._handle, cb, None)

    def takeoff(self):
        """Get takeoff (blocking)"""

        result_code = self._lib.mavsdk_action_takeoff(
            self._handle,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"takeoff failed: {result}")

        return result

    def land_async(self, callback: Callable, user_data: Any = None):
        """Send command to land at the current position.

        This switches the drone to 'Land' flight mode."""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in land callback: {e}")

        cb = LandCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_land_async(self._handle, cb, None)

    def land(self):
        """Get land (blocking)"""

        result_code = self._lib.mavsdk_action_land(
            self._handle,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"land failed: {result}")

        return result

    def reboot_async(self, callback: Callable, user_data: Any = None):
        """Send command to reboot the drone components.

        This will reboot the autopilot, companion computer, camera and gimbal."""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in reboot callback: {e}")

        cb = RebootCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_reboot_async(self._handle, cb, None)

    def reboot(self):
        """Get reboot (blocking)"""

        result_code = self._lib.mavsdk_action_reboot(
            self._handle,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"reboot failed: {result}")

        return result

    def shutdown_async(self, callback: Callable, user_data: Any = None):
        """Send command to shut down the drone components.

        This will shut down the autopilot, onboard computer, camera and gimbal.
        This command should only be used when the autopilot is disarmed and autopilots commonly
        reject it if they are not already ready to shut down."""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in shutdown callback: {e}")

        cb = ShutdownCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_shutdown_async(self._handle, cb, None)

    def shutdown(self):
        """Get shutdown (blocking)"""

        result_code = self._lib.mavsdk_action_shutdown(
            self._handle,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"shutdown failed: {result}")

        return result

    def terminate_async(self, callback: Callable, user_data: Any = None):
        """Send command to terminate the drone.

        This will run the terminate routine as configured on the drone (e.g. disarm and open the parachute)."""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in terminate callback: {e}")

        cb = TerminateCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_terminate_async(self._handle, cb, None)

    def terminate(self):
        """Get terminate (blocking)"""

        result_code = self._lib.mavsdk_action_terminate(
            self._handle,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"terminate failed: {result}")

        return result

    def kill_async(self, callback: Callable, user_data: Any = None):
        """Send command to kill the drone.

        This will disarm a drone irrespective of whether it is landed or flying.
        Note that the drone will fall out of the sky if this command is used while flying."""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in kill callback: {e}")

        cb = KillCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_kill_async(self._handle, cb, None)

    def kill(self):
        """Get kill (blocking)"""

        result_code = self._lib.mavsdk_action_kill(
            self._handle,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"kill failed: {result}")

        return result

    def return_to_launch_async(self, callback: Callable, user_data: Any = None):
        """Send command to return to the launch (takeoff) position and land.

        This switches the drone into [Return mode](https://docs.px4.io/master/en/flight_modes/return.html) which
        generally means it will rise up to a certain altitude to clear any obstacles before heading
        back to the launch (takeoff) position and land there."""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in return_to_launch callback: {e}")

        cb = ReturnToLaunchCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_return_to_launch_async(self._handle, cb, None)

    def return_to_launch(self):
        """Get return_to_launch (blocking)"""

        result_code = self._lib.mavsdk_action_return_to_launch(
            self._handle,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"return_to_launch failed: {result}")

        return result

    def goto_location_async(
        self,
        latitude_deg,
        longitude_deg,
        absolute_altitude_m,
        yaw_deg,
        callback: Callable,
        user_data: Any = None,
    ):
        """Send command to move the vehicle to a specific global position.

        The latitude and longitude are given in degrees (WGS84 frame) and the altitude
        in meters AMSL (above mean sea level).

        The yaw angle is in degrees (frame is NED, 0 is North, positive is clockwise)."""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in goto_location callback: {e}")

        cb = GotoLocationCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_goto_location_async(
            self._handle,
            latitude_deg,
            longitude_deg,
            absolute_altitude_m,
            yaw_deg,
            cb,
            None,
        )

    def goto_location(self, latitude_deg, longitude_deg, absolute_altitude_m, yaw_deg):
        """Get goto_location (blocking)"""

        result_code = self._lib.mavsdk_action_goto_location(
            self._handle,
            latitude_deg,
            longitude_deg,
            absolute_altitude_m,
            yaw_deg,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"goto_location failed: {result}")

        return result

    def do_orbit_async(
        self,
        radius_m,
        velocity_ms,
        yaw_behavior,
        latitude_deg,
        longitude_deg,
        absolute_altitude_m,
        callback: Callable,
        user_data: Any = None,
    ):
        """Send command do orbit to the drone.

        This will run the orbit routine with the given parameters."""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in do_orbit callback: {e}")

        cb = DoOrbitCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_do_orbit_async(
            self._handle,
            radius_m,
            velocity_ms,
            yaw_behavior,
            latitude_deg,
            longitude_deg,
            absolute_altitude_m,
            cb,
            None,
        )

    def do_orbit(
        self,
        radius_m,
        velocity_ms,
        yaw_behavior,
        latitude_deg,
        longitude_deg,
        absolute_altitude_m,
    ):
        """Get do_orbit (blocking)"""

        result_code = self._lib.mavsdk_action_do_orbit(
            self._handle,
            radius_m,
            velocity_ms,
            yaw_behavior,
            latitude_deg,
            longitude_deg,
            absolute_altitude_m,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"do_orbit failed: {result}")

        return result

    def hold_async(self, callback: Callable, user_data: Any = None):
        """Send command to hold position (a.k.a. "Loiter").

        Sends a command to drone to change to Hold flight mode, causing the
        vehicle to stop and maintain its current GPS position and altitude.

        Note: this command is specific to the PX4 Autopilot flight stack as
        it implies a change to a PX4-specific mode."""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in hold callback: {e}")

        cb = HoldCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_hold_async(self._handle, cb, None)

    def hold(self):
        """Get hold (blocking)"""

        result_code = self._lib.mavsdk_action_hold(
            self._handle,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"hold failed: {result}")

        return result

    def set_actuator_async(
        self, index, value, callback: Callable, user_data: Any = None
    ):
        """Send command to set the value of an actuator.

        Note that the index of the actuator starts at 1 and that the value goes from -1 to 1."""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in set_actuator callback: {e}")

        cb = SetActuatorCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_set_actuator_async(self._handle, index, value, cb, None)

    def set_actuator(self, index, value):
        """Get set_actuator (blocking)"""

        result_code = self._lib.mavsdk_action_set_actuator(
            self._handle,
            index,
            value,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"set_actuator failed: {result}")

        return result

    def set_relay_async(
        self, index, setting, callback: Callable, user_data: Any = None
    ):
        """Send command to set the value of a relay.

        The index of the relay starts at 0.
        For the relay value, 1=on, 0=off, others possible depending on system hardware"""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in set_relay callback: {e}")

        cb = SetRelayCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_set_relay_async(self._handle, index, setting, cb, None)

    def set_relay(self, index, setting):
        """Get set_relay (blocking)"""

        result_code = self._lib.mavsdk_action_set_relay(
            self._handle,
            index,
            setting,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"set_relay failed: {result}")

        return result

    def transition_to_fixedwing_async(self, callback: Callable, user_data: Any = None):
        """Send command to transition the drone to fixedwing.

        The associated action will only be executed for VTOL vehicles (on other vehicle types the
        command will fail). The command will succeed if called when the vehicle
        is already in fixedwing mode."""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in transition_to_fixedwing callback: {e}")

        cb = TransitionToFixedwingCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_transition_to_fixedwing_async(self._handle, cb, None)

    def transition_to_fixedwing(self):
        """Get transition_to_fixedwing (blocking)"""

        result_code = self._lib.mavsdk_action_transition_to_fixedwing(
            self._handle,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"transition_to_fixedwing failed: {result}")

        return result

    def transition_to_multicopter_async(
        self, callback: Callable, user_data: Any = None
    ):
        """Send command to transition the drone to multicopter.

        The associated action will only be executed for VTOL vehicles (on other vehicle types the
        command will fail). The command will succeed if called when the vehicle
        is already in multicopter mode."""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in transition_to_multicopter callback: {e}")

        cb = TransitionToMulticopterCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_transition_to_multicopter_async(self._handle, cb, None)

    def transition_to_multicopter(self):
        """Get transition_to_multicopter (blocking)"""

        result_code = self._lib.mavsdk_action_transition_to_multicopter(
            self._handle,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"transition_to_multicopter failed: {result}")

        return result

    def get_takeoff_altitude_async(self, callback: Callable, user_data: Any = None):
        """Get the takeoff altitude (in meters above ground)."""

        def c_callback(result, c_data, ud):
            try:
                py_result = ActionResult(result)

                py_data = c_data

                callback(py_result, py_data, user_data)

            except Exception as e:
                print(f"Error in get_takeoff_altitude callback: {e}")

        cb = GetTakeoffAltitudeCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_get_takeoff_altitude_async(self._handle, cb, None)

    def get_takeoff_altitude(self):
        """Get get_takeoff_altitude (blocking)"""

        result_out = ctypes.c_float()

        result_code = self._lib.mavsdk_action_get_takeoff_altitude(
            self._handle, ctypes.byref(result_out)
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"get_takeoff_altitude failed: {result}")

        return result_out.value

    def set_takeoff_altitude_async(
        self, altitude, callback: Callable, user_data: Any = None
    ):
        """Set takeoff altitude (in meters above ground)."""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in set_takeoff_altitude callback: {e}")

        cb = SetTakeoffAltitudeCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_set_takeoff_altitude_async(
            self._handle, altitude, cb, None
        )

    def set_takeoff_altitude(self, altitude):
        """Get set_takeoff_altitude (blocking)"""

        result_code = self._lib.mavsdk_action_set_takeoff_altitude(
            self._handle,
            altitude,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"set_takeoff_altitude failed: {result}")

        return result

    def get_return_to_launch_altitude_async(
        self, callback: Callable, user_data: Any = None
    ):
        """Get the return to launch minimum return altitude (in meters)."""

        def c_callback(result, c_data, ud):
            try:
                py_result = ActionResult(result)

                py_data = c_data

                callback(py_result, py_data, user_data)

            except Exception as e:
                print(f"Error in get_return_to_launch_altitude callback: {e}")

        cb = GetReturnToLaunchAltitudeCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_get_return_to_launch_altitude_async(
            self._handle, cb, None
        )

    def get_return_to_launch_altitude(self):
        """Get get_return_to_launch_altitude (blocking)"""

        result_out = ctypes.c_float()

        result_code = self._lib.mavsdk_action_get_return_to_launch_altitude(
            self._handle, ctypes.byref(result_out)
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"get_return_to_launch_altitude failed: {result}")

        return result_out.value

    def set_return_to_launch_altitude_async(
        self, relative_altitude_m, callback: Callable, user_data: Any = None
    ):
        """Set the return to launch minimum return altitude (in meters)."""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in set_return_to_launch_altitude callback: {e}")

        cb = SetReturnToLaunchAltitudeCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_set_return_to_launch_altitude_async(
            self._handle, relative_altitude_m, cb, None
        )

    def set_return_to_launch_altitude(self, relative_altitude_m):
        """Get set_return_to_launch_altitude (blocking)"""

        result_code = self._lib.mavsdk_action_set_return_to_launch_altitude(
            self._handle,
            relative_altitude_m,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"set_return_to_launch_altitude failed: {result}")

        return result

    def set_current_speed_async(
        self, speed_m_s, callback: Callable, user_data: Any = None
    ):
        """Set current speed.

        This will set the speed during a mission, reposition, and similar.
        It is ephemeral, so not stored on the drone and does not survive a reboot."""

        def c_callback(result, ud):
            try:
                py_result = ActionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in set_current_speed callback: {e}")

        cb = SetCurrentSpeedCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_action_set_current_speed_async(
            self._handle, speed_m_s, cb, None
        )

    def set_current_speed(self, speed_m_s):
        """Get set_current_speed (blocking)"""

        result_code = self._lib.mavsdk_action_set_current_speed(
            self._handle,
            speed_m_s,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"set_current_speed failed: {result}")

        return result

    def set_gps_global_origin(self, latitude_deg, longitude_deg, absolute_altitude_m):
        """Get set_gps_global_origin (blocking)"""

        result_code = self._lib.mavsdk_action_set_gps_global_origin(
            self._handle,
            latitude_deg,
            longitude_deg,
            absolute_altitude_m,
        )
        result = ActionResult(result_code)
        if result != ActionResult.SUCCESS:
            raise Exception(f"set_gps_global_origin failed: {result}")

        return result

    def destroy(self):
        """Destroy the plugin instance"""
        if self._handle:
            self._lib.mavsdk_action_destroy(self._handle)
            self._handle = None

    def __del__(self):
        self.destroy()


# ===== Callback Types =====
ArmCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
ArmForceCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
DisarmCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
TakeoffCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
LandCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
RebootCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
ShutdownCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
TerminateCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
KillCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
ReturnToLaunchCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
GotoLocationCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
DoOrbitCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
HoldCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
SetActuatorCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
SetRelayCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
TransitionToFixedwingCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
TransitionToMulticopterCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
GetTakeoffAltitudeCallback = ctypes.CFUNCTYPE(
    None, ctypes.c_int, ctypes.c_float, ctypes.c_void_p
)
SetTakeoffAltitudeCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
GetReturnToLaunchAltitudeCallback = ctypes.CFUNCTYPE(
    None, ctypes.c_int, ctypes.c_float, ctypes.c_void_p
)
SetReturnToLaunchAltitudeCallback = ctypes.CFUNCTYPE(
    None, ctypes.c_int, ctypes.c_void_p
)
SetCurrentSpeedCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)

# ===== Setup Functions =====
_cmavsdk_lib.mavsdk_action_create.argtypes = [ctypes.c_void_p]
_cmavsdk_lib.mavsdk_action_create.restype = ctypes.c_void_p

_cmavsdk_lib.mavsdk_action_destroy.argtypes = [ctypes.c_void_p]
_cmavsdk_lib.mavsdk_action_destroy.restype = None


_cmavsdk_lib.mavsdk_action_arm_async.argtypes = [
    ctypes.c_void_p,
    ArmCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_arm_async.restype = None

_cmavsdk_lib.mavsdk_action_arm.argtypes = [
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_arm.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_arm_force_async.argtypes = [
    ctypes.c_void_p,
    ArmForceCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_arm_force_async.restype = None

_cmavsdk_lib.mavsdk_action_arm_force.argtypes = [
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_arm_force.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_disarm_async.argtypes = [
    ctypes.c_void_p,
    DisarmCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_disarm_async.restype = None

_cmavsdk_lib.mavsdk_action_disarm.argtypes = [
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_disarm.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_takeoff_async.argtypes = [
    ctypes.c_void_p,
    TakeoffCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_takeoff_async.restype = None

_cmavsdk_lib.mavsdk_action_takeoff.argtypes = [
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_takeoff.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_land_async.argtypes = [
    ctypes.c_void_p,
    LandCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_land_async.restype = None

_cmavsdk_lib.mavsdk_action_land.argtypes = [
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_land.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_reboot_async.argtypes = [
    ctypes.c_void_p,
    RebootCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_reboot_async.restype = None

_cmavsdk_lib.mavsdk_action_reboot.argtypes = [
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_reboot.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_shutdown_async.argtypes = [
    ctypes.c_void_p,
    ShutdownCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_shutdown_async.restype = None

_cmavsdk_lib.mavsdk_action_shutdown.argtypes = [
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_shutdown.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_terminate_async.argtypes = [
    ctypes.c_void_p,
    TerminateCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_terminate_async.restype = None

_cmavsdk_lib.mavsdk_action_terminate.argtypes = [
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_terminate.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_kill_async.argtypes = [
    ctypes.c_void_p,
    KillCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_kill_async.restype = None

_cmavsdk_lib.mavsdk_action_kill.argtypes = [
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_kill.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_return_to_launch_async.argtypes = [
    ctypes.c_void_p,
    ReturnToLaunchCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_return_to_launch_async.restype = None

_cmavsdk_lib.mavsdk_action_return_to_launch.argtypes = [
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_return_to_launch.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_goto_location_async.argtypes = [
    ctypes.c_void_p,
    ctypes.c_double,
    ctypes.c_double,
    ctypes.c_float,
    ctypes.c_float,
    GotoLocationCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_goto_location_async.restype = None

_cmavsdk_lib.mavsdk_action_goto_location.argtypes = [
    ctypes.c_void_p,
    ctypes.c_double,
    ctypes.c_double,
    ctypes.c_float,
    ctypes.c_float,
]

_cmavsdk_lib.mavsdk_action_goto_location.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_do_orbit_async.argtypes = [
    ctypes.c_void_p,
    ctypes.c_float,
    ctypes.c_float,
    ctypes.c_int,
    ctypes.c_double,
    ctypes.c_double,
    ctypes.c_double,
    DoOrbitCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_do_orbit_async.restype = None

_cmavsdk_lib.mavsdk_action_do_orbit.argtypes = [
    ctypes.c_void_p,
    ctypes.c_float,
    ctypes.c_float,
    ctypes.c_int,
    ctypes.c_double,
    ctypes.c_double,
    ctypes.c_double,
]

_cmavsdk_lib.mavsdk_action_do_orbit.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_hold_async.argtypes = [
    ctypes.c_void_p,
    HoldCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_hold_async.restype = None

_cmavsdk_lib.mavsdk_action_hold.argtypes = [
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_hold.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_set_actuator_async.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int32,
    ctypes.c_float,
    SetActuatorCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_set_actuator_async.restype = None

_cmavsdk_lib.mavsdk_action_set_actuator.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int32,
    ctypes.c_float,
]

_cmavsdk_lib.mavsdk_action_set_actuator.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_set_relay_async.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int32,
    ctypes.c_int,
    SetRelayCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_set_relay_async.restype = None

_cmavsdk_lib.mavsdk_action_set_relay.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int32,
    ctypes.c_int,
]

_cmavsdk_lib.mavsdk_action_set_relay.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_transition_to_fixedwing_async.argtypes = [
    ctypes.c_void_p,
    TransitionToFixedwingCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_transition_to_fixedwing_async.restype = None

_cmavsdk_lib.mavsdk_action_transition_to_fixedwing.argtypes = [
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_transition_to_fixedwing.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_transition_to_multicopter_async.argtypes = [
    ctypes.c_void_p,
    TransitionToMulticopterCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_transition_to_multicopter_async.restype = None

_cmavsdk_lib.mavsdk_action_transition_to_multicopter.argtypes = [
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_transition_to_multicopter.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_get_takeoff_altitude_async.argtypes = [
    ctypes.c_void_p,
    GetTakeoffAltitudeCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_get_takeoff_altitude_async.restype = None

_cmavsdk_lib.mavsdk_action_get_takeoff_altitude.argtypes = [
    ctypes.c_void_p,
    ctypes.POINTER(ctypes.c_float),
]

_cmavsdk_lib.mavsdk_action_get_takeoff_altitude.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_set_takeoff_altitude_async.argtypes = [
    ctypes.c_void_p,
    ctypes.c_float,
    SetTakeoffAltitudeCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_set_takeoff_altitude_async.restype = None

_cmavsdk_lib.mavsdk_action_set_takeoff_altitude.argtypes = [
    ctypes.c_void_p,
    ctypes.c_float,
]

_cmavsdk_lib.mavsdk_action_set_takeoff_altitude.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_get_return_to_launch_altitude_async.argtypes = [
    ctypes.c_void_p,
    GetReturnToLaunchAltitudeCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_get_return_to_launch_altitude_async.restype = None

_cmavsdk_lib.mavsdk_action_get_return_to_launch_altitude.argtypes = [
    ctypes.c_void_p,
    ctypes.POINTER(ctypes.c_float),
]

_cmavsdk_lib.mavsdk_action_get_return_to_launch_altitude.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_set_return_to_launch_altitude_async.argtypes = [
    ctypes.c_void_p,
    ctypes.c_float,
    SetReturnToLaunchAltitudeCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_set_return_to_launch_altitude_async.restype = None

_cmavsdk_lib.mavsdk_action_set_return_to_launch_altitude.argtypes = [
    ctypes.c_void_p,
    ctypes.c_float,
]

_cmavsdk_lib.mavsdk_action_set_return_to_launch_altitude.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_action_set_current_speed_async.argtypes = [
    ctypes.c_void_p,
    ctypes.c_float,
    SetCurrentSpeedCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_action_set_current_speed_async.restype = None

_cmavsdk_lib.mavsdk_action_set_current_speed.argtypes = [
    ctypes.c_void_p,
    ctypes.c_float,
]

_cmavsdk_lib.mavsdk_action_set_current_speed.restype = ctypes.c_int

_cmavsdk_lib.mavsdk_action_set_gps_global_origin.argtypes = [
    ctypes.c_void_p,
    ctypes.c_double,
    ctypes.c_double,
    ctypes.c_float,
]

_cmavsdk_lib.mavsdk_action_set_gps_global_origin.restype = ctypes.c_int
