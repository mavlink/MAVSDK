# ruff: noqa: F401

# WARNING: THIS FILE IS AUTOGENERATED! As such, it should not be edited.
# Edits need to be made to the proto files
# (see https://github.com/mavlink/MAVSDK-Proto/blob/main/protos/telemetry/telemetry.proto)

"""
Allow users to get vehicle telemetry and state information
 (e.g. battery, GPS, RC connection, flight mode etc.) and set telemetry update rates.
 Certain Telemetry Topics such as, Position or Velocity_Ned require GPS Fix before data gets published.
"""

import asyncio
from typing import AsyncGenerator

from pymavsdk.plugins.telemetry import (
    Telemetry,
    FixType,
    BatteryFunction,
    FlightMode,
    StatusTextType,
    LandedState,
    VtolState,
    Position,
    Heading,
    Quaternion,
    EulerAngle,
    AngularVelocityBody,
    GpsInfo,
    RawGps,
    Battery,
    Health,
    RcStatus,
    StatusText,
    ActuatorControlTarget,
    ActuatorOutputStatus,
    Covariance,
    VelocityBody,
    PositionBody,
    Odometry,
    DistanceSensor,
    ScaledPressure,
    PositionNed,
    VelocityNed,
    PositionVelocityNed,
    GroundTruth,
    FixedwingMetrics,
    AccelerationFrd,
    AngularVelocityFrd,
    MagneticFieldFrd,
    Imu,
    GpsGlobalOrigin,
    Altitude,
    Wind,
)


class TelemetryError(Exception):
    """Raised when a Telemetry operation fails."""

    def __init__(self, result, origin, *params):
        self._result = result
        self._origin = origin
        self._params = params

    def __str__(self):
        return f"{self._result}: '{self._result.name}'; origin: {self._origin}; params: {self._params}"


class TelemetryAsync:
    """
       Allow users to get vehicle telemetry and state information
    (e.g. battery, GPS, RC connection, flight mode etc.) and set telemetry update rates.
    Certain Telemetry Topics such as, Position or Velocity_Ned require GPS Fix before data gets published.

       Async wrapper around :class:`Telemetry` that mirrors the gRPC-based
       asyncio API while using the ctypes-based C library directly.
    """

    def __init__(self, system):
        self._plugin = Telemetry(system._system)

    async def subscribe_position(self) -> AsyncGenerator[Position, None]:
        """
        Subscribe to 'position' updates.

        Yields
        ------
        position : Position
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_position(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_position(handle)

    async def position(self):
        """
        Subscribe to 'position' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a44ab70> : Position
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.position())

    async def subscribe_home(self) -> AsyncGenerator[Position, None]:
        """
        Subscribe to 'home position' updates.

        Yields
        ------
        position : Position
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_home(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_home(handle)

    async def home(self):
        """
        Subscribe to 'home position' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a44ad50> : Position
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.home())

    async def subscribe_in_air(self) -> AsyncGenerator[bool, None]:
        """
        Subscribe to in-air updates.

        Yields
        ------
         : bool
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_in_air(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_in_air(handle)

    async def in_air(self):
        """
        Subscribe to in-air updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a44af30> :
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.in_air())

    async def subscribe_landed_state(self) -> AsyncGenerator[LandedState, None]:
        """
        Subscribe to landed state updates

        Yields
        ------
        landed_state : LandedState
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_landed_state(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_landed_state(handle)

    async def landed_state(self):
        """
        Subscribe to landed state updates

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a44b170> : LandedState
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.landed_state())

    async def subscribe_armed(self) -> AsyncGenerator[bool, None]:
        """
        Subscribe to armed updates.

        Yields
        ------
         : bool
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_armed(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_armed(handle)

    async def armed(self):
        """
        Subscribe to armed updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a44b2f0> :
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.armed())

    async def subscribe_vtol_state(self) -> AsyncGenerator[VtolState, None]:
        """
        subscribe to vtol state Updates

        Yields
        ------
        vtol_state : VtolState
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_vtol_state(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_vtol_state(handle)

    async def vtol_state(self):
        """
        subscribe to vtol state Updates

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a44b4d0> : VtolState
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.vtol_state())

    async def subscribe_attitude_quaternion(self) -> AsyncGenerator[Quaternion, None]:
        """
        Subscribe to 'attitude' updates (quaternion).

        Yields
        ------
        quaternion : Quaternion
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_attitude_quaternion(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_attitude_quaternion(handle)

    async def attitude_quaternion(self):
        """
        Subscribe to 'attitude' updates (quaternion).

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a44b710> : Quaternion
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.attitude_quaternion()
        )

    async def subscribe_attitude_euler(self) -> AsyncGenerator[EulerAngle, None]:
        """
        Subscribe to 'attitude' updates (Euler).

        Yields
        ------
        euler_angle : EulerAngle
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_attitude_euler(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_attitude_euler(handle)

    async def attitude_euler(self):
        """
        Subscribe to 'attitude' updates (Euler).

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a44b9b0> : EulerAngle
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.attitude_euler())

    async def subscribe_attitude_angular_velocity_body(
        self,
    ) -> AsyncGenerator[AngularVelocityBody, None]:
        """
        Subscribe to 'attitude' updates (angular velocity)

        Yields
        ------
        angular_velocity_body : AngularVelocityBody
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_attitude_angular_velocity_body(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_attitude_angular_velocity_body(handle)

    async def attitude_angular_velocity_body(self):
        """
        Subscribe to 'attitude' updates (angular velocity)

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a44bb90> : AngularVelocityBody
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.attitude_angular_velocity_body()
        )

    async def subscribe_velocity_ned(self) -> AsyncGenerator[VelocityNed, None]:
        """
        Subscribe to 'ground speed' updates (NED).

        Yields
        ------
        velocity_ned : VelocityNed
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_velocity_ned(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_velocity_ned(handle)

    async def velocity_ned(self):
        """
        Subscribe to 'ground speed' updates (NED).

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a44be30> : VelocityNed
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.velocity_ned())

    async def subscribe_gps_info(self) -> AsyncGenerator[GpsInfo, None]:
        """
        Subscribe to 'GPS info' updates.

        Yields
        ------
        gps_info : GpsInfo
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_gps_info(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_gps_info(handle)

    async def gps_info(self):
        """
        Subscribe to 'GPS info' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a460050> : GpsInfo
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.gps_info())

    async def subscribe_raw_gps(self) -> AsyncGenerator[RawGps, None]:
        """
        Subscribe to 'Raw GPS' updates.

        Yields
        ------
        raw_gps : RawGps
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_raw_gps(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_raw_gps(handle)

    async def raw_gps(self):
        """
        Subscribe to 'Raw GPS' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a4601d0> : RawGps
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.raw_gps())

    async def subscribe_battery(self) -> AsyncGenerator[Battery, None]:
        """
        Subscribe to 'battery' updates.

        Yields
        ------
        battery : Battery
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_battery(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_battery(handle)

    async def battery(self):
        """
        Subscribe to 'battery' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a4603b0> : Battery
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.battery())

    async def subscribe_flight_mode(self) -> AsyncGenerator[FlightMode, None]:
        """
        Subscribe to 'flight mode' updates.

        Yields
        ------
        flight_mode : FlightMode
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_flight_mode(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_flight_mode(handle)

    async def flight_mode(self):
        """
        Subscribe to 'flight mode' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a4605f0> : FlightMode
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.flight_mode())

    async def subscribe_health(self) -> AsyncGenerator[Health, None]:
        """
        Subscribe to 'health' updates.

        Yields
        ------
        health : Health
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_health(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_health(handle)

    async def health(self):
        """
        Subscribe to 'health' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a460770> : Health
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.health())

    async def subscribe_rc_status(self) -> AsyncGenerator[RcStatus, None]:
        """
        Subscribe to 'RC status' updates.

        Yields
        ------
        rc_status : RcStatus
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_rc_status(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_rc_status(handle)

    async def rc_status(self):
        """
        Subscribe to 'RC status' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a460950> : RcStatus
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.rc_status())

    async def subscribe_status_text(self) -> AsyncGenerator[StatusText, None]:
        """
        Subscribe to 'status text' updates.

        Yields
        ------
        status_text : StatusText
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_status_text(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_status_text(handle)

    async def status_text(self):
        """
        Subscribe to 'status text' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a460b90> : StatusText
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.status_text())

    async def subscribe_actuator_control_target(
        self,
    ) -> AsyncGenerator[ActuatorControlTarget, None]:
        """
        Subscribe to 'actuator control target' updates.

        Yields
        ------
        actuator_control_target : ActuatorControlTarget
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_actuator_control_target(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_actuator_control_target(handle)

    async def actuator_control_target(self):
        """
        Subscribe to 'actuator control target' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a460d70> : ActuatorControlTarget
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.actuator_control_target()
        )

    async def subscribe_actuator_output_status(
        self,
    ) -> AsyncGenerator[ActuatorOutputStatus, None]:
        """
        Subscribe to 'actuator output status' updates.

        Yields
        ------
        actuator_output_status : ActuatorOutputStatus
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_actuator_output_status(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_actuator_output_status(handle)

    async def actuator_output_status(self):
        """
        Subscribe to 'actuator output status' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a460fb0> : ActuatorOutputStatus
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.actuator_output_status()
        )

    async def subscribe_odometry(self) -> AsyncGenerator[Odometry, None]:
        """
        Subscribe to 'odometry' updates.

        Yields
        ------
        odometry : Odometry
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_odometry(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_odometry(handle)

    async def odometry(self):
        """
        Subscribe to 'odometry' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a461190> : Odometry
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.odometry())

    async def subscribe_position_velocity_ned(
        self,
    ) -> AsyncGenerator[PositionVelocityNed, None]:
        """
        Subscribe to 'position velocity' updates.

        Yields
        ------
        position_velocity_ned : PositionVelocityNed
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_position_velocity_ned(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_position_velocity_ned(handle)

    async def position_velocity_ned(self):
        """
        Subscribe to 'position velocity' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a4613d0> : PositionVelocityNed
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.position_velocity_ned()
        )

    async def subscribe_ground_truth(self) -> AsyncGenerator[GroundTruth, None]:
        """
        Subscribe to 'ground truth' updates.

        Yields
        ------
        ground_truth : GroundTruth
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_ground_truth(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_ground_truth(handle)

    async def ground_truth(self):
        """
        Subscribe to 'ground truth' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a461610> : GroundTruth
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.ground_truth())

    async def subscribe_fixedwing_metrics(
        self,
    ) -> AsyncGenerator[FixedwingMetrics, None]:
        """
        Subscribe to 'fixedwing metrics' updates.

        Yields
        ------
        fixedwing_metrics : FixedwingMetrics
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_fixedwing_metrics(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_fixedwing_metrics(handle)

    async def fixedwing_metrics(self):
        """
        Subscribe to 'fixedwing metrics' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a461850> : FixedwingMetrics
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.fixedwing_metrics()
        )

    async def subscribe_imu(self) -> AsyncGenerator[Imu, None]:
        """
        Subscribe to 'IMU' updates (in SI units in NED body frame).

        Yields
        ------
        imu : Imu
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_imu(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_imu(handle)

    async def imu(self):
        """
        Subscribe to 'IMU' updates (in SI units in NED body frame).

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a4619d0> : Imu
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.imu())

    async def subscribe_scaled_imu(self) -> AsyncGenerator[Imu, None]:
        """
        Subscribe to 'Scaled IMU' updates.

        Yields
        ------
        imu : Imu
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_scaled_imu(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_scaled_imu(handle)

    async def scaled_imu(self):
        """
        Subscribe to 'Scaled IMU' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a461bb0> : Imu
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.scaled_imu())

    async def subscribe_raw_imu(self) -> AsyncGenerator[Imu, None]:
        """
        Subscribe to 'Raw IMU' updates (note that units are are incorrect and "raw" as provided by the sensor)

        Yields
        ------
        imu : Imu
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_raw_imu(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_raw_imu(handle)

    async def raw_imu(self):
        """
        Subscribe to 'Raw IMU' updates (note that units are are incorrect and "raw" as provided by the sensor)

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a461d90> : Imu
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.raw_imu())

    async def subscribe_health_all_ok(self) -> AsyncGenerator[bool, None]:
        """
        Subscribe to 'HealthAllOk' updates.

        Yields
        ------
         : bool
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_health_all_ok(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_health_all_ok(handle)

    async def health_all_ok(self):
        """
        Subscribe to 'HealthAllOk' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a461fd0> :
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.health_all_ok())

    async def subscribe_unix_epoch_time(self) -> AsyncGenerator[uint64_t, None]:
        """
        Subscribe to 'unix epoch time' updates.

        Yields
        ------
         : uint64_t
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_unix_epoch_time(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_unix_epoch_time(handle)

    async def unix_epoch_time(self):
        """
        Subscribe to 'unix epoch time' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a4621b0> :
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.unix_epoch_time())

    async def subscribe_distance_sensor(self) -> AsyncGenerator[DistanceSensor, None]:
        """
        Subscribe to 'Distance Sensor' updates.

        Yields
        ------
        distance_sensor : DistanceSensor
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_distance_sensor(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_distance_sensor(handle)

    async def distance_sensor(self):
        """
        Subscribe to 'Distance Sensor' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a462390> : DistanceSensor
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.distance_sensor())

    async def subscribe_scaled_pressure(self) -> AsyncGenerator[ScaledPressure, None]:
        """
        Subscribe to 'Scaled Pressure' updates.

        Yields
        ------
        scaled_pressure : ScaledPressure
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_scaled_pressure(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_scaled_pressure(handle)

    async def scaled_pressure(self):
        """
        Subscribe to 'Scaled Pressure' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a462570> : ScaledPressure
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.scaled_pressure())

    async def subscribe_heading(self) -> AsyncGenerator[Heading, None]:
        """
        Subscribe to 'Heading' updates.

        Yields
        ------
        heading : Heading
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_heading(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_heading(handle)

    async def heading(self):
        """
        Subscribe to 'Heading' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a4626f0> : Heading
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.heading())

    async def subscribe_altitude(self) -> AsyncGenerator[Altitude, None]:
        """
        Subscribe to 'Altitude' updates.

        Yields
        ------
        altitude : Altitude
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_altitude(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_altitude(handle)

    async def altitude(self):
        """
        Subscribe to 'Altitude' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a4628d0> : Altitude
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.altitude())

    async def subscribe_wind(self) -> AsyncGenerator[Wind, None]:
        """
        Subscribe to 'Wind Estimated' updates.

        Yields
        ------
        wind : Wind
             The next update
        """
        loop = asyncio.get_running_loop()
        queue: asyncio.Queue = asyncio.Queue()

        def callback(data, _user_data):
            loop.call_soon_threadsafe(queue.put_nowait, data)

        handle = self._plugin.subscribe_wind(callback)
        try:
            while True:
                yield await queue.get()
        finally:
            self._plugin.unsubscribe_wind(handle)

    async def wind(self):
        """
        Subscribe to 'Wind Estimated' updates.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a462ab0> : Wind
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(None, lambda: self._plugin.wind())

    async def set_rate_position(self, rate_hz):
        """
        Set rate to 'position' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_position(rate_hz)
        )

    async def set_rate_home(self, rate_hz):
        """
        Set rate to 'home position' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_home(rate_hz)
        )

    async def set_rate_in_air(self, rate_hz):
        """
        Set rate to in-air updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_in_air(rate_hz)
        )

    async def set_rate_landed_state(self, rate_hz):
        """
        Set rate to landed state updates

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_landed_state(rate_hz)
        )

    async def set_rate_vtol_state(self, rate_hz):
        """
        Set rate to VTOL state updates

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_vtol_state(rate_hz)
        )

    async def set_rate_attitude_quaternion(self, rate_hz):
        """
        Set rate to 'attitude euler angle' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_attitude_quaternion(rate_hz)
        )

    async def set_rate_attitude_euler(self, rate_hz):
        """
        Set rate to 'attitude quaternion' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_attitude_euler(rate_hz)
        )

    async def set_rate_velocity_ned(self, rate_hz):
        """
               Set rate of camera attitude updates.
        Set rate to 'ground speed' updates (NED).

               Parameters
               ----------
               rate_hz : double
               Raises
               ------
               TelemetryError
                   If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_velocity_ned(rate_hz)
        )

    async def set_rate_gps_info(self, rate_hz):
        """
        Set rate to 'GPS info' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_gps_info(rate_hz)
        )

    async def set_rate_battery(self, rate_hz):
        """
        Set rate to 'battery' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_battery(rate_hz)
        )

    async def set_rate_rc_status(self, rate_hz):
        """
        Set rate to 'RC status' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_rc_status(rate_hz)
        )

    async def set_rate_actuator_control_target(self, rate_hz):
        """
        Set rate to 'actuator control target' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_actuator_control_target(rate_hz)
        )

    async def set_rate_actuator_output_status(self, rate_hz):
        """
        Set rate to 'actuator output status' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_actuator_output_status(rate_hz)
        )

    async def set_rate_odometry(self, rate_hz):
        """
        Set rate to 'odometry' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_odometry(rate_hz)
        )

    async def set_rate_position_velocity_ned(self, rate_hz):
        """
        Set rate to 'position velocity' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_position_velocity_ned(rate_hz)
        )

    async def set_rate_ground_truth(self, rate_hz):
        """
        Set rate to 'ground truth' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_ground_truth(rate_hz)
        )

    async def set_rate_fixedwing_metrics(self, rate_hz):
        """
        Set rate to 'fixedwing metrics' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_fixedwing_metrics(rate_hz)
        )

    async def set_rate_imu(self, rate_hz):
        """
        Set rate to 'IMU' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_imu(rate_hz)
        )

    async def set_rate_scaled_imu(self, rate_hz):
        """
        Set rate to 'Scaled IMU' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_scaled_imu(rate_hz)
        )

    async def set_rate_raw_imu(self, rate_hz):
        """
        Set rate to 'Raw IMU' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_raw_imu(rate_hz)
        )

    async def set_rate_unix_epoch_time(self, rate_hz):
        """
        Set rate to 'unix epoch time' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_unix_epoch_time(rate_hz)
        )

    async def set_rate_distance_sensor(self, rate_hz):
        """
        Set rate to 'Distance Sensor' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_distance_sensor(rate_hz)
        )

    async def set_rate_altitude(self, rate_hz):
        """
        Set rate to 'Altitude' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_altitude(rate_hz)
        )

    async def set_rate_health(self, rate_hz):
        """
        Set rate to 'Health' updates.

        Parameters
        ----------
        rate_hz : double
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.set_rate_health(rate_hz)
        )

    async def get_gps_global_origin(self):
        """
        Get the GPS location of where the estimator has been initialized.

        Returns
        -------
        <protoc_gen_mavsdk.name_parser.NameParser object at 0x10a469c70> : GpsGlobalOrigin
        Raises
        ------
        TelemetryError
            If the request fails. The error contains the reason for the failure.
        """
        loop = asyncio.get_running_loop()
        return await loop.run_in_executor(
            None, lambda: self._plugin.get_gps_global_origin()
        )
