# ruff: noqa: F401

# WARNING: THIS FILE IS AUTOGENERATED! As such, it should not be edited.
# Edits need to be made to the proto files
# (see https://github.com/mavlink/MAVSDK-Proto/blob/main/protos/winch/winch.proto)

"""
Allows users to send winch actions, as well as receive status information from winch systems.
"""

import atexit
import ctypes

from typing import Callable, Any
from enum import IntEnum

from ...cmavsdk_loader import _cmavsdk_lib


# ===== Enums =====
class WinchAction(IntEnum):
    """Winch Action type."""

    RELAXED = 0
    RELATIVE_LENGTH_CONTROL = 1
    RATE_CONTROL = 2
    LOCK = 3
    DELIVER = 4
    HOLD = 5
    RETRACT = 6
    LOAD_LINE = 7
    ABANDON_LINE = 8
    LOAD_PAYLOAD = 9


# ===== Result Enums =====
class WinchResult(IntEnum):
    """Possible results returned for winch action requests."""

    UNKNOWN = 0
    SUCCESS = 1
    NO_SYSTEM = 2
    BUSY = 3
    TIMEOUT = 4
    UNSUPPORTED = 5
    FAILED = 6


# ===== Internal C Structures =====
class StatusFlagsCStruct(ctypes.Structure):
    """
    Internal C structure for StatusFlags.
    Used only for C library communication.
    """

    _fields_ = [
        ("healthy", ctypes.c_bool),
        ("fully_retracted", ctypes.c_bool),
        ("moving", ctypes.c_bool),
        ("clutch_engaged", ctypes.c_bool),
        ("locked", ctypes.c_bool),
        ("dropping", ctypes.c_bool),
        ("arresting", ctypes.c_bool),
        ("ground_sense", ctypes.c_bool),
        ("retracting", ctypes.c_bool),
        ("redeliver", ctypes.c_bool),
        ("abandon_line", ctypes.c_bool),
        ("locking", ctypes.c_bool),
        ("load_line", ctypes.c_bool),
        ("load_payload", ctypes.c_bool),
    ]


class StatusCStruct(ctypes.Structure):
    """
    Internal C structure for Status.
    Used only for C library communication.
    """

    _fields_ = [
        ("time_usec", ctypes.c_uint64),
        ("line_length_m", ctypes.c_float),
        ("speed_m_s", ctypes.c_float),
        ("tension_kg", ctypes.c_float),
        ("voltage_v", ctypes.c_float),
        ("current_a", ctypes.c_float),
        ("temperature_c", ctypes.c_int32),
        ("status_flags", StatusFlagsCStruct),
    ]


# ===== Structures =====
class StatusFlags:
    """
       Winch Status Flags.

    The status flags are defined in mavlink
    https://mavlink.io/en/messages/common.html#MAV_WINCH_STATUS_FLAG.

    Multiple status fields can be set simultaneously. Mavlink does
    not specify which states are mutually exclusive.
    """

    def __init__(
        self,
        healthy=None,
        fully_retracted=None,
        moving=None,
        clutch_engaged=None,
        locked=None,
        dropping=None,
        arresting=None,
        ground_sense=None,
        retracting=None,
        redeliver=None,
        abandon_line=None,
        locking=None,
        load_line=None,
        load_payload=None,
    ):
        self.healthy = healthy
        self.fully_retracted = fully_retracted
        self.moving = moving
        self.clutch_engaged = clutch_engaged
        self.locked = locked
        self.dropping = dropping
        self.arresting = arresting
        self.ground_sense = ground_sense
        self.retracting = retracting
        self.redeliver = redeliver
        self.abandon_line = abandon_line
        self.locking = locking
        self.load_line = load_line
        self.load_payload = load_payload

    @classmethod
    def from_c_struct(cls, c_struct):
        """Convert from C structure to Python object"""
        instance = cls()
        instance.healthy = c_struct.healthy
        instance.fully_retracted = c_struct.fully_retracted
        instance.moving = c_struct.moving
        instance.clutch_engaged = c_struct.clutch_engaged
        instance.locked = c_struct.locked
        instance.dropping = c_struct.dropping
        instance.arresting = c_struct.arresting
        instance.ground_sense = c_struct.ground_sense
        instance.retracting = c_struct.retracting
        instance.redeliver = c_struct.redeliver
        instance.abandon_line = c_struct.abandon_line
        instance.locking = c_struct.locking
        instance.load_line = c_struct.load_line
        instance.load_payload = c_struct.load_payload
        return instance

    def to_c_struct(self):
        """Convert to C structure for C library calls"""
        c_struct = StatusFlagsCStruct()
        c_struct.healthy = self.healthy
        c_struct.fully_retracted = self.fully_retracted
        c_struct.moving = self.moving
        c_struct.clutch_engaged = self.clutch_engaged
        c_struct.locked = self.locked
        c_struct.dropping = self.dropping
        c_struct.arresting = self.arresting
        c_struct.ground_sense = self.ground_sense
        c_struct.retracting = self.retracting
        c_struct.redeliver = self.redeliver
        c_struct.abandon_line = self.abandon_line
        c_struct.locking = self.locking
        c_struct.load_line = self.load_line
        c_struct.load_payload = self.load_payload
        return c_struct

    def __str__(self):
        fields = []
        fields.append(f"healthy={self.healthy}")
        fields.append(f"fully_retracted={self.fully_retracted}")
        fields.append(f"moving={self.moving}")
        fields.append(f"clutch_engaged={self.clutch_engaged}")
        fields.append(f"locked={self.locked}")
        fields.append(f"dropping={self.dropping}")
        fields.append(f"arresting={self.arresting}")
        fields.append(f"ground_sense={self.ground_sense}")
        fields.append(f"retracting={self.retracting}")
        fields.append(f"redeliver={self.redeliver}")
        fields.append(f"abandon_line={self.abandon_line}")
        fields.append(f"locking={self.locking}")
        fields.append(f"load_line={self.load_line}")
        fields.append(f"load_payload={self.load_payload}")
        return f"StatusFlags({', '.join(fields)})"


class Status:
    """
    Status type.
    """

    def __init__(
        self,
        time_usec=None,
        line_length_m=None,
        speed_m_s=None,
        tension_kg=None,
        voltage_v=None,
        current_a=None,
        temperature_c=None,
        status_flags=None,
    ):
        self.time_usec = time_usec
        self.line_length_m = line_length_m
        self.speed_m_s = speed_m_s
        self.tension_kg = tension_kg
        self.voltage_v = voltage_v
        self.current_a = current_a
        self.temperature_c = temperature_c
        self.status_flags = status_flags

    @classmethod
    def from_c_struct(cls, c_struct):
        """Convert from C structure to Python object"""
        instance = cls()
        instance.time_usec = c_struct.time_usec
        instance.line_length_m = c_struct.line_length_m
        instance.speed_m_s = c_struct.speed_m_s
        instance.tension_kg = c_struct.tension_kg
        instance.voltage_v = c_struct.voltage_v
        instance.current_a = c_struct.current_a
        instance.temperature_c = c_struct.temperature_c
        instance.status_flags = StatusFlags.from_c_struct(c_struct.status_flags)
        return instance

    def to_c_struct(self):
        """Convert to C structure for C library calls"""
        c_struct = StatusCStruct()
        c_struct.time_usec = self.time_usec
        c_struct.line_length_m = self.line_length_m
        c_struct.speed_m_s = self.speed_m_s
        c_struct.tension_kg = self.tension_kg
        c_struct.voltage_v = self.voltage_v
        c_struct.current_a = self.current_a
        c_struct.temperature_c = self.temperature_c
        c_struct.status_flags = self.status_flags.to_c_struct()
        return c_struct

    def __str__(self):
        fields = []
        fields.append(f"time_usec={self.time_usec}")
        fields.append(f"line_length_m={self.line_length_m}")
        fields.append(f"speed_m_s={self.speed_m_s}")
        fields.append(f"tension_kg={self.tension_kg}")
        fields.append(f"voltage_v={self.voltage_v}")
        fields.append(f"current_a={self.current_a}")
        fields.append(f"temperature_c={self.temperature_c}")
        fields.append(f"status_flags={self.status_flags}")
        return f"Status({', '.join(fields)})"


# ===== Plugin =====
class Winch:
    """Allows users to send winch actions, as well as receive status information from winch systems."""

    def __init__(self, system):
        self._lib = _cmavsdk_lib
        self._handle = None
        self._callbacks = []  # Keep references to prevent GC

        if system is None:
            raise ValueError("system cannot be None")

        system_handle = system._handle

        if not system_handle:
            raise ValueError("system handle is null")

        self._handle = self._lib.mavsdk_winch_create(system_handle)

        if not self._handle:
            raise RuntimeError(
                "Failed to create Winch plugin - C function returned null handle"
            )

        atexit.register(self.destroy)

    def subscribe_status(self, callback: Callable, user_data: Any = None):
        """Subscribe to 'winch status' updates."""

        def c_callback(c_data, ud):
            try:
                py_data = Status.from_c_struct(c_data)

                self._lib.mavsdk_winch_status_destroy(ctypes.byref(c_data))

                callback(py_data, user_data)

            except Exception as e:
                print(f"Error in status callback: {e}")

        cb = StatusCallback(c_callback)
        self._callbacks.append(cb)

        return self._lib.mavsdk_winch_subscribe_status(self._handle, cb, None)

    def unsubscribe_status(self, handle: ctypes.c_void_p):
        """Unsubscribe from status"""
        self._lib.mavsdk_winch_unsubscribe_status(self._handle, handle)

    def status(self):
        """Get status (blocking)"""

        result_out = StatusCStruct()

        self._lib.mavsdk_winch_status(self._handle, ctypes.byref(result_out))

        py_result = Status.from_c_struct(result_out)
        self._lib.mavsdk_winch_status_destroy(ctypes.byref(result_out))
        return py_result

    def relax_async(self, instance, callback: Callable, user_data: Any = None):
        """Allow motor to freewheel."""

        def c_callback(result, ud):
            try:
                py_result = WinchResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in relax callback: {e}")

        cb = RelaxCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_winch_relax_async(self._handle, instance, cb, None)

    def relax(self, instance):
        """Get relax (blocking)"""

        result_code = self._lib.mavsdk_winch_relax(
            self._handle,
            instance,
        )
        result = WinchResult(result_code)
        if result != WinchResult.SUCCESS:
            raise Exception(f"relax failed: {result}")

        return result

    def relative_length_control_async(
        self, instance, length_m, rate_m_s, callback: Callable, user_data: Any = None
    ):
        """Wind or unwind specified length of line, optionally using specified rate."""

        def c_callback(result, ud):
            try:
                py_result = WinchResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in relative_length_control callback: {e}")

        cb = RelativeLengthControlCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_winch_relative_length_control_async(
            self._handle, instance, length_m, rate_m_s, cb, None
        )

    def relative_length_control(self, instance, length_m, rate_m_s):
        """Get relative_length_control (blocking)"""

        result_code = self._lib.mavsdk_winch_relative_length_control(
            self._handle,
            instance,
            length_m,
            rate_m_s,
        )
        result = WinchResult(result_code)
        if result != WinchResult.SUCCESS:
            raise Exception(f"relative_length_control failed: {result}")

        return result

    def rate_control_async(
        self, instance, rate_m_s, callback: Callable, user_data: Any = None
    ):
        """Wind or unwind line at specified rate."""

        def c_callback(result, ud):
            try:
                py_result = WinchResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in rate_control callback: {e}")

        cb = RateControlCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_winch_rate_control_async(
            self._handle, instance, rate_m_s, cb, None
        )

    def rate_control(self, instance, rate_m_s):
        """Get rate_control (blocking)"""

        result_code = self._lib.mavsdk_winch_rate_control(
            self._handle,
            instance,
            rate_m_s,
        )
        result = WinchResult(result_code)
        if result != WinchResult.SUCCESS:
            raise Exception(f"rate_control failed: {result}")

        return result

    def lock_async(self, instance, callback: Callable, user_data: Any = None):
        """Perform the locking sequence to relieve motor while in the fully retracted position."""

        def c_callback(result, ud):
            try:
                py_result = WinchResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in lock callback: {e}")

        cb = LockCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_winch_lock_async(self._handle, instance, cb, None)

    def lock(self, instance):
        """Get lock (blocking)"""

        result_code = self._lib.mavsdk_winch_lock(
            self._handle,
            instance,
        )
        result = WinchResult(result_code)
        if result != WinchResult.SUCCESS:
            raise Exception(f"lock failed: {result}")

        return result

    def deliver_async(self, instance, callback: Callable, user_data: Any = None):
        """Sequence of drop, slow down, touch down, reel up, lock."""

        def c_callback(result, ud):
            try:
                py_result = WinchResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in deliver callback: {e}")

        cb = DeliverCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_winch_deliver_async(self._handle, instance, cb, None)

    def deliver(self, instance):
        """Get deliver (blocking)"""

        result_code = self._lib.mavsdk_winch_deliver(
            self._handle,
            instance,
        )
        result = WinchResult(result_code)
        if result != WinchResult.SUCCESS:
            raise Exception(f"deliver failed: {result}")

        return result

    def hold_async(self, instance, callback: Callable, user_data: Any = None):
        """Engage motor and hold current position."""

        def c_callback(result, ud):
            try:
                py_result = WinchResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in hold callback: {e}")

        cb = HoldCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_winch_hold_async(self._handle, instance, cb, None)

    def hold(self, instance):
        """Get hold (blocking)"""

        result_code = self._lib.mavsdk_winch_hold(
            self._handle,
            instance,
        )
        result = WinchResult(result_code)
        if result != WinchResult.SUCCESS:
            raise Exception(f"hold failed: {result}")

        return result

    def retract_async(self, instance, callback: Callable, user_data: Any = None):
        """Return the reel to the fully retracted position."""

        def c_callback(result, ud):
            try:
                py_result = WinchResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in retract callback: {e}")

        cb = RetractCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_winch_retract_async(self._handle, instance, cb, None)

    def retract(self, instance):
        """Get retract (blocking)"""

        result_code = self._lib.mavsdk_winch_retract(
            self._handle,
            instance,
        )
        result = WinchResult(result_code)
        if result != WinchResult.SUCCESS:
            raise Exception(f"retract failed: {result}")

        return result

    def load_line_async(self, instance, callback: Callable, user_data: Any = None):
        """Load the reel with line.

        The winch will calculate the total loaded length and stop when the tension exceeds a threshold."""

        def c_callback(result, ud):
            try:
                py_result = WinchResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in load_line callback: {e}")

        cb = LoadLineCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_winch_load_line_async(self._handle, instance, cb, None)

    def load_line(self, instance):
        """Get load_line (blocking)"""

        result_code = self._lib.mavsdk_winch_load_line(
            self._handle,
            instance,
        )
        result = WinchResult(result_code)
        if result != WinchResult.SUCCESS:
            raise Exception(f"load_line failed: {result}")

        return result

    def abandon_line_async(self, instance, callback: Callable, user_data: Any = None):
        """Spool out the entire length of the line."""

        def c_callback(result, ud):
            try:
                py_result = WinchResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in abandon_line callback: {e}")

        cb = AbandonLineCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_winch_abandon_line_async(self._handle, instance, cb, None)

    def abandon_line(self, instance):
        """Get abandon_line (blocking)"""

        result_code = self._lib.mavsdk_winch_abandon_line(
            self._handle,
            instance,
        )
        result = WinchResult(result_code)
        if result != WinchResult.SUCCESS:
            raise Exception(f"abandon_line failed: {result}")

        return result

    def load_payload_async(self, instance, callback: Callable, user_data: Any = None):
        """Spools out just enough to present the hook to the user to load the payload."""

        def c_callback(result, ud):
            try:
                py_result = WinchResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in load_payload callback: {e}")

        cb = LoadPayloadCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_winch_load_payload_async(self._handle, instance, cb, None)

    def load_payload(self, instance):
        """Get load_payload (blocking)"""

        result_code = self._lib.mavsdk_winch_load_payload(
            self._handle,
            instance,
        )
        result = WinchResult(result_code)
        if result != WinchResult.SUCCESS:
            raise Exception(f"load_payload failed: {result}")

        return result

    def destroy(self):
        """Destroy the plugin instance"""
        if self._handle:
            self._lib.mavsdk_winch_destroy(self._handle)
            self._handle = None

    def __del__(self):
        self.destroy()


# ===== Callback Types =====
StatusCallback = ctypes.CFUNCTYPE(None, StatusCStruct, ctypes.c_void_p)
RelaxCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
RelativeLengthControlCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
RateControlCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
LockCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
DeliverCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
HoldCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
RetractCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
LoadLineCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
AbandonLineCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
LoadPayloadCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)

# ===== Setup Functions =====
_cmavsdk_lib.mavsdk_winch_create.argtypes = [ctypes.c_void_p]
_cmavsdk_lib.mavsdk_winch_create.restype = ctypes.c_void_p

_cmavsdk_lib.mavsdk_winch_destroy.argtypes = [ctypes.c_void_p]
_cmavsdk_lib.mavsdk_winch_destroy.restype = None

_cmavsdk_lib.mavsdk_winch_status_flags_destroy.argtypes = [
    ctypes.POINTER(StatusFlagsCStruct)
]
_cmavsdk_lib.mavsdk_winch_status_flags_destroy.restype = None

_cmavsdk_lib.mavsdk_winch_status_destroy.argtypes = [ctypes.POINTER(StatusCStruct)]
_cmavsdk_lib.mavsdk_winch_status_destroy.restype = None


_cmavsdk_lib.mavsdk_winch_subscribe_status.argtypes = [
    ctypes.c_void_p,
    StatusCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_winch_subscribe_status.restype = ctypes.c_void_p
# Unsubscribe
_cmavsdk_lib.mavsdk_winch_unsubscribe_status.argtypes = [
    ctypes.c_void_p,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_winch_unsubscribe_status.restype = None

_cmavsdk_lib.mavsdk_winch_status.argtypes = [
    ctypes.c_void_p,
    ctypes.POINTER(StatusCStruct),
]

_cmavsdk_lib.mavsdk_winch_status.restype = None
_cmavsdk_lib.mavsdk_winch_relax_async.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
    RelaxCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_winch_relax_async.restype = None

_cmavsdk_lib.mavsdk_winch_relax.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
]

_cmavsdk_lib.mavsdk_winch_relax.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_winch_relative_length_control_async.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
    ctypes.c_float,
    ctypes.c_float,
    RelativeLengthControlCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_winch_relative_length_control_async.restype = None

_cmavsdk_lib.mavsdk_winch_relative_length_control.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
    ctypes.c_float,
    ctypes.c_float,
]

_cmavsdk_lib.mavsdk_winch_relative_length_control.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_winch_rate_control_async.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
    ctypes.c_float,
    RateControlCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_winch_rate_control_async.restype = None

_cmavsdk_lib.mavsdk_winch_rate_control.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
    ctypes.c_float,
]

_cmavsdk_lib.mavsdk_winch_rate_control.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_winch_lock_async.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
    LockCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_winch_lock_async.restype = None

_cmavsdk_lib.mavsdk_winch_lock.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
]

_cmavsdk_lib.mavsdk_winch_lock.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_winch_deliver_async.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
    DeliverCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_winch_deliver_async.restype = None

_cmavsdk_lib.mavsdk_winch_deliver.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
]

_cmavsdk_lib.mavsdk_winch_deliver.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_winch_hold_async.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
    HoldCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_winch_hold_async.restype = None

_cmavsdk_lib.mavsdk_winch_hold.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
]

_cmavsdk_lib.mavsdk_winch_hold.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_winch_retract_async.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
    RetractCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_winch_retract_async.restype = None

_cmavsdk_lib.mavsdk_winch_retract.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
]

_cmavsdk_lib.mavsdk_winch_retract.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_winch_load_line_async.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
    LoadLineCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_winch_load_line_async.restype = None

_cmavsdk_lib.mavsdk_winch_load_line.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
]

_cmavsdk_lib.mavsdk_winch_load_line.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_winch_abandon_line_async.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
    AbandonLineCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_winch_abandon_line_async.restype = None

_cmavsdk_lib.mavsdk_winch_abandon_line.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
]

_cmavsdk_lib.mavsdk_winch_abandon_line.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_winch_load_payload_async.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
    LoadPayloadCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_winch_load_payload_async.restype = None

_cmavsdk_lib.mavsdk_winch_load_payload.argtypes = [
    ctypes.c_void_p,
    ctypes.c_uint32,
]

_cmavsdk_lib.mavsdk_winch_load_payload.restype = ctypes.c_int
