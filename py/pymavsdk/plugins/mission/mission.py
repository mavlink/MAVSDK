# ruff: noqa: F401

# WARNING: THIS FILE IS AUTOGENERATED! As such, it should not be edited.
# Edits need to be made to the proto files
# (see https://github.com/mavlink/MAVSDK-Proto/blob/main/protos/mission/mission.proto)

"""
Enable waypoint missions.
"""

import ctypes

from typing import Callable, Any
from enum import IntEnum

from ...cmavsdk_loader import _cmavsdk_lib


# ===== Enums =====


# ===== Result Enums =====
class MissionResult(IntEnum):
    """Possible results returned for action requests."""

    UNKNOWN = 0
    SUCCESS = 1
    ERROR = 2
    TOO_MANY_MISSION_ITEMS = 3
    BUSY = 4
    TIMEOUT = 5
    INVALID_ARGUMENT = 6
    UNSUPPORTED = 7
    NO_MISSION_AVAILABLE = 8
    UNSUPPORTED_MISSION_CMD = 9
    TRANSFER_CANCELLED = 10
    NO_SYSTEM = 11
    NEXT = 12
    DENIED = 13
    PROTOCOL_ERROR = 14
    INT_MESSAGES_NOT_SUPPORTED = 15


# ===== Internal C Structures =====
class MissionItemCStruct(ctypes.Structure):
    """
    Internal C structure for MissionItem.
    Used only for C library communication.
    """

    _fields_ = [
        ("latitude_deg", ctypes.c_double),
        ("longitude_deg", ctypes.c_double),
        ("relative_altitude_m", ctypes.c_float),
        ("speed_m_s", ctypes.c_float),
        ("is_fly_through", ctypes.c_bool),
        ("gimbal_pitch_deg", ctypes.c_float),
        ("gimbal_yaw_deg", ctypes.c_float),
        ("camera_action", ctypes.c_int),
        ("loiter_time_s", ctypes.c_float),
        ("camera_photo_interval_s", ctypes.c_double),
        ("acceptance_radius_m", ctypes.c_float),
        ("yaw_deg", ctypes.c_float),
        ("camera_photo_distance_m", ctypes.c_float),
        ("vehicle_action", ctypes.c_int),
    ]


class MissionPlanCStruct(ctypes.Structure):
    """
    Internal C structure for MissionPlan.
    Used only for C library communication.
    """

    _fields_ = [
        ("mission_items", ctypes.POINTER(MissionItemCStruct)),
        ("mission_items_size", ctypes.c_size_t),
    ]


class MissionProgressCStruct(ctypes.Structure):
    """
    Internal C structure for MissionProgress.
    Used only for C library communication.
    """

    _fields_ = [
        ("current", ctypes.c_int32),
        ("total", ctypes.c_int32),
    ]


class ProgressDataCStruct(ctypes.Structure):
    """
    Internal C structure for ProgressData.
    Used only for C library communication.
    """

    _fields_ = [
        ("progress", ctypes.c_float),
    ]


class ProgressDataOrMissionCStruct(ctypes.Structure):
    """
    Internal C structure for ProgressDataOrMission.
    Used only for C library communication.
    """

    _fields_ = [
        ("has_progress", ctypes.c_bool),
        ("progress", ctypes.c_float),
        ("has_mission", ctypes.c_bool),
        ("mission_plan", MissionPlanCStruct),
    ]


# ===== Structures =====
class MissionItem:
    """
       Type representing a mission item.

    A MissionItem can contain a position and/or actions.
    Mission items are building blocks to assemble a mission,
    which can be sent to (or received from) a system.
    They cannot be used independently.
    """

    class CameraAction(IntEnum):
        """Possible camera actions at a mission item."""

        NONE = 0
        TAKE_PHOTO = 1
        START_PHOTO_INTERVAL = 2
        STOP_PHOTO_INTERVAL = 3
        START_VIDEO = 4
        STOP_VIDEO = 5
        START_PHOTO_DISTANCE = 6
        STOP_PHOTO_DISTANCE = 7

    class VehicleAction(IntEnum):
        """Possible vehicle actions at a mission item"""

        NONE = 0
        TAKEOFF = 1
        LAND = 2
        TRANSITION_TO_FW = 3
        TRANSITION_TO_MC = 4

    def __init__(
        self,
        latitude_deg=None,
        longitude_deg=None,
        relative_altitude_m=None,
        speed_m_s=None,
        is_fly_through=None,
        gimbal_pitch_deg=None,
        gimbal_yaw_deg=None,
        camera_action=None,
        loiter_time_s=None,
        camera_photo_interval_s=None,
        acceptance_radius_m=None,
        yaw_deg=None,
        camera_photo_distance_m=None,
        vehicle_action=None,
    ):
        self.latitude_deg = latitude_deg
        self.longitude_deg = longitude_deg
        self.relative_altitude_m = relative_altitude_m
        self.speed_m_s = speed_m_s
        self.is_fly_through = is_fly_through
        self.gimbal_pitch_deg = gimbal_pitch_deg
        self.gimbal_yaw_deg = gimbal_yaw_deg
        self.camera_action = camera_action
        self.loiter_time_s = loiter_time_s
        self.camera_photo_interval_s = camera_photo_interval_s
        self.acceptance_radius_m = acceptance_radius_m
        self.yaw_deg = yaw_deg
        self.camera_photo_distance_m = camera_photo_distance_m
        self.vehicle_action = vehicle_action

    @classmethod
    def from_c_struct(cls, c_struct):
        """Convert from C structure to Python object"""
        instance = cls()
        instance.latitude_deg = c_struct.latitude_deg
        instance.longitude_deg = c_struct.longitude_deg
        instance.relative_altitude_m = c_struct.relative_altitude_m
        instance.speed_m_s = c_struct.speed_m_s
        instance.is_fly_through = c_struct.is_fly_through
        instance.gimbal_pitch_deg = c_struct.gimbal_pitch_deg
        instance.gimbal_yaw_deg = c_struct.gimbal_yaw_deg
        instance.camera_action = MissionItem.CameraAction(c_struct.camera_action)
        instance.loiter_time_s = c_struct.loiter_time_s
        instance.camera_photo_interval_s = c_struct.camera_photo_interval_s
        instance.acceptance_radius_m = c_struct.acceptance_radius_m
        instance.yaw_deg = c_struct.yaw_deg
        instance.camera_photo_distance_m = c_struct.camera_photo_distance_m
        instance.vehicle_action = MissionItem.VehicleAction(c_struct.vehicle_action)
        return instance

    def to_c_struct(self):
        """Convert to C structure for C library calls"""
        c_struct = MissionItemCStruct()
        c_struct.latitude_deg = self.latitude_deg
        c_struct.longitude_deg = self.longitude_deg
        c_struct.relative_altitude_m = self.relative_altitude_m
        c_struct.speed_m_s = self.speed_m_s
        c_struct.is_fly_through = self.is_fly_through
        c_struct.gimbal_pitch_deg = self.gimbal_pitch_deg
        c_struct.gimbal_yaw_deg = self.gimbal_yaw_deg
        c_struct.camera_action = int(self.camera_action)
        c_struct.loiter_time_s = self.loiter_time_s
        c_struct.camera_photo_interval_s = self.camera_photo_interval_s
        c_struct.acceptance_radius_m = self.acceptance_radius_m
        c_struct.yaw_deg = self.yaw_deg
        c_struct.camera_photo_distance_m = self.camera_photo_distance_m
        c_struct.vehicle_action = int(self.vehicle_action)
        return c_struct

    def __str__(self):
        fields = []
        fields.append(f"latitude_deg={self.latitude_deg}")
        fields.append(f"longitude_deg={self.longitude_deg}")
        fields.append(f"relative_altitude_m={self.relative_altitude_m}")
        fields.append(f"speed_m_s={self.speed_m_s}")
        fields.append(f"is_fly_through={self.is_fly_through}")
        fields.append(f"gimbal_pitch_deg={self.gimbal_pitch_deg}")
        fields.append(f"gimbal_yaw_deg={self.gimbal_yaw_deg}")
        fields.append(f"camera_action={self.camera_action}")
        fields.append(f"loiter_time_s={self.loiter_time_s}")
        fields.append(f"camera_photo_interval_s={self.camera_photo_interval_s}")
        fields.append(f"acceptance_radius_m={self.acceptance_radius_m}")
        fields.append(f"yaw_deg={self.yaw_deg}")
        fields.append(f"camera_photo_distance_m={self.camera_photo_distance_m}")
        fields.append(f"vehicle_action={self.vehicle_action}")
        return f"MissionItem({', '.join(fields)})"


class MissionPlan:
    """
    Mission plan type
    """

    def __init__(self, mission_items=None):
        self.mission_items = mission_items or []

    @classmethod
    def from_c_struct(cls, c_struct):
        """Convert from C structure to Python object"""
        instance = cls()
        if c_struct.mission_items_size > 0:
            instance.mission_items = [
                MissionItem.from_c_struct(c_struct.mission_items[i])
                for i in range(c_struct.mission_items_size)
            ]
        else:
            instance.mission_items = []
        return instance

    def to_c_struct(self):
        """Convert to C structure for C library calls"""
        c_struct = MissionPlanCStruct()
        array_type = MissionItemCStruct * len(self.mission_items)
        c_array = array_type()
        for i, item in enumerate(self.mission_items):
            c_array[i] = item.to_c_struct()
        c_struct.mission_items = ctypes.cast(
            c_array, ctypes.POINTER(MissionItemCStruct)
        )
        c_struct.mission_items_size = len(self.mission_items)
        return c_struct

    def __str__(self):
        fields = []
        fields.append(f"mission_items={self.mission_items}")
        return f"MissionPlan({', '.join(fields)})"


class MissionProgress:
    """
    Mission progress type.
    """

    def __init__(self, current=None, total=None):
        self.current = current
        self.total = total

    @classmethod
    def from_c_struct(cls, c_struct):
        """Convert from C structure to Python object"""
        instance = cls()
        instance.current = c_struct.current
        instance.total = c_struct.total
        return instance

    def to_c_struct(self):
        """Convert to C structure for C library calls"""
        c_struct = MissionProgressCStruct()
        c_struct.current = self.current
        c_struct.total = self.total
        return c_struct

    def __str__(self):
        fields = []
        fields.append(f"current={self.current}")
        fields.append(f"total={self.total}")
        return f"MissionProgress({', '.join(fields)})"


class ProgressData:
    """
    Progress data coming from mission upload.
    """

    def __init__(self, progress=None):
        self.progress = progress

    @classmethod
    def from_c_struct(cls, c_struct):
        """Convert from C structure to Python object"""
        instance = cls()
        instance.progress = c_struct.progress
        return instance

    def to_c_struct(self):
        """Convert to C structure for C library calls"""
        c_struct = ProgressDataCStruct()
        c_struct.progress = self.progress
        return c_struct

    def __str__(self):
        fields = []
        fields.append(f"progress={self.progress}")
        return f"ProgressData({', '.join(fields)})"


class ProgressDataOrMission:
    """
    Progress data coming from mission download, or the mission itself (if the transfer succeeds).
    """

    def __init__(
        self, has_progress=None, progress=None, has_mission=None, mission_plan=None
    ):
        self.has_progress = has_progress
        self.progress = progress
        self.has_mission = has_mission
        self.mission_plan = mission_plan

    @classmethod
    def from_c_struct(cls, c_struct):
        """Convert from C structure to Python object"""
        instance = cls()
        instance.has_progress = c_struct.has_progress
        instance.progress = c_struct.progress
        instance.has_mission = c_struct.has_mission
        instance.mission_plan = MissionPlan.from_c_struct(c_struct.mission_plan)
        return instance

    def to_c_struct(self):
        """Convert to C structure for C library calls"""
        c_struct = ProgressDataOrMissionCStruct()
        c_struct.has_progress = self.has_progress
        c_struct.progress = self.progress
        c_struct.has_mission = self.has_mission
        c_struct.mission_plan = self.mission_plan.to_c_struct()
        return c_struct

    def __str__(self):
        fields = []
        fields.append(f"has_progress={self.has_progress}")
        fields.append(f"progress={self.progress}")
        fields.append(f"has_mission={self.has_mission}")
        fields.append(f"mission_plan={self.mission_plan}")
        return f"ProgressDataOrMission({', '.join(fields)})"


# ===== Plugin =====
class Mission:
    """Enable waypoint missions."""

    def __init__(self, system):
        self._lib = _cmavsdk_lib
        self._handle = None
        self._callbacks = []  # Keep references to prevent GC

        if system is None:
            raise ValueError("system cannot be None")

        system_handle = system._handle

        if not system_handle:
            raise ValueError("system handle is null")

        self._handle = self._lib.mavsdk_mission_create(system_handle)

        if not self._handle:
            raise RuntimeError(
                "Failed to create Mission plugin - C function returned null handle"
            )

    def upload_mission_async(
        self, mission_plan, callback: Callable, user_data: Any = None
    ):
        """Upload a list of mission items to the system.

        The mission items are uploaded to a drone. Once uploaded the mission can be started and
        executed even if the connection is lost."""

        def c_callback(result, ud):
            try:
                py_result = MissionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in upload_mission callback: {e}")

        cb = UploadMissionCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_mission_upload_mission_async(
            self._handle, mission_plan, cb, None
        )

    def upload_mission(self, mission_plan):
        """Get upload_mission (blocking)"""

        result_code = self._lib.mavsdk_mission_upload_mission(
            self._handle,
            mission_plan.to_c_struct(),
        )
        result = MissionResult(result_code)
        if result != MissionResult.SUCCESS:
            raise Exception(f"upload_mission failed: {result}")

        return result

    def upload_mission_with_progress_async(
        self, mission_plan, callback: Callable, user_data: Any = None
    ):
        """Upload a list of mission items to the system and report upload progress.

        The mission items are uploaded to a drone. Once uploaded the mission can be started and
        executed even if the connection is lost."""

        def c_callback(result, c_data, ud):
            try:
                py_result = MissionResult(result)

                py_data = ProgressData.from_c_struct(c_data)

                self._lib.mavsdk_mission_progress_data_destroy(ctypes.byref(c_data))

                callback(py_result, py_data, user_data)

            except Exception as e:
                print(f"Error in upload_mission_with_progress callback: {e}")

        cb = UploadMissionWithProgressCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_mission_upload_mission_with_progress_async(
            self._handle, mission_plan, cb, None
        )

    def cancel_mission_upload(self):
        """Get cancel_mission_upload (blocking)"""

        result_code = self._lib.mavsdk_mission_cancel_mission_upload(
            self._handle,
        )
        result = MissionResult(result_code)
        if result != MissionResult.SUCCESS:
            raise Exception(f"cancel_mission_upload failed: {result}")

        return result

    def download_mission_async(self, callback: Callable, user_data: Any = None):
        """Download a list of mission items from the system (asynchronous).

        Will fail if any of the downloaded mission items are not supported
        by the MAVSDK API."""

        def c_callback(result, c_data, ud):
            try:
                py_result = MissionResult(result)

                py_data = MissionPlan.from_c_struct(c_data)

                self._lib.mavsdk_mission_mission_plan_destroy(ctypes.byref(c_data))

                callback(py_result, py_data, user_data)

            except Exception as e:
                print(f"Error in download_mission callback: {e}")

        cb = DownloadMissionCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_mission_download_mission_async(self._handle, cb, None)

    def download_mission(self):
        """Get download_mission (blocking)"""

        result_out = MissionPlanCStruct()

        result_code = self._lib.mavsdk_mission_download_mission(
            self._handle, ctypes.byref(result_out)
        )
        result = MissionResult(result_code)
        if result != MissionResult.SUCCESS:
            raise Exception(f"download_mission failed: {result}")

        py_result = MissionPlan.from_c_struct(result_out)
        self._lib.mavsdk_mission_mission_plan_destroy(ctypes.byref(result_out))
        return py_result

    def download_mission_with_progress_async(
        self, callback: Callable, user_data: Any = None
    ):
        """Download a list of mission items from the system (asynchronous) and report progress.

        Will fail if any of the downloaded mission items are not supported
        by the MAVSDK API."""

        def c_callback(result, c_data, ud):
            try:
                py_result = MissionResult(result)

                py_data = ProgressDataOrMission.from_c_struct(c_data)

                self._lib.mavsdk_mission_progress_data_or_mission_destroy(
                    ctypes.byref(c_data)
                )

                callback(py_result, py_data, user_data)

            except Exception as e:
                print(f"Error in download_mission_with_progress callback: {e}")

        cb = DownloadMissionWithProgressCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_mission_download_mission_with_progress_async(
            self._handle, cb, None
        )

    def cancel_mission_download(self):
        """Get cancel_mission_download (blocking)"""

        result_code = self._lib.mavsdk_mission_cancel_mission_download(
            self._handle,
        )
        result = MissionResult(result_code)
        if result != MissionResult.SUCCESS:
            raise Exception(f"cancel_mission_download failed: {result}")

        return result

    def start_mission_async(self, callback: Callable, user_data: Any = None):
        """Start the mission.

        A mission must be uploaded to the vehicle before this can be called."""

        def c_callback(result, ud):
            try:
                py_result = MissionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in start_mission callback: {e}")

        cb = StartMissionCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_mission_start_mission_async(self._handle, cb, None)

    def start_mission(self):
        """Get start_mission (blocking)"""

        result_code = self._lib.mavsdk_mission_start_mission(
            self._handle,
        )
        result = MissionResult(result_code)
        if result != MissionResult.SUCCESS:
            raise Exception(f"start_mission failed: {result}")

        return result

    def pause_mission_async(self, callback: Callable, user_data: Any = None):
        """Pause the mission.

        Pausing the mission puts the vehicle into
        [HOLD mode](https://docs.px4.io/en/flight_modes/hold.html).
        A multicopter should just hover at the spot while a fixedwing vehicle should loiter
        around the location where it paused."""

        def c_callback(result, ud):
            try:
                py_result = MissionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in pause_mission callback: {e}")

        cb = PauseMissionCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_mission_pause_mission_async(self._handle, cb, None)

    def pause_mission(self):
        """Get pause_mission (blocking)"""

        result_code = self._lib.mavsdk_mission_pause_mission(
            self._handle,
        )
        result = MissionResult(result_code)
        if result != MissionResult.SUCCESS:
            raise Exception(f"pause_mission failed: {result}")

        return result

    def clear_mission_async(self, callback: Callable, user_data: Any = None):
        """Clear the mission saved on the vehicle."""

        def c_callback(result, ud):
            try:
                py_result = MissionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in clear_mission callback: {e}")

        cb = ClearMissionCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_mission_clear_mission_async(self._handle, cb, None)

    def clear_mission(self):
        """Get clear_mission (blocking)"""

        result_code = self._lib.mavsdk_mission_clear_mission(
            self._handle,
        )
        result = MissionResult(result_code)
        if result != MissionResult.SUCCESS:
            raise Exception(f"clear_mission failed: {result}")

        return result

    def set_current_mission_item_async(
        self, index, callback: Callable, user_data: Any = None
    ):
        """Sets the mission item index to go to.

        By setting the current index to 0, the mission is restarted from the beginning. If it is set
        to a specific index of a mission item, the mission will be set to this item.

        Note that this is not necessarily true for general missions using MAVLink if loop counters
        are used."""

        def c_callback(result, ud):
            try:
                py_result = MissionResult(result)

                callback(py_result, user_data)

            except Exception as e:
                print(f"Error in set_current_mission_item callback: {e}")

        cb = SetCurrentMissionItemCallback(c_callback)
        self._callbacks.append(cb)

        self._lib.mavsdk_mission_set_current_mission_item_async(
            self._handle, index, cb, None
        )

    def set_current_mission_item(self, index):
        """Get set_current_mission_item (blocking)"""

        result_code = self._lib.mavsdk_mission_set_current_mission_item(
            self._handle,
            index,
        )
        result = MissionResult(result_code)
        if result != MissionResult.SUCCESS:
            raise Exception(f"set_current_mission_item failed: {result}")

        return result

    def is_mission_finished(self):
        """Get is_mission_finished (blocking)"""

        result_out = ctypes.c_bool()

        result_code = self._lib.mavsdk_mission_is_mission_finished(
            self._handle, ctypes.byref(result_out)
        )
        result = MissionResult(result_code)
        if result != MissionResult.SUCCESS:
            raise Exception(f"is_mission_finished failed: {result}")

        return result_out.value

    def subscribe_mission_progress(self, callback: Callable, user_data: Any = None):
        """Subscribe to mission progress updates."""

        def c_callback(c_data, ud):
            try:
                py_data = MissionProgress.from_c_struct(c_data)

                self._lib.mavsdk_mission_mission_progress_destroy(ctypes.byref(c_data))

                callback(py_data, user_data)

            except Exception as e:
                print(f"Error in mission_progress callback: {e}")

        cb = MissionProgressCallback(c_callback)
        self._callbacks.append(cb)

        return self._lib.mavsdk_mission_subscribe_mission_progress(
            self._handle, cb, None
        )

    def unsubscribe_mission_progress(self, handle: ctypes.c_void_p):
        """Unsubscribe from mission_progress"""
        self._lib.mavsdk_mission_unsubscribe_mission_progress(self._handle, handle)

    def mission_progress(self):
        """Get mission_progress (blocking)"""

        result_out = MissionProgressCStruct()

        self._lib.mavsdk_mission_mission_progress(
            self._handle, ctypes.byref(result_out)
        )

        py_result = MissionProgress.from_c_struct(result_out)
        self._lib.mavsdk_mission_mission_progress_destroy(ctypes.byref(result_out))
        return py_result

    def get_return_to_launch_after_mission(self):
        """Get get_return_to_launch_after_mission (blocking)"""

        result_out = ctypes.c_bool()

        result_code = self._lib.mavsdk_mission_get_return_to_launch_after_mission(
            self._handle, ctypes.byref(result_out)
        )
        result = MissionResult(result_code)
        if result != MissionResult.SUCCESS:
            raise Exception(f"get_return_to_launch_after_mission failed: {result}")

        return result_out.value

    def set_return_to_launch_after_mission(self, enable):
        """Get set_return_to_launch_after_mission (blocking)"""

        result_code = self._lib.mavsdk_mission_set_return_to_launch_after_mission(
            self._handle,
            enable,
        )
        result = MissionResult(result_code)
        if result != MissionResult.SUCCESS:
            raise Exception(f"set_return_to_launch_after_mission failed: {result}")

        return result

    def destroy(self):
        """Destroy the plugin instance"""
        if self._handle:
            self._lib.mavsdk_mission_destroy(self._handle)
            self._handle = None

    def __del__(self):
        self.destroy()


# ===== Callback Types =====
UploadMissionCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
UploadMissionWithProgressCallback = ctypes.CFUNCTYPE(
    None, ctypes.c_int, ProgressDataCStruct, ctypes.c_void_p
)
DownloadMissionCallback = ctypes.CFUNCTYPE(
    None, ctypes.c_int, MissionPlanCStruct, ctypes.c_void_p
)
DownloadMissionWithProgressCallback = ctypes.CFUNCTYPE(
    None, ctypes.c_int, ProgressDataOrMissionCStruct, ctypes.c_void_p
)
StartMissionCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
PauseMissionCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
ClearMissionCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
SetCurrentMissionItemCallback = ctypes.CFUNCTYPE(None, ctypes.c_int, ctypes.c_void_p)
MissionProgressCallback = ctypes.CFUNCTYPE(
    None, MissionProgressCStruct, ctypes.c_void_p
)

# ===== Setup Functions =====
_cmavsdk_lib.mavsdk_mission_create.argtypes = [ctypes.c_void_p]
_cmavsdk_lib.mavsdk_mission_create.restype = ctypes.c_void_p

_cmavsdk_lib.mavsdk_mission_destroy.argtypes = [ctypes.c_void_p]
_cmavsdk_lib.mavsdk_mission_destroy.restype = None

_cmavsdk_lib.mavsdk_mission_mission_item_destroy.argtypes = [
    ctypes.POINTER(MissionItemCStruct)
]
_cmavsdk_lib.mavsdk_mission_mission_item_destroy.restype = None

_cmavsdk_lib.mavsdk_mission_mission_plan_destroy.argtypes = [
    ctypes.POINTER(MissionPlanCStruct)
]
_cmavsdk_lib.mavsdk_mission_mission_plan_destroy.restype = None

_cmavsdk_lib.mavsdk_mission_mission_progress_destroy.argtypes = [
    ctypes.POINTER(MissionProgressCStruct)
]
_cmavsdk_lib.mavsdk_mission_mission_progress_destroy.restype = None

_cmavsdk_lib.mavsdk_mission_progress_data_destroy.argtypes = [
    ctypes.POINTER(ProgressDataCStruct)
]
_cmavsdk_lib.mavsdk_mission_progress_data_destroy.restype = None

_cmavsdk_lib.mavsdk_mission_progress_data_or_mission_destroy.argtypes = [
    ctypes.POINTER(ProgressDataOrMissionCStruct)
]
_cmavsdk_lib.mavsdk_mission_progress_data_or_mission_destroy.restype = None


_cmavsdk_lib.mavsdk_mission_upload_mission_async.argtypes = [
    ctypes.c_void_p,
    MissionPlanCStruct,
    UploadMissionCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_mission_upload_mission_async.restype = None

_cmavsdk_lib.mavsdk_mission_upload_mission.argtypes = [
    ctypes.c_void_p,
    MissionPlanCStruct,
]

_cmavsdk_lib.mavsdk_mission_upload_mission.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_mission_upload_mission_with_progress_async.argtypes = [
    ctypes.c_void_p,
    MissionPlanCStruct,
    UploadMissionWithProgressCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_mission_upload_mission_with_progress_async.restype = None


_cmavsdk_lib.mavsdk_mission_cancel_mission_upload.argtypes = [
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_mission_cancel_mission_upload.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_mission_download_mission_async.argtypes = [
    ctypes.c_void_p,
    DownloadMissionCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_mission_download_mission_async.restype = None

_cmavsdk_lib.mavsdk_mission_download_mission.argtypes = [
    ctypes.c_void_p,
    ctypes.POINTER(MissionPlanCStruct),
]

_cmavsdk_lib.mavsdk_mission_download_mission.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_mission_download_mission_with_progress_async.argtypes = [
    ctypes.c_void_p,
    DownloadMissionWithProgressCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_mission_download_mission_with_progress_async.restype = None


_cmavsdk_lib.mavsdk_mission_cancel_mission_download.argtypes = [
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_mission_cancel_mission_download.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_mission_start_mission_async.argtypes = [
    ctypes.c_void_p,
    StartMissionCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_mission_start_mission_async.restype = None

_cmavsdk_lib.mavsdk_mission_start_mission.argtypes = [
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_mission_start_mission.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_mission_pause_mission_async.argtypes = [
    ctypes.c_void_p,
    PauseMissionCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_mission_pause_mission_async.restype = None

_cmavsdk_lib.mavsdk_mission_pause_mission.argtypes = [
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_mission_pause_mission.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_mission_clear_mission_async.argtypes = [
    ctypes.c_void_p,
    ClearMissionCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_mission_clear_mission_async.restype = None

_cmavsdk_lib.mavsdk_mission_clear_mission.argtypes = [
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_mission_clear_mission.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_mission_set_current_mission_item_async.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int32,
    SetCurrentMissionItemCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_mission_set_current_mission_item_async.restype = None

_cmavsdk_lib.mavsdk_mission_set_current_mission_item.argtypes = [
    ctypes.c_void_p,
    ctypes.c_int32,
]

_cmavsdk_lib.mavsdk_mission_set_current_mission_item.restype = ctypes.c_int

_cmavsdk_lib.mavsdk_mission_is_mission_finished.argtypes = [
    ctypes.c_void_p,
    ctypes.POINTER(ctypes.c_bool),
]

_cmavsdk_lib.mavsdk_mission_is_mission_finished.restype = ctypes.c_int
_cmavsdk_lib.mavsdk_mission_subscribe_mission_progress.argtypes = [
    ctypes.c_void_p,
    MissionProgressCallback,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_mission_subscribe_mission_progress.restype = ctypes.c_void_p
# Unsubscribe
_cmavsdk_lib.mavsdk_mission_unsubscribe_mission_progress.argtypes = [
    ctypes.c_void_p,
    ctypes.c_void_p,
]

_cmavsdk_lib.mavsdk_mission_unsubscribe_mission_progress.restype = None

_cmavsdk_lib.mavsdk_mission_mission_progress.argtypes = [
    ctypes.c_void_p,
    ctypes.POINTER(MissionProgressCStruct),
]

_cmavsdk_lib.mavsdk_mission_mission_progress.restype = None

_cmavsdk_lib.mavsdk_mission_get_return_to_launch_after_mission.argtypes = [
    ctypes.c_void_p,
    ctypes.POINTER(ctypes.c_bool),
]

_cmavsdk_lib.mavsdk_mission_get_return_to_launch_after_mission.restype = ctypes.c_int

_cmavsdk_lib.mavsdk_mission_set_return_to_launch_after_mission.argtypes = [
    ctypes.c_void_p,
    ctypes.c_bool,
]

_cmavsdk_lib.mavsdk_mission_set_return_to_launch_after_mission.restype = ctypes.c_int
